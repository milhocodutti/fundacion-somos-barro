/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e,t={5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9877),o={};try{const e=r(3331);o["common.adsversion"]=null==e?void 0:e.version}catch(e){}class a{constructor(e,t,r,n){this.reporter=e,this.eventName=t,this.properties=r,this.measurements=n,this.properties=r||{},Object.assign(this.properties,o),this.measurements=n||{}}send(){try{this.reporter.sendTelemetryEvent(this.eventName,this.properties,this.measurements)}catch(e){const t=e instanceof Error?e.message:e;console.error(`Error sending ${this.eventName} event ${t}`)}}withAdditionalProperties(e){return Object.assign(this.properties,e),this}withAdditionalMeasurements(e){return Object.assign(this.measurements,e),this}withConnectionInfo(e){return Object.assign(this.properties,{authenticationType:e.authenticationType,providerName:e.providerName,serverType:e.serverType,engineType:e.engineType}),this}}t.default=class{constructor(e,t,r){this._telemetryReporter=new n.default(e,t,r)}createViewEvent(e){return new a(this._telemetryReporter,"view",{view:e})}sendViewEvent(e){this.createViewEvent(e).send()}createActionEvent(e,t,r="",n="",o){const i=o?{durationInMs:o}:{};return new a(this._telemetryReporter,"action",{view:e,action:t,target:r,source:n},i)}sendActionEvent(e,t,r="",n="",o){this.createActionEvent(e,t,r,n,o).send()}createMetricsEvent(e,t=""){return new a(this._telemetryReporter,"metrics",{groupName:t},e)}sendMetricsEvent(e,t=""){this.createMetricsEvent(e,t).send()}createErrorEvent(e,t,r="",n=""){return new a(this._telemetryReporter,"error",{view:e,name:t,errorCode:r,errorType:n})}sendErrorEvent(e,t,r="",n=""){this.createErrorEvent(e,t,r,n).send()}createTelemetryEvent(e,t,r){return new a(this._telemetryReporter,e,t,r)}sendTelemetryEvent(e,t,r){this.createTelemetryEvent(e,t,r).send()}dispose(){return this._telemetryReporter.dispose()}}},8185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const n=r(5747);t.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}},1107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split(".");if(void 0===r[0]||void 0===r[1])throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const n=Number.parseInt(r[0],10),o=Number.parseInt(r[1],10),a=n>10,i=10===n&&o>=10;t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=a||i},5923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.scandirSync=t.scandir=void 0;const n=r(1411),o=r(3953),a=r(6913);function i(e={}){return e instanceof a.default?e:new a.default(e)}t.Settings=a.default,t.scandir=function(e,t,r){"function"!=typeof t?n.read(e,i(t),r):n.read(e,i(),t)},t.scandirSync=function(e,t){const r=i(t);return o.read(e,r)}},1411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0;const n=r(6203),o=r(4595),a=r(1107),i=r(6582),s=r(4587);function c(e,t,r){t.fs.readdir(e,{withFileTypes:!0},((n,a)=>{if(null!==n)return void u(r,n);const c=a.map((r=>({dirent:r,name:r.name,path:s.joinPathSegments(e,r.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return void p(r,c);const l=c.map((e=>function(e,t){return r=>{e.dirent.isSymbolicLink()?t.fs.stat(e.path,((n,o)=>{if(null!==n)return t.throwErrorOnBrokenSymbolicLink?void r(n):void r(null,e);e.dirent=i.fs.createDirentFromStats(e.name,o),r(null,e)})):r(null,e)}}(e,t)));o(l,((e,t)=>{null===e?p(r,t):u(r,e)}))}))}function l(e,t,r){t.fs.readdir(e,((a,c)=>{if(null!==a)return void u(r,a);const l=c.map((r=>{const o=s.joinPathSegments(e,r,t.pathSegmentSeparator);return e=>{n.stat(o,t.fsStatSettings,((n,a)=>{if(null!==n)return void e(n);const s={name:r,path:o,dirent:i.fs.createDirentFromStats(r,a)};t.stats&&(s.stats=a),e(null,s)}))}}));o(l,((e,t)=>{null===e?p(r,t):u(r,e)}))}))}function u(e,t){e(t)}function p(e,t){e(null,t)}t.read=function(e,t,r){t.stats||!a.IS_SUPPORT_READDIR_WITH_FILE_TYPES?l(e,t,r):c(e,t,r)},t.readdirWithFileTypes=c,t.readdir=l},4587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=void 0,t.joinPathSegments=function(e,t,r){return e.endsWith(r)?e+t:e+r+t}},3953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0;const n=r(6203),o=r(1107),a=r(6582),i=r(4587);function s(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:i.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(n.path);n.dirent=a.fs.createDirentFromStats(n.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return n}))}function c(e,t){return t.fs.readdirSync(e).map((r=>{const o=i.joinPathSegments(e,r,t.pathSegmentSeparator),s=n.statSync(o,t.fsStatSettings),c={name:r,path:o,dirent:a.fs.createDirentFromStats(r,s)};return t.stats&&(c.stats=s),c}))}t.read=function(e,t){return!t.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES?s(e,t):c(e,t)},t.readdirWithFileTypes=s,t.readdir=c},6913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5622),o=r(6203),a=r(8185);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=a.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new o.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}}},322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},6582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fs=void 0;const n=r(322);t.fs=n},8980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const n=r(5747);t.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}},6203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statSync=t.stat=t.Settings=void 0;const n=r(2654),o=r(8946),a=r(8328);function i(e={}){return e instanceof a.default?e:new a.default(e)}t.Settings=a.default,t.stat=function(e,t,r){"function"!=typeof t?n.read(e,i(t),r):n.read(e,i(),t)},t.statSync=function(e,t){const r=i(t);return o.read(e,r)}},2654:(e,t)=>{"use strict";function r(e,t){e(t)}function n(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t,o){t.fs.lstat(e,((a,i)=>{null===a?i.isSymbolicLink()&&t.followSymbolicLink?t.fs.stat(e,((e,a)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?void r(o,e):void n(o,i);t.markSymbolicLink&&(a.isSymbolicLink=()=>!0),n(o,a)})):n(o,i):r(o,a)}))}},8946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t){const r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{const r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw e}}},8328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8980);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=n.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}}},5439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.walkStream=t.walkSync=t.walk=void 0;const n=r(9346),o=r(215),a=r(4078),i=r(8690);function s(e={}){return e instanceof i.default?e:new i.default(e)}t.Settings=i.default,t.walk=function(e,t,r){"function"!=typeof t?new n.default(e,s(t)).read(r):new n.default(e,s()).read(t)},t.walkSync=function(e,t){const r=s(t);return new a.default(e,r).read()},t.walkStream=function(e,t){const r=s(t);return new o.default(e,r).read()}},9346:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4714);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new n.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.push(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,this._storage)})),this._reader.read()}}},215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2413),o=r(4714);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new o.default(this._root,this._settings),this._stream=new n.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}}},4078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9555);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new n.default(this._root,this._settings)}read(){return this._reader.read()}}},4714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8614),o=r(5923),a=r(373),i=r(6865),s=r(5274);class c extends s.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=o.scandir,this._emitter=new n.EventEmitter,this._queue=a(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const r={directory:e,base:t};this._queue.push(r,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((r,n)=>{if(null===r){for(const t of n)this._handleEntry(t,e.base);t(null,void 0)}else t(r,void 0)}))}_handleError(e){!this._isDestroyed&&i.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const r=e.path;void 0!==t&&(e.path=i.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),i.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&i.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}t.default=c},6865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=t.replacePathSegmentSeparator=t.isAppliedFilter=t.isFatalError=void 0,t.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},t.joinPathSegments=function(e,t,r){return""===e?t:e.endsWith(r)?e+t:e+r+t}},5274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6865);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=n.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}}},9555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5923),o=r(6865),a=r(5274);class i extends a.default{constructor(){super(...arguments),this._scandir=n.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const r=this._scandir(e,this._settings.fsScandirSettings);for(const e of r)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(o.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const r=e.path;void 0!==t&&(e.path=o.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}t.default=i},8690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5622),o=r(5923);t.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.fsScandirSettings=new o.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}}},9877:(e,t,r)=>{var n,o=Object.create,a=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&h(e,r,t[r]);if(u)for(var r of u(t))m.call(t,r)&&h(e,r,t[r]);return e},g=(e,t)=>i(e,c(t)),v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of l(t))!d.call(e,o)&&o!==r&&a(e,o,{get:()=>t[o],enumerable:!(n=s(t,o))||n.enumerable});return e},y=(e,t,r)=>(r=null!=e?o(p(e)):{},b(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),x=v(((e,t)=>{"use strict";var r=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=r})),S=v((e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var n=vn(),o=r(8614),a=function(){function e(){}return e.prototype.active=function(){var e=this,r=n.CorrelationContextManager.getCurrentContext();return t(t({},r),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&r:(e._activeSymbol=t,r)},setValue:function(){}})},e.prototype.with=function(t,r){var o=t.parentSpanId,a=t.name,i=e._spanToContext(t,o,a);return n.CorrelationContextManager.runWithContext(i,r)()},e.prototype.bind=function(e){return"function"==typeof e?n.CorrelationContextManager.wrapCallback(e):(e instanceof o.EventEmitter&&n.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return n.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return n.CorrelationContextManager.disable(),this},e._spanToContext=function(e,r,o){var a=r?"|"+e.spanContext().traceId+"."+r+".":e.spanContext().traceId,i=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return n.CorrelationContextManager.spanToContextObject(i,a,o)},e}();e.OpenTelemetryScopeManagerWrapper=a,e.AsyncScopeManager=new a})),_=v(((e,t)=>{var r;e=t.exports=G,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],a=e.src=[],i=0,s=i++;a[s]="0|[1-9]\\d*";var c=i++;a[c]="[0-9]+";var l=i++;a[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=i++;a[u]="("+a[s]+")\\.("+a[s]+")\\.("+a[s]+")";var p=i++;a[p]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var d=i++;a[d]="(?:"+a[s]+"|"+a[l]+")";var m=i++;a[m]="(?:"+a[c]+"|"+a[l]+")";var h=i++;a[h]="(?:-("+a[d]+"(?:\\."+a[d]+")*))";var f=i++;a[f]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var g=i++;a[g]="[0-9A-Za-z-]+";var v=i++;a[v]="(?:\\+("+a[g]+"(?:\\."+a[g]+")*))";var b=i++,y="v?"+a[u]+a[h]+"?"+a[v]+"?";a[b]="^"+y+"$";var x="[v=\\s]*"+a[p]+a[f]+"?"+a[v]+"?",S=i++;a[S]="^"+x+"$";var _=i++;a[_]="((?:<|>)?=?)";var E=i++;a[E]=a[c]+"|x|X|\\*";var w=i++;a[w]=a[s]+"|x|X|\\*";var P=i++;a[P]="[v=\\s]*("+a[w]+")(?:\\.("+a[w]+")(?:\\.("+a[w]+")(?:"+a[h]+")?"+a[v]+"?)?)?";var T=i++;a[T]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[f]+")?"+a[v]+"?)?)?";var D=i++;a[D]="^"+a[_]+"\\s*"+a[P]+"$";var C=i++;a[C]="^"+a[_]+"\\s*"+a[T]+"$";var A=i++;a[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var j=i++;a[j]="(?:~>?)";var I=i++;a[I]="(\\s*)"+a[j]+"\\s+",o[I]=new RegExp(a[I],"g");var N=i++;a[N]="^"+a[j]+a[P]+"$";var O=i++;a[O]="^"+a[j]+a[T]+"$";var R=i++;a[R]="(?:\\^)";var k=i++;a[k]="(\\s*)"+a[R]+"\\s+",o[k]=new RegExp(a[k],"g");var F=i++;a[F]="^"+a[R]+a[P]+"$";var M=i++;a[M]="^"+a[R]+a[T]+"$";var L=i++;a[L]="^"+a[_]+"\\s*("+x+")$|^$";var q=i++;a[q]="^"+a[_]+"\\s*("+y+")$|^$";var B=i++;a[B]="(\\s*)"+a[_]+"\\s*("+x+"|"+a[P]+")",o[B]=new RegExp(a[B],"g");var V=i++;a[V]="^\\s*("+a[P]+")\\s+-\\s+("+a[P]+")\\s*$";var U=i++;a[U]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var $,H=i++;for(a[H]="(<|>)?=?\\s*\\*",$=0;$<35;$++)r($,a[$]),o[$]||(o[$]=new RegExp(a[$]));function z(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[S]:o[b]).test(e))return null;try{return new G(e,t)}catch{return null}}function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var a=e.trim().match(t.loose?o[S]:o[b]);if(!a)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}e.parse=z,e.valid=function(e,t){var r=z(e,t);return r?r.version:null},e.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return X(n,o)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new G(e,r).inc(t,n).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var r=z(e),n=z(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var a="prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return o+i;return a},e.compareIdentifiers=X;var W=/^[0-9]+$/;function X(e,t){var r=W.test(e),n=W.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function K(e,t,r){return new G(e,r).compare(new G(t,r))}function Q(e,t,r){return K(e,t,r)>0}function Y(e,t,r){return K(e,t,r)<0}function J(e,t,r){return 0===K(e,t,r)}function Z(e,t,r){return 0!==K(e,t,r)}function ee(e,t,r){return K(e,t,r)>=0}function te(e,t,r){return K(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Q(e,r,n);case">=":return ee(e,r,n);case"<":return Y(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return X(t,e)},e.major=function(e,t){return new G(e,t).major},e.minor=function(e,t){return new G(e,t).minor},e.patch=function(e,t){return new G(e,t).patch},e.compare=K,e.compareLoose=function(e,t){return K(e,t,!0)},e.rcompare=function(e,t,r){return K(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=Q,e.lt=Y,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var oe={};function ae(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof ne)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ie(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,r,n,o,a,i,s,c,l,u,p,d){return((t=ie(r)?"":ie(n)?">="+r+".0.0":ie(o)?">="+r+"."+n+".0":">="+t)+" "+(s=ie(c)?"":ie(l)?"<"+(+c+1)+".0.0":ie(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+s)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var a=e[o].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ae(t,r)}catch{return!1}return t.test(e)}function ue(e,t,r,n){var o,a,i,s,c;switch(e=new G(e,n),t=new ae(t,n),r){case">":o=Q,a=te,i=Y,s=">",c=">=";break;case"<":o=Y,a=ee,i=Q,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:i(e.semver,d.semver,n)&&(d=e)})),p.operator===s||p.operator===c||(!d.operator||d.operator===s)&&a(e,d.semver))return!1;if(d.operator===c&&i(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[L]:o[q],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new G(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new G(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ae(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ae(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||a&&i||s||c},e.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[U]:o[V];e=e.replace(n,se),r("hyphen replace",e),e=e.replace(o[B],"$1$2$3"),r("comparator trim",e,o[B]),e=(e=(e=e.replace(o[I],"$1~")).replace(o[k],"$1^")).split(/\s+/).join(" ");var a=t?o[L]:o[q],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[F];return e.replace(n,(function(t,n,o,a,i){var s;return r("caret",e,t,n,o,a,i),ie(n)?s="":ie(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ie(a)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(r("replaceCaret pr",i),s="0"===n?"0"===o?">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+o+"."+(+a+1):">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+a+"-"+i+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+a+" <"+n+"."+o+"."+(+a+1):">="+n+"."+o+"."+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+a+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[O]:o[N];return e.replace(n,(function(t,n,o,a,i){var s;return r("tilde",e,t,n,o,a,i),ie(n)?s="":ie(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ie(a)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(r("replaceTilde pr",i),s=">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+a+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[C]:o[D];return e.replace(n,(function(t,n,o,a,i,s){r("xRange",e,t,n,o,a,i,s);var c=ie(o),l=c||ie(a),u=l||ie(i);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(a=0),i=0,">"===n?(n=">=",l?(o=+o+1,a=0,i=0):(a=+a+1,i=0)):"<="===n&&(n="<",l?o=+o+1:a=+a+1),t=n+o+"."+a+"."+i):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+a+".0 <"+o+"."+(+a+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(a)}))),i.map((function(e){return new ne(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,o=null;try{var a=new ae(t,r)}catch{return null}return e.forEach((function(e){a.test(e)&&(!n||-1===o.compare(e))&&(o=new G(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,o=null;try{var a=new ae(t,r)}catch{return null}return e.forEach((function(e){a.test(e)&&(!n||1===o.compare(e))&&(o=new G(n=e,r))})),n},e.minVersion=function(e,t){e=new ae(e,t);var r=new G("0.0.0");if(e.test(r)||(r=new G("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Q(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,r){return ue(e,t,"<",r)},e.gtr=function(e,t,r){return ue(e,t,">",r)},e.outside=ue,e.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new ae(e,r),t=new ae(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(o[A]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),E=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=r(5622),n=_(),o=r(2282),a=Object.keys(process.binding("natives")),i=o.prototype.require;e.makePatchingRequire=function(e){var r={};return function(s){var c=i.apply(this,arguments);if(e[s]){var l=o._resolveFilename(s,this);if(r.hasOwnProperty(l))return r[l];var u=void 0;if(a.indexOf(s)<0)try{u=i.call(this,t.join(s,"package.json")).version}catch{return c}else u=process.version.substring(1);var p=u.indexOf("-");p>=0&&(u=u.substring(0,p));for(var d=c,m=0,h=e[s];m<h.length;m++){var f=h[m];n.satisfies(u,f.versionSpecifier)&&(d=f.patch(d,l))}return r[l]=d}return c}}})),w=v(((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),P=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=E(),n=E();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return n.makePatchingRequire}});var o=function(e){return!0},a=function(){function e(){this.version=w().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch{}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=o);var n=this.subscribers[e];if(n)for(var a=0;a<n.length;++a)if(n[a].listener===t&&n[a].filter===r)return n.splice(a,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new a,r(2282).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),T=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),D=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==typeof globalThis?globalThis:global})),C=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(D(),e)})),A=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(C(),e)})),j=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),I=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=j(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(e){var t=new Set([e]),n=new Set,o=e.match(r);if(!o)return function(){return!1};var a=+o[1],i=+o[2],s=+o[3];if(null!=o[4])return function(t){return t===e};function c(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var o=e.match(r);if(!o)return c(e);var u=+o[1],p=+o[2],d=+o[3];return null!=o[4]||a!==u?c(e):0===a?i===p&&s<=d?l(e):c(e):i<=p?l(e):c(e)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)})),N=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=A(),r=j(),n=I(),o=r.VERSION.split(".")[0],a=Symbol.for("opentelemetry.js.api."+o),i=t._globalThis;e.registerGlobal=function(e,t,n,o){var s;void 0===o&&(o=!1);var c=i[a]=null!==(s=i[a])&&void 0!==s?s:{version:r.VERSION};if(!o&&c[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}return c.version!==r.VERSION?(l=new Error("@opentelemetry/api: All API registration versions must match"),n.error(l.stack||l.message),!1):(c[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+r.VERSION+"."),!0)},e.getGlobal=function(e){var t,r,o=null===(t=i[a])||void 0===t?void 0:t.version;if(o&&n.isCompatible(o))return null===(r=i[a])||void 0===r?void 0:r[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+r.VERSION+".");var n=i[a];n&&delete n[e]}})),O=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=N(),r=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("verbose",this._namespace,e)},e}();function n(e,r,n){var o=t.getGlobal("diag");if(o)return n.unshift(r),o[e].apply(o,n)}e.DiagComponentLogger=r})),R=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),k=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=R();e.createLogLevelDiagLogger=function(e,r){function n(t,n){var o=r[t];return"function"==typeof o&&e>=n?o.bind(r):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),r=r||{},{error:n("error",t.DiagLogLevel.ERROR),warn:n("warn",t.DiagLogLevel.WARN),info:n("info",t.DiagLogLevel.INFO),debug:n("debug",t.DiagLogLevel.DEBUG),verbose:n("verbose",t.DiagLogLevel.VERBOSE)}}})),F=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=O(),r=k(),n=R(),o=N(),a=function(){function e(){function e(e){return function(){var t=o.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var a=this;a.setLogger=function(e,t){var i,s;if(void 0===t&&(t=n.DiagLogLevel.INFO),e===a){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return a.error(null!==(i=c.stack)&&void 0!==i?i:c.message),!1}var l=o.getGlobal("diag"),u=r.createLogLevelDiagLogger(t,e);if(l){var p=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),u.warn("Current logger will overwrite one already registered from "+p)}return o.registerGlobal("diag",u,a,!0)},a.disable=function(){o.unregisterGlobal("diag",a)},a.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},a.verbose=e("verbose"),a.debug=e("debug"),a.info=e("info"),a.warn=e("warn"),a.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=a})),M=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),o=0,a=t;o<a.length;o++){var i=a[o];n._entries.delete(i)}return n},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),L=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),q=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=F(),r=M(),n=L(),o=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new r.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return e}}}})),B=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),V=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),U=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(var r=0;r<t.length;r++)this[t[r].n]=e(t[r].c)}})),$=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(U(),e),r(R(),e)})),H=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,r){null!=e&&(e[t]=r)}}})),z=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),G=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),W=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}})),X=v((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var r=W(),n=function(){function e(){}return e.prototype.active=function(){return r.ROOT_CONTEXT},e.prototype.with=function(e,r,n){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return r.call.apply(r,t([n],o))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=n})),K=v((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var r=X(),n=N(),o=F(),a="context",i=new r.NoopContextManager,s=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return n.registerGlobal(a,e,o.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,r,n){for(var o,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(o=this._getContextManager()).with.apply(o,t([e,r,n],a))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return n.getGlobal(a)||i},e.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(a,o.DiagAPI.instance())},e}();e.ContextAPI=s})),Q=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),Y=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=Q();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),J=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=Y(),r=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=r})),Z=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=W(),r=J(),n=t.createContextKey("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(n)||void 0}function a(e,t){return e.setValue(n,t)}e.getSpan=o,e.setSpan=a,e.deleteSpan=function(e){return e.deleteValue(n)},e.setSpanContext=function(e,t){return a(e,new r.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}})),ee=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=Y(),r=J(),n=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function a(e){return n.test(e)&&e!==t.INVALID_TRACEID}function i(e){return o.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=a,e.isValidSpanId=i,e.isSpanContextValid=function(e){return a(e.traceId)&&i(e.spanId)},e.wrapSpanContext=function(e){return new r.NonRecordingSpan(e)}})),te=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=K(),r=Z(),n=J(),o=ee(),a=t.ContextAPI.getInstance(),i=function(){function e(){}return e.prototype.startSpan=function(e,t,a){if(Boolean(null==t?void 0:t.root))return new n.NonRecordingSpan;var i=a&&r.getSpanContext(a);return function(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(i)&&o.isSpanContextValid(i)?new n.NonRecordingSpan(i):new n.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,n,o){var i,s,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(i=t,c=n):(i=t,s=n,c=o);var l=s??a.active(),u=this.startSpan(e,i,l),p=r.setSpan(l,u);return a.with(p,c,void 0,u)}},e}();e.NoopTracer=i})),re=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(te().NoopTracer),r=function(){function e(e,t,r){this._provider=e,this.name=t,this.version=r}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=r})),ne=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=te(),r=function(){function e(){}return e.prototype.getTracer=function(e,r){return new t.NoopTracer},e}();e.NoopTracerProvider=r})),oe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=re(),r=new(ne().NoopTracerProvider),n=function(){function e(){}return e.prototype.getTracer=function(e,r){var n;return null!==(n=this.getDelegateTracer(e,r))&&void 0!==n?n:new t.ProxyTracer(this,e,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:r},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t)},e}();e.ProxyTracerProvider=n})),ae=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ie=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),se=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ce=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),le=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ue=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),pe=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),de=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),me=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),he=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),fe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ge=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=N(),r=oe(),n=ee(),o=Z(),a=F(),i="trace",s=function(){function e(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var r=t.registerGlobal(i,this._proxyTracerProvider,a.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},e.prototype.getTracerProvider=function(){return t.getGlobal(i)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(i,a.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},e}();e.TraceAPI=s})),ve=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),be=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=W().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,r){return e.setValue(t,r)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),ye=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=N(),r=ve(),n=H(),o=be(),a=q(),i=F(),s="propagation",c=new r.NoopTextMapPropagator,l=function(){function e(){this.createBaggage=a.createBaggage,this.getBaggage=o.getBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(s,e,i.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=n.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=n.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(s,i.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(s)||c},e}();e.PropagationAPI=l})),xe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(T(),e);var n=q();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(B(),e),r(V(),e),r($(),e),r(H(),e),r(z(),e),r(G(),e),r(re(),e),r(oe(),e),r(ae(),e),r(ie(),e),r(se(),e),r(ce(),e),r(le(),e),r(ue(),e),r(pe(),e),r(Q(),e),r(de(),e),r(me(),e),r(he(),e);var o=ee();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return o.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return o.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return o.isValidSpanId}});var a=Y();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return a.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return a.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return a.INVALID_SPAN_CONTEXT}}),r(W(),e),r(fe(),e);var i=K();e.context=i.ContextAPI.getInstance();var s=ge();e.trace=s.TraceAPI.getInstance();var c=ye();e.propagation=c.PropagationAPI.getInstance();var l=F();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),Se=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=xe().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),_e=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),Ee=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=xe(),r=_e();e.serializeKeyPairs=e=>e.reduce(((e,t)=>{let n=`${e}${""!==e?r.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>r.BAGGAGE_MAX_TOTAL_LENGTH?e:n}),""),e.getKeyPairs=e=>e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=>{let n=e.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(n.length<=0)return;let o=n.shift();if(!o)return;let a=o.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==a.length)return;let i,s=decodeURIComponent(a[0].trim()),c=decodeURIComponent(a[1].trim());return n.length>0&&(i=t.baggageEntryMetadataFromString(n.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:c,metadata:i}},e.parseKeyPairsIntoRecord=t=>"string"!=typeof t||0===t.length?{}:t.split(r.BAGGAGE_ITEMS_SEPARATOR).map((t=>e.parsePairKeyValue(t))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})})),we=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=xe(),r=Se(),n=_e(),o=Ee();e.HttpBaggagePropagator=class{inject(e,a,i){let s=t.propagation.getBaggage(e);if(!s||r.isTracingSuppressed(e))return;let c=o.getKeyPairs(s).filter((e=>e.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=o.serializeKeyPairs(c);l.length>0&&i.set(a,n.BAGGAGE_HEADER,l)}extract(e,r,a){let i=a.get(r,n.BAGGAGE_HEADER);if(!i)return e;let s={};return 0===i.length||(i.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{let t=o.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),s[t.key]=e}})),0===Object.entries(s).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(s))}fields(){return[n.BAGGAGE_HEADER]}}})),Pe=v((e=>{"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(r(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):r(e))}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let r={};if(null==e||"object"!=typeof e)return r;for(let[n,o]of Object.entries(e))t(o)&&(Array.isArray(o)?r[n]=o.slice():r[n]=o);return r},e.isAttributeValue=t})),Te=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=xe();e.loggingErrorHandler=function(){return e=>{t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){let t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;let n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}})),De=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Te().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=>{try{t(e)}catch{}}})),Ce=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),Ae=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=xe(),r=Ce(),n=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(e){return n.indexOf(e)>-1}var a=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function i(e){return a.indexOf(e)>-1}function s(e,t,r,n=-1/0,o=1/0){if(typeof r[e]<"u"){let a=Number(r[e]);isNaN(a)||(t[e]=a<n?n:a>o?o:a)}}function c(e,t,r,n=","){let o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((e=>e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var l={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function u(e,t,r){let n=r[e];if("string"==typeof n){let r=l[n.toUpperCase()];null!=r&&(t[e]=r)}}e.parseEnvironment=function(t){let r={};for(let n in e.DEFAULT_ENVIRONMENT){let e=n;switch(e){case"OTEL_LOG_LEVEL":u(e,r,t);break;default:if(o(e))s(e,r,t);else if(i(e))c(e,r,t);else{let n=t[e];typeof n<"u"&&null!==n&&(r[e]=String(n))}}}return r}})),je=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=r(2087),n=Ae();e.getEnv=function(){let e=n.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},n.DEFAULT_ENVIRONMENT,e)}})),Ie=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}})),Ne=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=r(16),this.generateSpanId=r(8)}};var t=Buffer.allocUnsafe(16);function r(e){return function(){for(let r=0;r<e/4;r++)t.writeUInt32BE(Math.random()*2**32>>>0,4*r);for(let r=0;r<e&&!(t[r]>0);r++)r===e-1&&(t[e-1]=1);return t.toString("hex",0,e)}}})),Oe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=r(630);e.otperformance=t.performance})),Re=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),ke=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),Fe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ke(),e)})),Me=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),Le=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Me(),e)})),qe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fe(),e),r(Le(),e)})),Be=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=Re(),r=qe();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),Ve=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),Ue=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(je(),e),r(Ie(),e),r(Ne(),e),r(Oe(),e),r(Be(),e),r(Ve(),e)})),$e=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ue(),e)})),He=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=$e(),r=Math.pow(10,9);function n(e){let t=e/1e3,n=Math.trunc(t);return[n,Number((t-n).toFixed(9))*r]}function o(){let e=t.otperformance.timeOrigin;if("number"!=typeof e){let r=t.otperformance;e=r.timing&&r.timing.fetchStart}return e}function a(e){let a=n(o()),i=n("number"==typeof e?e:t.otperformance.now()),s=a[0]+i[0],c=a[1]+i[1];return c>r&&(c-=r,s+=1),[s,c]}function i(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=a,e.timeInputToHrTime=function(e){if(i(e))return e;if("number"==typeof e)return e<o()?a(e):n(e);if(e instanceof Date)return n(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){let n=t[0]-e[0],o=t[1]-e[1];return o<0&&(n-=1,o+=r),[n,o]},e.hrTimeToTimeStamp=function(e){let t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},e.hrTimeToNanoseconds=function(e){return e[0]*r+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=i,e.isTimeInput=function(e){return i(e)||"number"==typeof e||e instanceof Date}})),ze=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ge=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),We=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=xe();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,r,n){for(let o of this._propagators)try{o.inject(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}}extract(e,r,n){return this._propagators.reduce(((e,o)=>{try{return o.extract(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),Xe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",r=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),n=/^[ -~]{0,255}[!-~]$/,o=/,|=/;e.validateKey=function(e){return r.test(e)},e.validateValue=function(e){return n.test(e)&&!o.test(e)}})),Ke=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=Xe(),r=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,r)=>{let n=r.trim(),o=n.indexOf("=");if(-1!==o){let a=n.slice(0,o),i=n.slice(o+1,r.length);t.validateKey(a)&&t.validateValue(i)&&e.set(a,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}};e.TraceState=r})),Qe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=xe(),r=Se(),n=Ke();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var o=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function a(e){let t=o.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=a,e.HttpTraceContextPropagator=class{inject(n,o,a){let i=t.trace.getSpanContext(n);if(!i||r.isTracingSuppressed(n)||!t.isSpanContextValid(i))return;let s=`00-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||t.TraceFlags.NONE).toString(16)}`;a.set(o,e.TRACE_PARENT_HEADER,s),i.traceState&&a.set(o,e.TRACE_STATE_HEADER,i.traceState.serialize())}extract(r,o,i){let s=i.get(o,e.TRACE_PARENT_HEADER);if(!s)return r;let c=Array.isArray(s)?s[0]:s;if("string"!=typeof c)return r;let l=a(c);if(!l)return r;l.isRemote=!0;let u=i.get(o,e.TRACE_STATE_HEADER);if(u){let e=Array.isArray(u)?u.join(","):u;l.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,l)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),Ye=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Je=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=xe().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),Ze=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=xe();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),et=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=xe();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),tt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=xe(),r=De(),n=Ze(),o=et();e.ParentBasedSampler=class{constructor(e){var t,a,i,s;this._root=e.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new o.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new o.AlwaysOnSampler,this._remoteParentNotSampled=null!==(a=e.remoteParentNotSampled)&&void 0!==a?a:new n.AlwaysOffSampler,this._localParentSampled=null!==(i=e.localParentSampled)&&void 0!==i?i:new o.AlwaysOnSampler,this._localParentNotSampled=null!==(s=e.localParentNotSampled)&&void 0!==s?s:new n.AlwaysOffSampler}shouldSample(e,r,n,o,a,i){let s=t.trace.getSpanContext(e);return s&&t.isSpanContextValid(s)?s.isRemote?s.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,o,a,i):this._remoteParentNotSampled.shouldSample(e,r,n,o,a,i):s.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,n,o,a,i):this._localParentNotSampled.shouldSample(e,r,n,o,a,i):this._root.shouldSample(e,r,n,o,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),rt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=xe();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,r){return{decision:t.isValidTraceId(r)&&this._accumulate(r)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){let n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}}})),nt=v((e=>{"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,r){if(!r)return!1;for(let n of r)if(t(e,n))return!0;return!1}})),ot=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),at=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,r(we(),e),r(Pe(),e),r(De(),e),r(Te(),e),r(He(),e),r(ze(),e),r(Ge(),e),r(Re(),e),e.baggageUtils=Ee(),r($e(),e),r(We(),e),r(Qe(),e),r(Ye(),e),r(Je(),e),r(Ze(),e),r(et(),e),r(tt(),e),r(rt(),e),r(Se(),e),r(Ke(),e),r(Ae(),e),r(Ce(),e),r(nt(),e),r(ot(),e),r(Re(),e)})),it=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),st=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=xe(),r=at(),n=qe(),o=it();e.Span=class{constructor(e,n,o,a,i,s,c=[],l=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=a,this.parentSpanId=s,this.kind=i,this.links=c,this.startTime=r.timeInputToHrTime(l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}spanContext(){return this._spanContext}setAttribute(e,n){return null==n||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):r.isAttributeValue(n)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=n),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,n,o){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(n)&&(typeof o>"u"&&(o=n),n=void 0),typeof o>"u"&&(o=r.hrTime()),this.events.push({name:e,attributes:n,time:r.timeInputToHrTime(o)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=r.hrTime()){this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=r.timeInputToHrTime(e),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,a=r.hrTime()){let i={};"string"==typeof e?i[n.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?i[n.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(i[n.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(i[n.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(i[n.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),i[n.SemanticAttributes.EXCEPTION_TYPE]||i[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(o.ExceptionEventName,i,a):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),ct=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=xe(),r=at(),n=r.getEnv(),o=r.TracesSamplerValues.AlwaysOn;function a(e=r.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(i(e));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(i(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${o}".`),new r.AlwaysOnSampler}}function i(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;let r=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(r)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):r<0||r>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):r}e.DEFAULT_CONFIG={sampler:a(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=a})),lt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=ct();e.mergeConfig=function(e){let r={sampler:t.buildSamplerFromEnv()},n=Object.assign({},t.DEFAULT_CONFIG,r,e);return n.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),n}})),ut=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=xe(),r=at(),n=st(),o=lt();e.Tracer=class{constructor(e,t,n){this._tracerProvider=n;let a=o.mergeConfig(t);this._sampler=a.sampler,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new r.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,o={},a=t.context.active()){var i,s;if(r.isTracingSuppressed(a))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let c,l,u,p=function(e,r){if(!e.root)return t.trace.getSpanContext(r)}(o,a),d=this._idGenerator.generateSpanId();p&&t.trace.isSpanContextValid(p)?(c=p.traceId,l=p.traceState,u=p.spanId):c=this._idGenerator.generateTraceId();let m=null!==(i=o.kind)&&void 0!==i?i:t.SpanKind.INTERNAL,h=null!==(s=o.links)&&void 0!==s?s:[],f=r.sanitizeAttributes(o.attributes),g=this._sampler.shouldSample(o.root?t.trace.setSpanContext(a,t.INVALID_SPAN_CONTEXT):a,c,e,m,f,h),v={traceId:c,spanId:d,traceFlags:g.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:l};if(g.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(v);let b=new n.Span(this,a,e,v,m,u,h,o.startTime);return b.setAttributes(Object.assign(f,g.attributes)),b}startActiveSpan(e,r,n,o){let a,i,s;if(arguments.length<2)return;2===arguments.length?s=r:3===arguments.length?(a=r,s=n):(a=r,i=n,s=o);let c=i??t.context.active(),l=this.startSpan(e,a,c),u=t.trace.setSpan(c,l);return t.context.with(u,s,void 0,l)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),pt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),dt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=bt(),n=xe(),o=r(1669);e.detectResources=async(e={})=>{let r=Object.assign(e),o=await Promise.all((r.detectors||[]).map((async e=>{try{let t=await e.detect(r);return n.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(r){return n.diag.debug(`${e.constructor.name} failed: ${r.message}`),t.Resource.empty()}})));return a(o),o.reduce(((e,t)=>e.merge(t)),t.Resource.empty())};var a=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){let t=o.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});n.diag.verbose(t)}}))}})),mt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=xe(),r=at(),n=qe(),o=St();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let a={},i=r.getEnv(),s=i.OTEL_RESOURCE_ATTRIBUTES,c=i.OTEL_SERVICE_NAME;if(s)try{let e=this._parseResourceAttributes(s);Object.assign(a,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return c&&(a[n.ResourceAttributes.SERVICE_NAME]=c),new o.Resource(a)}_parseResourceAttributes(e){if(!e)return{};let t={},r=e.split(this._COMMA_SEPARATOR,-1);for(let e of r){let r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,o]=r;if(n=n.trim(),o=o.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(o))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=o}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){let r=e.charAt(t);if(r<=" "||r>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}})),ht=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=xe(),r=qe(),n=St();e.processDetector=new class{async detect(e){let t={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,o){return""===e[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[r.ResourceAttributes.PROCESS_COMMAND]||""===e[r.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},e))}}})),ft=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(mt(),e),r(ht(),e)})),gt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(pt(),e),r(dt(),e),r(ft(),e)})),vt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(gt(),e)})),bt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=qe(),r=at(),n=vt(),o=class{constructor(e){this.attributes=e}static empty(){return o.EMPTY}static default(){return new o({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new o(t)}};e.Resource=o,o.EMPTY=new o({})})),yt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),St=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(bt(),e),r(vt(),e),r(yt(),e),r(xt(),e)})),_t=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=at();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((r=>{Promise.all(e).then((()=>{r()})).catch((e=>{t.globalErrorHandler(e||new Error("MultiSpanProcessor: forceFlush failed")),r()}))}))}onStart(e,t){for(let r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,r)=>{Promise.all(e).then((()=>{t()}),r)}))}}})),Et=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),wt=v(((e,t)=>{var r="__lodash_hash_undefined__",n=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object Object]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[o]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[i]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var u="object"==typeof global&&global&&global.Object===Object&&global,p="object"==typeof self&&self&&self.Object===Object&&self,d=u||p||Function("return this")(),m="object"==typeof e&&e&&!e.nodeType&&e,h=m&&"object"==typeof t&&t&&!t.nodeType&&t,f=h&&h.exports===m,g=f&&u.process,v=function(){try{return h&&h.require&&h.require("util").types||g&&g.binding&&g.binding("util")}catch{}}(),b=v&&v.isTypedArray;function y(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var x,S=Array.prototype,_=Function.prototype,E=Object.prototype,w=d["__core-js_shared__"],P=_.toString,T=E.hasOwnProperty,D=(x=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",C=E.toString,A=P.call(Object),j=RegExp("^"+P.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=f?d.Buffer:void 0,N=d.Symbol,O=d.Uint8Array,R=(I&&I.allocUnsafe,function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object)),k=Object.create,F=E.propertyIsEnumerable,M=S.splice,L=N?N.toStringTag:void 0,q=function(){try{var e=ae(Object,"defineProperty");return e({},"",{}),e}catch{}}(),B=I?I.isBuffer:void 0,V=Math.max,U=Date.now,$=ae(d,"Map"),H=ae(Object,"create"),z=function(){function e(){}return function(t){if(!ve(t))return{};if(k)return k(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function G(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=this.__data__=new W(e);this.size=t.size}function Q(e,t,r){(void 0!==r&&!ue(e[t],r)||void 0===r&&!(t in e))&&Z(e,t,r)}function Y(e,t,r){var n=e[t];(!T.call(e,t)||!ue(n,r)||void 0===r&&!(t in e))&&Z(e,t,r)}function J(e,t){for(var r=e.length;r--;)if(ue(e[r][0],t))return r;return-1}function Z(e,t,r){"__proto__"==t&&q?q(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}G.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return n===r?void 0:n}return T.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:T.call(t,e)},G.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?r:t,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(e){var t=this.__data__,r=J(t,e);return!(r<0||(r==t.length-1?t.pop():M.call(t,r,1),--this.size,0))},W.prototype.get=function(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]},W.prototype.has=function(e){return J(this.__data__,e)>-1},W.prototype.set=function(e,t){var r=this.__data__,n=J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new($||W),string:new G}},X.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return oe(this,e).get(e)},X.prototype.has=function(e){return oe(this,e).has(e)},X.prototype.set=function(e,t){var r=oe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},K.prototype.clear=function(){this.__data__=new W,this.size=0},K.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},K.prototype.get=function(e){return this.__data__.get(e)},K.prototype.has=function(e){return this.__data__.has(e)},K.prototype.set=function(e,t){var r=this.__data__;if(r instanceof W){var n=r.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new X(n)}return r.set(e,t),this.size=r.size,this};var ee=function(e,t,r){for(var n=-1,o=Object(e),a=r(e),i=a.length;i--;){var s=a[++n];if(!1===t(o[s],s,o))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=T.call(e,L),r=e[L];try{e[L]=void 0;var n=!0}catch{}var o=C.call(e);return n&&(t?e[L]=r:delete e[L]),o}(e):function(e){return C.call(e)}(e)}function re(e){return be(e)&&te(e)==o}function ne(e,t,r,n,o){e!==t&&ee(t,(function(a,s){if(o||(o=new K),ve(a))!function(e,t,r,n,o,a,s){var c=ce(e,r),l=ce(t,r),u=s.get(l);if(u)Q(e,r,u);else{var p=a?a(c,l,r+"",e,t,s):void 0,d=void 0===p;if(d){var m=de(l),h=!m&&he(l),f=!m&&!h&&ye(l);p=l,m||h||f?de(c)?p=c:function(e){return be(e)&&me(e)}(c)?p=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(c):h?(d=!1,p=function(e,t){return e.slice()}(l)):f?(d=!1,p=function(e,t){var r=function(e){var t=new e.constructor(e.byteLength);return new O(t).set(new O(e)),t}(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}(l)):p=[]:function(e){if(!be(e)||te(e)!=i)return!1;var t=R(e);if(null===t)return!0;var r=T.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&P.call(r)==A}(l)||pe(l)?(p=c,pe(c)?p=function(e){return function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],c=void 0;void 0===c&&(c=e[s]),o?Z(r,s,c):Y(r,s,c)}return r}(e,xe(e))}(c):(!ve(c)||fe(c))&&(p=function(e){return"function"!=typeof e.constructor||se(e)?{}:z(R(e))}(l))):d=!1}d&&(s.set(l,p),o(p,l,n,a,s),s.delete(l)),Q(e,r,p)}}(e,t,s,r,ne,n,o);else{var c=n?n(ce(e,s),a,s+"",e,t,o):void 0;void 0===c&&(c=a),Q(e,s,c)}}),xe)}function oe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ae(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ve(e)||function(e){return!!D&&D in e}(e))&&(fe(e)?j:s).test(function(e){if(null!=e){try{return P.call(e)}catch{}try{return e+""}catch{}}return""}(e))}(r)?r:void 0}function ie(e,t){var r=typeof e;return!!(t=t??n)&&("number"==r||"symbol"!=r&&c.test(e))&&e>-1&&e%1==0&&e<t}function se(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function ce(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var le=function(e){var t=0,r=0;return function(){var n=U(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(q?function(e,t){return q(e,"toString",{configurable:!0,enumerable:!1,value:_e(t),writable:!0})}:Ee);function ue(e,t){return e===t||e!=e&&t!=t}var pe=re(function(){return arguments}())?re:function(e){return be(e)&&T.call(e,"callee")&&!F.call(e,"callee")},de=Array.isArray;function me(e){return null!=e&&ge(e.length)&&!fe(e)}var he=B||function(){return!1};function fe(e){if(!ve(e))return!1;var t=te(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}var ye=b?function(e){return function(t){return e(t)}}(b):function(e){return be(e)&&ge(e.length)&&!!l[te(e)]};function xe(e){return me(e)?function(e,t){var r=de(e),n=!r&&pe(e),o=!r&&!n&&he(e),a=!r&&!n&&!o&&ye(e),i=r||n||o||a,s=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var l in e)(t||T.call(e,l))&&(!i||!("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ie(l,c)))&&s.push(l);return s}(e,!0):function(e){if(!ve(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=se(e),r=[];for(var n in e)"constructor"==n&&(t||!T.call(e,n))||r.push(n);return r}(e)}var Se=function(e){return function(e,t){return le(function(e,t,r){return t=V(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=V(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),y(e,this,s)}}(e,t,Ee),e+"")}((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&function(e,t,r){if(!ve(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ie(t,r.length):"string"==n&&t in r)&&ue(r[t],e)}(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n)}return t}))}((function(e,t,r){ne(e,t,r)}));function _e(e){return function(){return e}}function Ee(e){return e}t.exports=Se})),Pt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=xe(),r=at();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let n=r.getEnv();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{let r=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,n)=>{let o=setTimeout((()=>{n(new Error("Timeout"))}),this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=>{var a;clearTimeout(o),t.code===r.ExportResultCode.SUCCESS?e():n(null!==(a=t.error)&&void 0!==a?a:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{r.globalErrorHandler(e)}))}),this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),Tt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=Pt(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r})),Dt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Tt(),e)})),Ct=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Dt(),e)})),At=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,r,n=xe(),o=at(),a=St(),i=Lt(),s=ct(),c=_t(),l=Et(),u=wt(),p=Ct();(r=t=e.ForceFlushState||(e.ForceFlushState={}))[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved";var d=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let r=u({},s.DEFAULT_CONFIG,e);this.resource=null!==(t=r.resource)&&void 0!==t?t:a.Resource.empty(),this.resource=a.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});let n=this._buildExporterFromEnv();if(void 0!==n){let e=new p.BatchSpanProcessor(n);this.activeSpanProcessor=e}else this.activeSpanProcessor=new l.NoopSpanProcessor}getTracer(e,t){let r=`${e}@${t||""}`;return this._tracers.has(r)||this._tracers.set(r,new i.Tracer({name:e,version:t},this._config,this)),this._tracers.get(r)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>n.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&n.context.setGlobalContextManager(e.contextManager),e.propagator&&n.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map((r=>new Promise((n=>{let o,a=setTimeout((()=>{n(new Error(`Span processor did not completed within timeout period of ${e} ms`)),o=t.timeout}),e);r.forceFlush().then((()=>{clearTimeout(a),o!==t.timeout&&(o=t.resolved,n(o))})).catch((e=>{clearTimeout(a),o=t.error,n(e)}))}))));return new Promise(((e,n)=>{Promise.all(r).then((r=>{let o=r.filter((e=>e!==t.resolved));o.length>0?n(o):e()})).catch((e=>n([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=d._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=d._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(o.getEnv().OTEL_PROPAGATORS)),t=e.map((e=>{let t=this._getPropagator(e);return t||n.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new o.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=o.getEnv().OTEL_TRACES_EXPORTER;if("none"===e)return;let t=this._getSpanExporter(e);return t||n.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=d,d._registeredPropagators=new Map([["tracecontext",()=>new o.HttpTraceContextPropagator],["baggage",()=>new o.HttpBaggagePropagator]]),d._registeredExporters=new Map})),jt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=at();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,r){for(let t of e)console.log(this._exportInfo(t));if(r)return r({code:t.ExportResultCode.SUCCESS})}}})),It=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=at();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>r({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),Nt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ot=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=xe(),r=at();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),(()=>{this._exporter.export([e],(e=>{var t;e.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}}})),Rt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ft=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Lt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ut(),e),r(At(),e),r(Ct(),e),r(jt(),e),r(It(),e),r(Nt(),e),r(Ot(),e),r(Rt(),e),r(Et(),e),r(st(),e),r(kt(),e),r(Ft(),e),r(Mt(),e)})),qt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=P();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(n){if(r)return n;try{var o=Lt(),a=xe(),i=(new o.BasicTracerProvider).getTracer("applicationinsights tracer"),s=n.setTracer;n.setTracer=function(r){var n=r.startSpan;r.startSpan=function(e,r,o){var a=n.call(this,e,r,o),i=a.end;return a.end=function(){var e=i.apply(this,arguments);return t.channel.publish("azure-coretracing",a),e},a},r[e.AzureMonitorSymbol]=!0,s.call(this,r)},a.trace.getSpan(a.context.active()),n.setTracer(i),r=!0}catch{}return n}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),Bt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=P();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var r=e.prototype._emit;return e.prototype._emit=function(e,n){var o=r.apply(this,arguments);if(!n){var a=o;a||(a=r.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:a})}return o},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),Vt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=P(),n=r(2413);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var r=new n.Writable,o=new n.Writable;r.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish("console",{message:r}),!0},o.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish("console",{message:r,stderr:!0}),!0};for(var a=new e.Console(r,o),i=function(t){var r=e[t];r&&(e[t]=function(){if(a[t])try{a[t].apply(a,arguments)}catch{}return r.apply(e,arguments)})},s=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];s<c.length;s++)i(c[s]);return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),r(7082)}})),Ut=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=P();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var r=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=r.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),$t=v((e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=P();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var n=e.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext((function(e){return e()}))}}}),o={};return n.on("started",(function(e){o[e.requestId]||(o[e.requestId]=t(t({},e),{time:new Date}))})),n.on("succeeded",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),n.on("failed",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var n=e.instrument(),o={},a={};return n.on("started",(function(e){o[e.requestId]||(a[e.requestId]=r.channel.bindToContext((function(e){return e()})),o[e.requestId]=t(t({},e),{time:new Date}))})),n.on("succeeded",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"object"==typeof e&&"function"==typeof a[e.requestId]&&(a[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete a[e.requestId])})),n.on("failed",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"object"==typeof e&&"function"==typeof a[e.requestId]&&(a[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete a[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},o={};return t.on("started",(function(e){n[e.requestId]||(o[e.requestId]=r.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.enable=function(){r.channel.registerMonkeyPatch("mongodb",e.mongo2),r.channel.registerMonkeyPatch("mongodb",e.mongo3),r.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),Ht=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=P(),n=r(5622);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,o){var a=function(e,r){return function(r,n){var o=e[r];o&&(e[r]=function(){for(var e=arguments.length-1,r=arguments.length-1;r>=0;--r){if("function"==typeof arguments[r]){e=r;break}if(typeof arguments[r]<"u")break}var a=arguments[e],i={result:null,startTime:null,startDate:null};"function"==typeof a&&(n?(i.startTime=process.hrtime(),i.startDate=new Date,arguments[e]=t.channel.bindToContext(n(i,a))):arguments[e]=t.channel.bindToContext(a));var s=o.apply(this,arguments);return i.result=s,s})}},i=function(e,t){return a(e.prototype)},s=r(5029)(n.dirname(o)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return i(s)(e)})),a(s)("createQuery",(function(e,r){return function(n){var o=process.hrtime(e.startTime),a=1e3*o[0]+o[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:a,time:e.startDate}),r.apply(this,arguments)}}));var c=r(3437)(n.dirname(o)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return i(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),zt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=P();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var r=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),r.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),Gt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=P(),n=r(8614);e.postgres6={versionSpecifier:"6.*",patch:function(e,r){var o=e.Client.prototype.query,a="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,r,i){var s,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},l=process.hrtime();function u(e){e&&e[a]&&(e=e[a]);var r=t.channel.bindToContext((function(r,o){var a=process.hrtime(l);if(c.result=o&&{rowCount:o.rowCount,command:o.command},c.error=r,c.duration=Math.ceil(1e3*a[0]+a[1]/1e6),t.channel.publish("postgres",c),r){if(e)return e.apply(this,arguments);s&&s instanceof n.EventEmitter&&s.emit("error",r)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(r,a,{value:e}),r}catch{return e}}try{"string"==typeof e?r instanceof Array?(c.query.preparable={text:e,args:r},i=u(i)):(c.query.text=e,i?i=u(i):r=u(r)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,i?i=u(i):r?r=u(r):e.callback=u(e.callback))}catch{return o.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=i,arguments.length=arguments.length>3?arguments.length:3,s=o.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,r){var o=e.Client.prototype.query,a="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,r,i){var s,c=this,l=!!i,u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},p=process.hrtime();function d(e){e&&e[a]&&(e=e[a]);var r=t.channel.bindToContext((function(r,o){var a=process.hrtime(p);if(u.result=o&&{rowCount:o.rowCount,command:o.command},u.error=r,u.duration=Math.ceil(1e3*a[0]+a[1]/1e6),t.channel.publish("postgres",u),r){if(e)return e.apply(this,arguments);s&&s instanceof n.EventEmitter&&s.emit("error",r)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(r,a,{value:e}),r}catch{return e}}try{"string"==typeof e?r instanceof Array?(u.query.preparable={text:e,args:r},i=(l="function"==typeof i)?d(i):i):(u.query.text=e,i?i=(l="function"==typeof i)?d(i):i:r=(l="function"==typeof r)?d(r):r):("string"==typeof e.name?u.query.plan=e.name:e.values instanceof Array?u.query.preparable={text:e.text,args:e.values}:u.query.text=e.text,i?(l="function"==typeof i,i=d(i)):r?r=(l="function"==typeof r)?d(r):r:(l="function"==typeof e.callback,e.callback=l?d(e.callback):e.callback))}catch{return o.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=i,arguments.length=arguments.length>3?arguments.length:3,s=o.apply(this,arguments),l?s:s.then((function(e){return d()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return d()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),Wt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=P();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var r=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var o=this.address,a=process.hrtime(),i=new Date;e.callback=t.channel.bindToContext((function(r,s){var c=process.hrtime(a),l=1e3*c[0]+c[1]/1e6|0;t.channel.publish("redis",{duration:l,address:o,commandObj:e,err:r,result:s,time:i}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return r.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),Xt=v((e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var r=P();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var n=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var n=process.hrtime(),o={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext((function(a,i,s){var c=process.hrtime(n);o=t(t({},o),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!a&&{rowCount:i,rows:s},query:{text:this.parametersByName.statement.value},error:a,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),r.channel.publish("tedious",o),e.call(this,a,i,s)}))}var o=arguments[0];arguments[0].callback=e(o.callback),n.apply(this,arguments)},e}},e.enable=function(){r.channel.registerMonkeyPatch("tedious",e.tedious)}})),Kt=v((e=>{"use strict";var t,r=e&&e.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)},function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),n=e&&e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var o=P();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return r(t,e),t.prototype.log=function(e,t){var r=e.message,a=e.level,i=e.meta,s=n(e,["message","level","meta"]);a="function"==typeof Symbol.for?e[Symbol.for("level")]:a,r=e instanceof Error?e:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,a);for(var l in i=i||{},s)s.hasOwnProperty(l)&&(i[l]=s[l]);o.channel.publish("winston",{message:r,level:a,levelKind:c,meta:i}),t()},t}(e.Transport);function a(){var r,n=arguments[0].levels||e.config.npm.levels;for(var o in n)n.hasOwnProperty(o)&&(r=void 0===r||n[o]>n[r]?o:r);this.add(new t(e,{level:r}))}var i=e.createLogger;e.createLogger=function(){var r,n=arguments[0].levels||e.config.npm.levels;for(var o in n)n.hasOwnProperty(o)&&(r=void 0===r||n[o]>n[r]?o:r);var s=i.apply(this,arguments);s.add(new t(e,{level:r}));var c=s.configure;return s.configure=function(){c.apply(this,arguments),a.apply(this,arguments)},s};var s=e.configure;return e.configure=function(){s.apply(this,arguments),a.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,a){var i;return i=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",o.channel.publish("winston",{level:r,message:n,meta:a,levelKind:i}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},e.enable=function(){o.channel.registerMonkeyPatch("winston",e.winston2),o.channel.registerMonkeyPatch("winston",e.winston3)}})),Qt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=qt();e.azuresdk=t;var r=Bt();e.bunyan=r;var n=Vt();e.console=n;var o=Ut();e.mongodbCore=o;var a=$t();e.mongodb=a;var i=Ht();e.mysql=i;var s=zt();e.pgPool=s;var c=Gt();e.pg=c;var l=Wt();e.redis=l;var u=Xt();e.tedious=u;var p=Kt();e.winston=p,e.enable=function(){r.enable(),n.enable(),o.enable(),a.enable(),i.enable(),c.enable(),s.enable(),l.enable(),p.enable(),t.enable(),u.enable()}})),Yt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=S(),r=x();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n,o,a,i,s="DiagnosticChannel";if(e.IsInitialized){for(i in n=Qt(),o=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:n.bunyan,console:n.console,mongodb:n.mongodb,mongodbCore:n.mongodbCore,mysql:n.mysql,redis:n.redis,pg:n.pg,pgPool:n.pgPool,winston:n.winston,azuresdk:n.azuresdk})-1===o.indexOf(i)&&(a[i].enable(),r.info(s,"Subscribed to "+i+" events"));o.length>0&&r.info(s,"Some modules will not be patched",o)}else r.info(s,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(r){if(e.IsInitialized){var n=P();n.channel.addContextPreservation(r),n.channel.spanContextPropagator=t.AsyncScopeManager}}})),Jt=v(((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),Zt=v(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=r(8605),a=r(7211),i=r(8835),s=r(7619),c=x(),l=Jt(),u=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var o=t+"=",a=r.split(";"),i=0;i<a.length;i++)if(r=a[i],(r=e.trim(r))&&0===r.indexOf(o)){n=r.substring(o.length,a[i].length);break}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",o=0;o<4;o++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var a=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+a+n.substr(16,3)+n.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var o="",a=t[n],i=typeof a;if(e.isPrimitive(a))o=a.toString();else if(null===a||"undefined"===i)o="";else{if("function"===i){c.info("key: "+n+" was function; will not serialize");continue}var s=e.isArray(a)?a:e.extractObject(a);try{o=e.isPrimitive(s)?s:JSON.stringify(s)}catch(e){o=a.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+n+", could not be serialized")}}r[n]=o.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++)if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(i.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[l.requestContextHeader];if(r)for(var n=r.split(","),o=0;o<n.length;++o){var a=n[o].split("=");if(2==a.length&&a[0]==t)return a[1]}},e.makeRequest=function(t,r,s,l){r&&0===r.indexOf("//")&&(r="https:"+r);var u=i.parse(r),p=n(n({},s),{host:u.hostname,port:u.port,path:u.pathname}),d=void 0;if("https:"===u.protocol&&(d=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(d=t.proxyHttpUrl||void 0),d){0===d.indexOf("//")&&(d="http:"+d);var m=i.parse(d);"https:"===m.protocol?(c.info("Proxies that use HTTPS are not supported"),d=void 0):p=n(n({},p),{host:m.hostname,port:m.port||"80",path:r,headers:n(n({},p.headers),{Host:u.hostname})})}var h="https:"===u.protocol&&!d;return h&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:h||void 0===t.httpAgent?h&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,h?a.request(p,l):o.request(p,l)},e.safeIncludeCorrelationHeader=function(t,r,n){var o;if("string"==typeof n)o=n;else if(n instanceof Array)o=n.join(",");else if(n&&"function"==typeof n.toString)try{o=n.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}o?e.addCorrelationIdHeaderFromString(t,r,o):r.setHeader(l.requestContextHeader,l.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),o=l.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,o.length)===o}))||t.setHeader(l.requestContextHeader,r+","+l.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new a.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),e}();t.exports=u})),er=v(((e,t)=>{"use strict";var r=Zt(),n=x(),o=function(){function e(){}return e.queryCorrelationId=function(t,o){var a=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(a))o(e.completedLookups[a]);else if(e.pendingLookups[a])e.pendingLookups[a].push(o);else{e.pendingLookups[a]=[o];var i=function(){if(e.pendingLookups[a]){var o={method:"GET",disableAppInsightsAutoCollection:!0};n.info(e.TAG,o);var s=r.makeRequest(t,a,o,(function(r){if(200===r.statusCode){var o="";r.setEncoding("utf-8"),r.on("data",(function(e){o+=e})),r.on("end",(function(){n.info(e.TAG,o);var t=e.correlationIdPrefix+o;e.completedLookups[a]=t,e.pendingLookups[a]&&e.pendingLookups[a].forEach((function(e){return e(t)})),delete e.pendingLookups[a]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[a]=void 0,delete e.pendingLookups[a]):setTimeout(i,t.correlationIdRetryIntervalMs)}));s&&(s.on("error",(function(t){n.warn(e.TAG,t)})),s.end())}};setTimeout(i,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",o=e.pendingLookups[n];o&&(e.pendingLookups[n]=o.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,o){if(t.length+n.length<e.requestIdMaxLength)return t+n+o;var a=e.requestIdMaxLength-9;if(t.length>a)for(;a>1;--a){var i=t[a-1];if("."===i||"_"===i)break}if(a<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,a)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();t.exports=o})),tr=v(((e,t)=>{"use strict";var r=Zt(),n=er(),o=function(){function e(t,o){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var a=t.trim().split("-"),i=a.length;i>=4?(this.version=a[0],this.traceId=a[1],this.spanId=a[2],this.traceFlag=a[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==i&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(o){this.parentId=o.slice();var s=n.getRootId(o);e.isValidTraceId(s)||(this.legacyRootId=s,s=r.w3cTraceId()),-1!==o.indexOf("|")&&(o=o.substring(1+o.substring(0,o.length-1).lastIndexOf("."),o.length-1)),this.traceId=s,this.spanId=o}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=o})),rr=v(((e,t)=>{"use strict";var r=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),a=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&a}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},o=t.split(",");if(o.length>32)return null;for(var a=0,i=o;a<i.length;a++){var s=i[a].trim();if(0!==s.length){var c=s.split("=");if(2!==c.length||!e.validateKeyChars(c[0])||n[c[0]])return null;n[c[0]]=!0,r.push(s)}}return r},e.strict=!0,e}();t.exports=r})),nr=v(((e,t)=>{"use strict";t.exports=function(){}})),or=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),ar=v(((e,t)=>{"use strict";t.exports=function(){}})),ir=v(((e,t)=>{"use strict";t.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}})),sr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return e.call(this)||this}return n(t,e),t}(ar());t.exports=o})),cr=v(((e,t)=>{"use strict";var r,n;(n=r||(r={}))[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation",t.exports=r})),lr=v(((e,t)=>{"use strict";var r=cr();t.exports=function(){this.kind=r.Measurement}})),ur=v(((e,t)=>{"use strict";t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),pr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),dr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),mr=v(((e,t)=>{"use strict";t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),hr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return n(t,e),t}(nr());t.exports=o})),fr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return n(t,e),t}(nr());t.exports=o})),gr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(pr());t.exports=o})),vr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),br=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),yr=v(((e,t)=>{"use strict";var r,n;(n=r||(r={}))[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical",t.exports=r})),xr=v(((e,t)=>{"use strict";t.exports=function(){}})),Sr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=or(),e.Base=ar(),e.ContextTagKeys=ir(),e.Data=sr(),e.DataPoint=lr(),e.DataPointType=cr(),e.Domain=nr(),e.Envelope=ur(),e.EventData=pr(),e.ExceptionData=dr(),e.ExceptionDetails=mr(),e.MessageData=hr(),e.MetricData=fr(),e.PageViewData=gr(),e.RemoteDependencyData=vr(),e.RequestData=br(),e.SeverityLevel=yr(),e.StackFrame=xr()})),_r=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=Sr(),r=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=r,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),Er=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),wr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Pr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Tr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Cr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ar=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ir=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Nr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Or=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Rr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kr=v((e=>{"use strict";var t,r;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(r=t=e.TelemetryType||(e.TelemetryType={}))[r.Event=0]="Event",r[r.Exception=1]="Exception",r[r.Trace=2]="Trace",r[r.Metric=3]="Metric",r[r.Request=4]="Request",r[r.Dependency=5]="Dependency",r[r.Availability=6]="Availability",r[r.PageView=7]="PageView"})),Fr=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Er(),e),r(wr(),e),r(Pr(),e),r(Tr(),e),r(Dr(),e),r(Cr(),e),r(Ar(),e),r(jr(),e),r(Ir(),e),r(Nr(),e),r(Or(),e),r(Rr(),e),r(kr(),e)})),Mr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Lr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),qr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Br=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ur=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$r=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Hr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),zr=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Mr(),e),r(Lr(),e),r(qr(),e),r(Br(),e),r(Vr(),e),r(Ur(),e),r($r(),e),r(Hr(),e)})),Gr=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(_r(),e),r(Sr(),e),r(Fr(),e),r(zr(),e)})),Wr=v(((e,t)=>{"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var o in t)n[o]=t[o]&&t[o].toString&&t[o].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=r})),Xr=v(((e,t)=>{"use strict";var n,o=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=r(8835),i=Gr(),s=Zt(),c=Jt(),l=Wr(),u=er(),p=rr(),d=tr(),m=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return o(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+a.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+a.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=a.parse(e.url),n=r.pathname,o=r.search,i=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return a.format({protocol:i,host:e.headers.host,pathname:n,search:o})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(s.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=s.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,n=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,o=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,a=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,i=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,u.w3cEnabled&&(n||r)?(this.traceparent=new d(n?n.toString():null),this.tracestate=n&&r&&new p(r?r.toString():null),this.setBackCompatFromThisTraceContext()):o?u.w3cEnabled?(this.traceparent=new d(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=a,this.traceparent.legacyRootId=i||a,this.setBackCompatFromThisTraceContext()):(this.parentId=a,this.requestId=u.generateRequestId(i||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new i.ContextTagKeys,t}(l);t.exports=m})),Kr=v(((e,t)=>{var r;e=t.exports=G,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],a=e.src=[],i=0,s=i++;a[s]="0|[1-9]\\d*";var c=i++;a[c]="[0-9]+";var l=i++;a[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=i++;a[u]="("+a[s]+")\\.("+a[s]+")\\.("+a[s]+")";var p=i++;a[p]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var d=i++;a[d]="(?:"+a[s]+"|"+a[l]+")";var m=i++;a[m]="(?:"+a[c]+"|"+a[l]+")";var h=i++;a[h]="(?:-("+a[d]+"(?:\\."+a[d]+")*))";var f=i++;a[f]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var g=i++;a[g]="[0-9A-Za-z-]+";var v=i++;a[v]="(?:\\+("+a[g]+"(?:\\."+a[g]+")*))";var b=i++,y="v?"+a[u]+a[h]+"?"+a[v]+"?";a[b]="^"+y+"$";var x="[v=\\s]*"+a[p]+a[f]+"?"+a[v]+"?",S=i++;a[S]="^"+x+"$";var _=i++;a[_]="((?:<|>)?=?)";var E=i++;a[E]=a[c]+"|x|X|\\*";var w=i++;a[w]=a[s]+"|x|X|\\*";var P=i++;a[P]="[v=\\s]*("+a[w]+")(?:\\.("+a[w]+")(?:\\.("+a[w]+")(?:"+a[h]+")?"+a[v]+"?)?)?";var T=i++;a[T]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[f]+")?"+a[v]+"?)?)?";var D=i++;a[D]="^"+a[_]+"\\s*"+a[P]+"$";var C=i++;a[C]="^"+a[_]+"\\s*"+a[T]+"$";var A=i++;a[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var j=i++;a[j]="(?:~>?)";var I=i++;a[I]="(\\s*)"+a[j]+"\\s+",o[I]=new RegExp(a[I],"g");var N=i++;a[N]="^"+a[j]+a[P]+"$";var O=i++;a[O]="^"+a[j]+a[T]+"$";var R=i++;a[R]="(?:\\^)";var k=i++;a[k]="(\\s*)"+a[R]+"\\s+",o[k]=new RegExp(a[k],"g");var F=i++;a[F]="^"+a[R]+a[P]+"$";var M=i++;a[M]="^"+a[R]+a[T]+"$";var L=i++;a[L]="^"+a[_]+"\\s*("+x+")$|^$";var q=i++;a[q]="^"+a[_]+"\\s*("+y+")$|^$";var B=i++;a[B]="(\\s*)"+a[_]+"\\s*("+x+"|"+a[P]+")",o[B]=new RegExp(a[B],"g");var V=i++;a[V]="^\\s*("+a[P]+")\\s+-\\s+("+a[P]+")\\s*$";var U=i++;a[U]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var $,H=i++;for(a[H]="(<|>)?=?\\s*\\*",$=0;$<35;$++)r($,a[$]),o[$]||(o[$]=new RegExp(a[$]));function z(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[S]:o[b]).test(e))return null;try{return new G(e,t)}catch{return null}}function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var a=e.trim().match(t.loose?o[S]:o[b]);if(!a)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}e.parse=z,e.valid=function(e,t){var r=z(e,t);return r?r.version:null},e.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return X(n,o)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new G(e,r).inc(t,n).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var r=z(e),n=z(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var a="prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return o+i;return a},e.compareIdentifiers=X;var W=/^[0-9]+$/;function X(e,t){var r=W.test(e),n=W.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function K(e,t,r){return new G(e,r).compare(new G(t,r))}function Q(e,t,r){return K(e,t,r)>0}function Y(e,t,r){return K(e,t,r)<0}function J(e,t,r){return 0===K(e,t,r)}function Z(e,t,r){return 0!==K(e,t,r)}function ee(e,t,r){return K(e,t,r)>=0}function te(e,t,r){return K(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Q(e,r,n);case">=":return ee(e,r,n);case"<":return Y(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return X(t,e)},e.major=function(e,t){return new G(e,t).major},e.minor=function(e,t){return new G(e,t).minor},e.patch=function(e,t){return new G(e,t).patch},e.compare=K,e.compareLoose=function(e,t){return K(e,t,!0)},e.rcompare=function(e,t,r){return K(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=Q,e.lt=Y,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var oe={};function ae(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof ne)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ie(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,r,n,o,a,i,s,c,l,u,p,d){return((t=ie(r)?"":ie(n)?">="+r+".0.0":ie(o)?">="+r+"."+n+".0":">="+t)+" "+(s=ie(c)?"":ie(l)?"<"+(+c+1)+".0.0":ie(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+s)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var a=e[o].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ae(t,r)}catch{return!1}return t.test(e)}function ue(e,t,r,n){var o,a,i,s,c;switch(e=new G(e,n),t=new ae(t,n),r){case">":o=Q,a=te,i=Y,s=">",c=">=";break;case"<":o=Y,a=ee,i=Q,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:i(e.semver,d.semver,n)&&(d=e)})),p.operator===s||p.operator===c||(!d.operator||d.operator===s)&&a(e,d.semver))return!1;if(d.operator===c&&i(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[L]:o[q],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new G(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new G(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ae(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ae(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||a&&i||s||c},e.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[U]:o[V];e=e.replace(n,se),r("hyphen replace",e),e=e.replace(o[B],"$1$2$3"),r("comparator trim",e,o[B]),e=(e=(e=e.replace(o[I],"$1~")).replace(o[k],"$1^")).split(/\s+/).join(" ");var a=t?o[L]:o[q],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[F];return e.replace(n,(function(t,n,o,a,i){var s;return r("caret",e,t,n,o,a,i),ie(n)?s="":ie(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ie(a)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(r("replaceCaret pr",i),s="0"===n?"0"===o?">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+o+"."+(+a+1):">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+a+"-"+i+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+a+" <"+n+"."+o+"."+(+a+1):">="+n+"."+o+"."+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+a+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[O]:o[N];return e.replace(n,(function(t,n,o,a,i){var s;return r("tilde",e,t,n,o,a,i),ie(n)?s="":ie(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ie(a)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(r("replaceTilde pr",i),s=">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+a+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[C]:o[D];return e.replace(n,(function(t,n,o,a,i,s){r("xRange",e,t,n,o,a,i,s);var c=ie(o),l=c||ie(a),u=l||ie(i);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(a=0),i=0,">"===n?(n=">=",l?(o=+o+1,a=0,i=0):(a=+a+1,i=0)):"<="===n&&(n="<",l?o=+o+1:a=+a+1),t=n+o+"."+a+"."+i):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+a+".0 <"+o+"."+(+a+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(a)}))),i.map((function(e){return new ne(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,o=null;try{var a=new ae(t,r)}catch{return null}return e.forEach((function(e){a.test(e)&&(!n||-1===o.compare(e))&&(o=new G(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,o=null;try{var a=new ae(t,r)}catch{return null}return e.forEach((function(e){a.test(e)&&(!n||1===o.compare(e))&&(o=new G(n=e,r))})),n},e.minVersion=function(e,t){e=new ae(e,t);var r=new G("0.0.0");if(e.test(r)||(r=new G("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Q(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,r){return ue(e,t,"<",r)},e.gtr=function(e,t,r){return ue(e,t,">",r)},e.outside=ue,e.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new ae(e,r),t=new ae(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(o[A]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),Qr=v(((e,t)=>{"use strict";function r(e){return"function"==typeof e}var n=console.error.bind(console);function o(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function a(e){e&&e.logger&&(r(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function i(e,t,a){if(e&&e[t]){if(!a)return n("no wrapper function"),void n((new Error).stack);if(r(e[t])&&r(a)){var i=e[t],s=a(i,t);return o(s,"__original",i),o(s,"__unwrap",(function(){e[t]===s&&o(e,t,i)})),o(s,"__wrapped",!0),o(e,t,s),s}n("original object and wrapper must be functions")}else n("no original function "+t+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}a.wrap=i,a.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},a.unwrap=s,a.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):n("must provide one or more functions to unwrap on modules")},t.exports=a})),Yr=v(((e,t)=>{"use strict";var r=Qr(),n=r.wrap,o=r.unwrap,a="wrap@before";function i(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function s(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function c(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}t.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function l(e){return function(t,r){var o=s(this,t).slice();try{var i=e.call(this,t,r);return function(e,t,r){var n=s(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var o=t[n],i=e[a];if("function"==typeof i)i(o);else if(Array.isArray(i))for(var s=i.length,c=0;c<s;c++)i[c](o)}}(e,n)}(this,t,o),i}finally{this.on.__wrapped||n(this,"on",l),this.addListener.__wrapped||n(this,"addListener",l)}}}e[a]?"function"==typeof e[a]?i(e,a,[e[a],t]):Array.isArray(e[a])&&e[a].push(t):i(e,a,t),e.__wrapped||(n(e,"addListener",l),n(e,"on",l),n(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var a=this._events[t];function i(e){return function(){this._events[t]=a;try{return e.apply(this,arguments)}finally{a=this._events[t],this._events[t]=c(a,r)}}}n(this,"removeListener",i);try{return this._events[t]=c(a,r),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=a}}})),i(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[a],delete e.__wrapped})),i(e,"__wrapped",!0))}})),Jr=v(((e,t)=>{"use strict";var n=r(1669),o=r(2357),a=Yr(),i=r(8177),s="cls@contexts",c="error@context",l=process.env.DEBUG_CLS_HOOKED,u=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function d(e){return process.namespaces[e]}function m(e){let t=d(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function h(...e){l&&process._rawDebug(`${n.format(...e)}`)}t.exports={getNamespace:d,createNamespace:function(e){o.ok(e,"namespace must be given a name."),l&&h(`NS-CREATING NAMESPACE (${e})`);let t=new p(e);return t.id=u,i.createHook({init(r,o,a,s){if(u=i.executionAsyncId(),t.active)t._contexts.set(r,t.active),l&&h(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`);else if(0===u){let a=i.triggerAsyncId(),c=t._contexts.get(a);c?(t._contexts.set(r,c),l&&h(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)):l&&h(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}if(l&&"PROMISE"===o){h(n.inspect(s,{showHidden:!0}));let i=s.parentId;h(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${o}] (${e}) parentId:${i} asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}},before(r){let o;if(u=i.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(l){let a=i.triggerAsyncId();h(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`),t._indent+=2}t.enter(o)}else if(l){let o=i.triggerAsyncId();h(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${n.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){let o;if(u=i.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(l){let a=i.triggerAsyncId();t._indent-=2,h(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}t.exit(o)}else if(l){let a=i.triggerAsyncId();t._indent-=2,h(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${a} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}},destroy(r){if(u=i.executionAsyncId(),l){let o=i.triggerAsyncId();h(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${r} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(t._contexts.get(u))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:m,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){m(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,l&&h(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},p.prototype.get=function(e){if(this.active){if(l){let t=i.executionAsyncId(),r=i.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);h(o+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),h(`${o}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(l){let t=i.currentId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},p.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,l){let t=i.executionAsyncId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},p.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(l){let e=i.triggerAsyncId(),r=i.executionAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[c]=t),e}finally{if(l){let e=i.triggerAsyncId(),r=i.executionAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},p.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},p.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return l&&h("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(l&&h("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,l&&h("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{r.exit(t)}}},p.prototype.enter=function(e){if(o.ok(e,"context must be provided for entering"),l){let t=i.executionAsyncId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),l){let t=i.executionAsyncId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(l&&h("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},p.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;a(e,(function(e){!e||(e[s]||(e[s]=Object.create(null)),e[s][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[s])return e;let t=e,r=e[s];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},p.prototype.fromException=function(e){return e[c]},process.namespaces={}})),Zr=v(((e,t)=>{"use strict";function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);let o=new Array(arguments.length);for(let e=0;e<arguments.length;e++)o[e]=arguments[e];let a=o[0];if("function"!=typeof a)throw new TypeError("callback is not a function");let i=new r,s=--t.counter;return e.init.call(i,s,0,null,null),o[0]=function(){e.pre.call(i,s);let t=!0;try{a.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(i,s,!0),e.destroy.call(null,s)}))}e.post.call(i,s,!1),e.destroy.call(null,s)},n.apply(process,o)}}})),en=v(((e,t)=>{"use strict";function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=global.Promise,o=n.prototype.then;function a(t,r,n,o){return"function"!=typeof t?o?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}n.prototype.then=function(n,i){if(!t.enabled)return o.call(this,n,i);let s=new r,c=--t.counter;return e.init.call(s,c,0,null,null),o.call(this,a(n,s,c,!0),a(i,s,c,!1))}}})),tn=v(((e,t)=>{"use strict";var n=r(8213);function o(){}function a(){}function i(){}var s=new Map,c=new Map,l=new Map,u=null,p=!1;function d(e,t,r,o,a,i,s){let c=n[r],l=n[o];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);let r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];let o=r[0];if("function"!=typeof o)throw new TypeError('"callback" argument must be a function');let l,d=new a,m=--t.counter;return e.init.call(d,m,0,null,null),r[0]=function(){u=l,e.pre.call(d,m);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(d,m,!0),i.delete(l),e.destroy.call(null,m)}))}e.post.call(d,m,!1),u=null,(s||p)&&(p=!1,i.delete(l),e.destroy.call(null,m))},l=c.apply(n,r),i.set(l,m),l},n[o]=function(t){if(u===t&&null!==t)p=!0;else if(i.has(t)){let r=i.get(t);i.delete(t),e.destroy.call(null,r)}l.apply(n,arguments)}}t.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",o,s,!0),d(this._hooks,this._state,"setInterval","clearInterval",a,c,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",i,l,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}})),rn=v(((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),nn=v(((e,t)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,o={nextTick:Zr(),promise:en(),timers:tn()},a=new Set;function i(){this.enabled=!1,this.counter=0}function s(){let e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],o=this.destroyFns=[];this.init=function(t,r,o,i){if(r!==n)for(let n of e)n(t,this,r,o,i);else a.add(t)},this.pre=function(e){if(!a.has(e))for(let r of t)r(e,this)},this.post=function(e,t){if(!a.has(e))for(let n of r)n(e,this,t)},this.destroy=function(e){if(a.has(e))a.delete(e);else for(let t of o)t(e)}}function c(e,t){let r=e.indexOf(t);-1!==r&&e.splice(r,1)}function l(){this._state=new i,this._hooks=new s,this.version=rn().version,this.providers=r.Providers;for(let e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}s.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},s.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},t.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}})),on=v(((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),an=v(((e,t)=>{t.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch{return"<error>"}}}(e));for(var n=0;n<t.length;n++){var o,a=t[n];try{o=a.toString()}catch(e){try{o="<error: "+e+">"}catch{o="<error>"}}r.push("    at "+o)}return r.join("\n")}})),sn=v(((e,t)=>{var r=an();function n(){this.extend=new i,this.filter=new i,this.format=new s,this.version=on().version}var o=!1;n.prototype.callSite=function e(t){t||(t={}),o=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return o=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var a=new n;function i(){this._modifiers=[]}function s(){this._formater=r,this._previous=void 0}i.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},i.prototype.attach=function(e){this._modifiers.push(e)},i.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},s.prototype.replace=function(e){e?this._formater=e:this.restore()},s.prototype.restore=function(){this._formater=r,this._previous=void 0},s.prototype._backup=function(){this._previous=this._formater},s.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&a.format.replace(Error.prepareStackTrace);var c=!1;function l(e,t){if(o)return t;if(c)return r(e,t);var n=t.concat();n=a.extend._modify(e,n),n=(n=a.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),c=!0;var i=a.format._formater(e,n);return c=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?a.format._roolback():(a.format._backup(),a.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=a})),cn=v(((e,t)=>{if(global._stackChain){if(global._stackChain.version!==on().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=sn()})),ln=v(((e,t)=>{"use strict";var r=nn();if(global._asyncHook){if(global._asyncHook.version!==rn().version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else cn().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new r})),un=v(((e,t)=>{"use strict";var n=r(1669),o=r(2357),a=Yr(),i=ln(),s="cls@contexts",c="error@context",l=[];for(let e in i.providers)l[i.providers[e]]=e;var u,p,d=process.env.DEBUG_CLS_HOOKED,m=-1;function h(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function f(e){return process.namespaces[e]}function g(e){let t=f(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function v(e){process.env.DEBUG&&process._rawDebug(e)}function b(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:f,createNamespace:function(e){o.ok(e,"namespace must be given a name."),d&&v("CREATING NAMESPACE "+e);let t=new h(e);return t.id=m,i.addHooks({init(r,o,a,i,s){m=r,i?(t._contexts.set(r,t._contexts.get(i)),d&&v("PARENTID: "+e+" uid:"+r+" parent:"+i+" provider:"+a)):t._contexts.set(m,t.active),d&&v("INIT "+e+" uid:"+r+" parent:"+i+" provider:"+l[a]+" active:"+n.inspect(t.active,!0))},pre(r,o){m=r;let a=t._contexts.get(r);a?(d&&v(" PRE "+e+" uid:"+r+" handle:"+b(o)+" context:"+n.inspect(a)),t.enter(a)):d&&v(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+b(o))},post(r,o){m=r;let a=t._contexts.get(r);a?(d&&v(" POST "+e+" uid:"+r+" handle:"+b(o)+" context:"+n.inspect(a)),t.exit(a)):d&&v(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+b(o))},destroy(r){m=r,d&&v("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(m))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:g,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){g(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},h.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return d&&v("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+m+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},h.prototype.get=function(e){if(this.active)return d&&v("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+m+" active:"+n.inspect(this.active,!0)),this.active[e];d&&v("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+m+" active:"+n.inspect(this.active,!0))},h.prototype.createContext=function(){d&&v("   CREATING Context: "+this.name+" uid:"+m+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=m,d&&v("   CREATED Context: "+this.name+" uid:"+m+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},h.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return d&&v(" BEFORE RUN: "+this.name+" uid:"+m+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{d&&v(" AFTER RUN: "+this.name+" uid:"+m+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},h.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},h.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return d&&v(" BEFORE runPromise: "+this.name+" uid:"+m+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(d&&v(" AFTER runPromise: "+this.name+" uid:"+m+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,d&&v(" AFTER runPromise: "+this.name+" uid:"+m+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},h.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{r.exit(t)}}},h.prototype.enter=function(e){o.ok(e,"context must be provided for entering"),d&&v("  ENTER "+this.name+" uid:"+m+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},h.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),d&&v("  EXIT "+this.name+" uid:"+m+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(d&&v("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},h.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;a(e,(function(e){!e||(e[s]||(e[s]=Object.create(null)),e[s][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[s])return e;let t=e,r=e[s];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},h.prototype.fromException=function(e){return e[c]},process.namespaces={},i._state&&!i._state.enabled&&i.enable(),d)for(p in(u=cn()).filter._modifiers)u.filter.deattach(p)})),pn=v(((e,t)=>{"use strict";var r=Kr();process&&r.gte(process.versions.node,"8.0.0")?t.exports=Jr():t.exports=un()})),dn=v(((e,t)=>{var r;e=t.exports=G,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],a=e.src=[],i=0,s=i++;a[s]="0|[1-9]\\d*";var c=i++;a[c]="[0-9]+";var l=i++;a[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=i++;a[u]="("+a[s]+")\\.("+a[s]+")\\.("+a[s]+")";var p=i++;a[p]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var d=i++;a[d]="(?:"+a[s]+"|"+a[l]+")";var m=i++;a[m]="(?:"+a[c]+"|"+a[l]+")";var h=i++;a[h]="(?:-("+a[d]+"(?:\\."+a[d]+")*))";var f=i++;a[f]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var g=i++;a[g]="[0-9A-Za-z-]+";var v=i++;a[v]="(?:\\+("+a[g]+"(?:\\."+a[g]+")*))";var b=i++,y="v?"+a[u]+a[h]+"?"+a[v]+"?";a[b]="^"+y+"$";var x="[v=\\s]*"+a[p]+a[f]+"?"+a[v]+"?",S=i++;a[S]="^"+x+"$";var _=i++;a[_]="((?:<|>)?=?)";var E=i++;a[E]=a[c]+"|x|X|\\*";var w=i++;a[w]=a[s]+"|x|X|\\*";var P=i++;a[P]="[v=\\s]*("+a[w]+")(?:\\.("+a[w]+")(?:\\.("+a[w]+")(?:"+a[h]+")?"+a[v]+"?)?)?";var T=i++;a[T]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[f]+")?"+a[v]+"?)?)?";var D=i++;a[D]="^"+a[_]+"\\s*"+a[P]+"$";var C=i++;a[C]="^"+a[_]+"\\s*"+a[T]+"$";var A=i++;a[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var j=i++;a[j]="(?:~>?)";var I=i++;a[I]="(\\s*)"+a[j]+"\\s+",o[I]=new RegExp(a[I],"g");var N=i++;a[N]="^"+a[j]+a[P]+"$";var O=i++;a[O]="^"+a[j]+a[T]+"$";var R=i++;a[R]="(?:\\^)";var k=i++;a[k]="(\\s*)"+a[R]+"\\s+",o[k]=new RegExp(a[k],"g");var F=i++;a[F]="^"+a[R]+a[P]+"$";var M=i++;a[M]="^"+a[R]+a[T]+"$";var L=i++;a[L]="^"+a[_]+"\\s*("+x+")$|^$";var q=i++;a[q]="^"+a[_]+"\\s*("+y+")$|^$";var B=i++;a[B]="(\\s*)"+a[_]+"\\s*("+x+"|"+a[P]+")",o[B]=new RegExp(a[B],"g");var V=i++;a[V]="^\\s*("+a[P]+")\\s+-\\s+("+a[P]+")\\s*$";var U=i++;a[U]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var $,H=i++;for(a[H]="(<|>)?=?\\s*\\*",$=0;$<35;$++)r($,a[$]),o[$]||(o[$]=new RegExp(a[$]));function z(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[S]:o[b]).test(e))return null;try{return new G(e,t)}catch{return null}}function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var a=e.trim().match(t.loose?o[S]:o[b]);if(!a)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}e.parse=z,e.valid=function(e,t){var r=z(e,t);return r?r.version:null},e.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return X(n,o)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new G(e,r).inc(t,n).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var r=z(e),n=z(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var a="prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return o+i;return a},e.compareIdentifiers=X;var W=/^[0-9]+$/;function X(e,t){var r=W.test(e),n=W.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function K(e,t,r){return new G(e,r).compare(new G(t,r))}function Q(e,t,r){return K(e,t,r)>0}function Y(e,t,r){return K(e,t,r)<0}function J(e,t,r){return 0===K(e,t,r)}function Z(e,t,r){return 0!==K(e,t,r)}function ee(e,t,r){return K(e,t,r)>=0}function te(e,t,r){return K(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Q(e,r,n);case">=":return ee(e,r,n);case"<":return Y(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return X(t,e)},e.major=function(e,t){return new G(e,t).major},e.minor=function(e,t){return new G(e,t).minor},e.patch=function(e,t){return new G(e,t).patch},e.compare=K,e.compareLoose=function(e,t){return K(e,t,!0)},e.rcompare=function(e,t,r){return K(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=Q,e.lt=Y,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var oe={};function ae(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof ne)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ie(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,r,n,o,a,i,s,c,l,u,p,d){return((t=ie(r)?"":ie(n)?">="+r+".0.0":ie(o)?">="+r+"."+n+".0":">="+t)+" "+(s=ie(c)?"":ie(l)?"<"+(+c+1)+".0.0":ie(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+s)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var a=e[o].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ae(t,r)}catch{return!1}return t.test(e)}function ue(e,t,r,n){var o,a,i,s,c;switch(e=new G(e,n),t=new ae(t,n),r){case">":o=Q,a=te,i=Y,s=">",c=">=";break;case"<":o=Y,a=ee,i=Q,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:i(e.semver,d.semver,n)&&(d=e)})),p.operator===s||p.operator===c||(!d.operator||d.operator===s)&&a(e,d.semver))return!1;if(d.operator===c&&i(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[L]:o[q],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new G(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new G(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ae(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ae(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||a&&i||s||c},e.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[U]:o[V];e=e.replace(n,se),r("hyphen replace",e),e=e.replace(o[B],"$1$2$3"),r("comparator trim",e,o[B]),e=(e=(e=e.replace(o[I],"$1~")).replace(o[k],"$1^")).split(/\s+/).join(" ");var a=t?o[L]:o[q],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[F];return e.replace(n,(function(t,n,o,a,i){var s;return r("caret",e,t,n,o,a,i),ie(n)?s="":ie(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ie(a)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(r("replaceCaret pr",i),s="0"===n?"0"===o?">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+o+"."+(+a+1):">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+a+"-"+i+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+a+" <"+n+"."+o+"."+(+a+1):">="+n+"."+o+"."+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+a+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[O]:o[N];return e.replace(n,(function(t,n,o,a,i){var s;return r("tilde",e,t,n,o,a,i),ie(n)?s="":ie(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ie(a)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(r("replaceTilde pr",i),s=">="+n+"."+o+"."+a+"-"+i+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+a+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[C]:o[D];return e.replace(n,(function(t,n,o,a,i,s){r("xRange",e,t,n,o,a,i,s);var c=ie(o),l=c||ie(a),u=l||ie(i);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(a=0),i=0,">"===n?(n=">=",l?(o=+o+1,a=0,i=0):(a=+a+1,i=0)):"<="===n&&(n="<",l?o=+o+1:a=+a+1),t=n+o+"."+a+"."+i):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+a+".0 <"+o+"."+(+a+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(a)}))),i.map((function(e){return new ne(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,o=null;try{var a=new ae(t,r)}catch{return null}return e.forEach((function(e){a.test(e)&&(!n||-1===o.compare(e))&&(o=new G(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,o=null;try{var a=new ae(t,r)}catch{return null}return e.forEach((function(e){a.test(e)&&(!n||1===o.compare(e))&&(o=new G(n=e,r))})),n},e.minVersion=function(e,t){e=new ae(e,t);var r=new G("0.0.0");if(e.test(r)||(r=new G("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Q(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,r){return ue(e,t,"<",r)},e.gtr=function(e,t,r){return ue(e,t,">",r)},e.outside=ue,e.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new ae(e,r),t=new ae(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(o[A]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),mn=v(((e,t)=>{var r,n,o,a,i,s=Qr().wrap,c=[],l=0,u=!1,p=[];function d(e,t){var r=e.length,n=t.length,o=[];if(0===r&&0===n)return o;for(var a=0;a<r;a++)o[a]=e[a];if(0===n)return o;for(var i=0;i<n;i++){var s=!0;for(a=0;a<r;a++)if(e[a].uid===t[i].uid){s=!1;break}s&&o.push(t[i])}return o}function m(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++l,this.data=void 0===t?null:t}function h(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof m?e:new m(e,t)}process._fatalException?(o=!1,r=function(e){var t=c.length;if(o||0===t)return!1;var r=!1;o=!0;for(var n=0;n<t;++n){var i=c[n];if(0!=(8&i.flags)){var s=a&&a[i.uid];r=i.error(s,e)||r}}return o=!1,p.length>0&&(c=p.pop()),a=void 0,r&&!u},n=function(e,t,r){var n=[];u=!0;for(var o=0;o<r;++o){var i=t[o];if(n[i.uid]=i.data,0!=(1&i.flags)){var s=i.create(i.data);void 0!==s&&(n[i.uid]=s)}}return u=!1,function(){a=n,p.push(c),c=d(t,c),u=!0;for(var o=0;o<r;++o)(2&t[o].flags)>0&&t[o].before(this,n[t[o].uid]);u=!1;var i=e.apply(this,arguments);for(u=!0,o=0;o<r;++o)(4&t[o].flags)>0&&t[o].after(this,n[t[o].uid]);return u=!1,c=p.pop(),a=void 0,i}},s(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))):(i=!1,r=function(e){if(i)throw e;for(var t=!1,r=c.length,n=0;n<r;++n){var o=c[n];0!=(8&o.flags)&&(t=o.error(null,e)||t)}if(!t&&u)throw e},n=function(e,t,n){var o=[];u=!0;for(var a=0;a<n;++a){var s=t[a];if(o[s.uid]=s.data,0!=(1&s.flags)){var l=s.create(s.data);void 0!==l&&(o[s.uid]=l)}}return u=!1,function(){var a,s=!1,l=!1;p.push(c),c=d(t,c),u=!0;for(var m=0;m<n;++m)(2&t[m].flags)>0&&t[m].before(this,o[t[m].uid]);u=!1;try{a=e.apply(this,arguments)}catch(e){for(s=!0,m=0;m<n;++m)if(0!=(8&c[m].flags))try{l=c[m].error(o[t[m].uid],e)||l}catch(e){throw i=!0,e}if(!l)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!s||l){for(u=!0,m=0;m<n;++m)(4&t[m].flags)>0&&t[m].after(this,o[t[m].uid]);u=!1}c=p.pop()}return a}},process.addListener("uncaughtException",r)),m.prototype.create=void 0,m.prototype.before=void 0,m.prototype.after=void 0,m.prototype.error=void 0,m.prototype.data=void 0,m.prototype.uid=0,m.prototype.flags=0,process.createAsyncListener=h,process.addAsyncListener=function(e,t){var r;r=e instanceof m?e:h(e,t);for(var n=!1,o=0;o<c.length;o++)if(r===c[o]){n=!0;break}return n||c.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<c.length;t++)if(e===c[t]){c.splice(t,1);break}},t.exports=function(e){var t=c.length;if(0===t)return e;for(var r=c.slice(),o=0;o<t;++o)if(r[o].flags>0)return n(e,r,t);return function(e,t,r){u=!0;for(var n=0;n<r;++n){var o=t[n];o.create&&o.create(o.data)}return u=!1,function(){p.push(c),c=d(t,c);var r=e.apply(this,arguments);return c=p.pop(),r}}(e,r,t)}})),hn=v(((e,t)=>{"use strict";t.exports=(e,t)=>class extends e{constructor(e){var r,n;super((function(e,a){r=this,n=[function(r){return t(o,!1),e(r)},function(e){return t(o,!1),a(e)}]}));var o=this;try{e.apply(r,n)}catch(e){n[1](e)}return o}}})),fn=v((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=Qr(),t=dn(),n=e.wrap,o=e.massWrap,a=mn(),i=r(1669),s=t.gte(process.version,"6.0.0"),c=t.gte(process.version,"7.0.0"),l=t.gte(process.version,"8.0.0"),u=t.gte(process.version,"11.0.0"),p=r(1631);function d(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function m(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}c&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],r={};"object"==typeof t&&null!==t?r=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?r.path=t:(r.port=t,e.length>1&&"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"!=typeof n?[r,null]:[r,n]}:!c&&!p._normalizeConnectArgs&&(p._normalizeConnectArgs=function(e){var t={};"object"==typeof e[0]&&null!==e[0]?t=e[0]:"string"==typeof e[0]&&!1===function(e){return(e=Number(e))>=0&&e}(e[0])?t.path=e[0]:(t.port=e[0],"string"==typeof e[1]&&(t.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[t,r]:[t]}),"_setUpListenHandle"in p.Server.prototype?n(p.Server.prototype,"_setUpListenHandle",d):n(p.Server.prototype,"_listen2",d),n(p.Socket.prototype,"connect",(function(e){return function(){var t;(t=l&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:c?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var r=e.apply(this,t);return m(this),r}}));var h=r(8605);n(h.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=a((function(e){return m(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var f=r(3129);function g(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),n(e._handle,"close",j))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}f.ChildProcess?n(f.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return g(this),t}})):o(f,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return g(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var v=[];process._nextDomainTick&&v.push("_nextDomainTick"),process._tickDomainCallback&&v.push("_tickDomainCallback"),o(process,v,A),n(process,"nextTick",j);var b=["setTimeout","setInterval"];global.setImmediate&&b.push("setImmediate");var y=r(8213),x=global.setTimeout===y.setTimeout;o(y,b,j),x&&o(global,b,j);var S=r(881);o(S,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],A),S.resolveNaptr&&n(S,"resolveNaptr",A);var _,E,w,P=r(5747);o(P,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],A),P.lchown&&n(P,"lchown",A),P.lchmod&&n(P,"lchmod",A),P.ftruncate&&n(P,"ftruncate",A);try{_=r(8761)}catch{}_&&_.Deflate&&_.Deflate.prototype&&((E=Object.getPrototypeOf(_.Deflate.prototype))._transform?n(E,"_transform",A):E.write&&E.flush&&E.end&&o(E,["write","flush","end"],A));try{w=r(6417)}catch{}w&&(T=["pbkdf2","randomBytes"],u||T.push("pseudoRandomBytes"),o(w,T,A));var T,D,C=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function A(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=a(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,r,n,o))};case 4:return function(r,n,o,i){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,r,n,o,i))};case 5:return function(r,n,o,i,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,r,n,o,i,s))};case 6:return function(r,n,o,i,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,r,n,o,i,s,c))};default:return t}}function j(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o))};case 4:return function(r,n,o,i){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i))};case 5:return function(r,n,o,i,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i,s))};case 6:return function(r,n,o,i,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i,s,c))};default:return t}}C&&(D=process.addAsyncListener({create:function(){C=!1}}),global.Promise.resolve(!0).then((function(){C=!1})),process.removeAsyncListener(D)),C&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var o,a,i=new e((function(e,t){o=this,a=[function(t){return r(i,!1),e(t)},function(e){return r(i,!1),t(e)}]}));i.__proto__=t.prototype;try{n.apply(o,a)}catch(e){a[1](e)}return i}function r(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=a(o))}function o(t,n,a,i){var s;try{return{returnVal:s=n.call(t,a),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{s instanceof e?i.__asl_wrapper=function(){var e=s.__asl_wrapper||o;return e.apply(this,arguments)}:r(i,!0)}}function c(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,a,i){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,a,i)):o(e,n,a,i)},r;function n(e){return"function"!=typeof e?e:a((function(n){var a=(t.__asl_wrapper||o)(this,e,n,r);if(a.error)throw a.errorVal;return a.returnVal}))}}}i.inherits(t,e),n(e.prototype,"then",c),e.prototype.chain&&n(e.prototype,"chain",c),s?global.Promise=hn()(e,r):(["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t)}()})),gn=v(((e,t)=>{"use strict";var n=r(2357),o=Yr(),a="cls@contexts",i="error@context";function s(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function l(e){var t=c(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){l(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||fn(),s.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},s.prototype.get=function(e){if(this.active)return this.active[e]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[i]=t),e}finally{this.exit(t)}},s.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},s.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[i]=t),e}finally{r.exit(t)}}},s.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},s.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},s.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;var t=e,r=e[a];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},s.prototype.fromException=function(e){return e[i]},process.namespaces||u(),t.exports={getNamespace:c,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new s(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:l,reset:u}})),vn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=x(),r=Yt(),n=tr(),o=rr(),a=Xr(),i=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,o,a){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:o,tracestate:a},customProperties:new s(n)}:null},e.spanToContextObject=function(t,r,o){var a=new n;return a.traceId=t.traceId,a.spanId=t.spanId,a.traceFlag=n.formatOpenTelemetryTraceFlags(t.traceFlags)||n.DEFAULT_TRACE_FLAG,a.parentId=r,e.generateContextObject(a.traceId,a.parentId,o,null,a)},e.runWithContext=function(t,r){var n;return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,r){var n;return e.enabled?e.session.bind(t,r?((n={})[e.CONTEXT_NAME]=r,n):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=pn():this.cls=gn()),e.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(r,i){var s=r&&r.traceContext||null,c=r&&r.traceId?r:null,l=r&&r.headers;if(c){var u=new n("00-"+c.traceId+"-"+c.spanId+"-01"),p=new o(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,"|"+c.traceId+"."+c.spanId+".","string"==typeof i?i:"",void 0,u,p)}if(s){u=new n(s.traceparent),p=new o(s.tracestate);var d="object"==typeof i?new a(i):null;return e.generateContextObject(u.traceId,u.parentId,"string"==typeof i?i:d.getOperationName({}),d&&d.getCorrelationContextHeader()||void 0,u,p)}return l?(u=new n(l.traceparent?l.traceparent.toString():null),p=new o(l.tracestate?l.tracestate.toString():null),d=new a(r),e.generateContextObject(u.traceId,u.parentId,d.getOperationName({}),d.getCorrelationContextHeader(),u,p)):(t.warn("startOperation was called with invalid arguments",arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=i;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(r,n){if(e.bannedCharacters.test(r)||e.bannedCharacters.test(n))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+r+" and value: "+n);else{for(var o=0;o<this.props.length;++o){var a=this.props[o];if(a.key===r)return void(a.value=n)}this.props.push({key:r,value:n})}},e.bannedCharacters=/[,=]/,e}()})),bn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Gr(),r=P(),n=[],o=function(e){var r=e.data.message;n.forEach((function(n){r instanceof Error?n.trackException({exception:r}):(r.lastIndexOf("\n")==r.length-1&&(r=r.substring(0,r.length-1)),n.trackTrace({message:r,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("console",o),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("console",o)},e.dispose=function(){r.channel.unsubscribe("console",o),n=[]}})),yn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Gr(),r=P(),n=[],o={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},a=function(e){var t=e.data.result;n.forEach((function(r){var n=o[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("bunyan",a),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("bunyan",a)},e.dispose=function(){r.channel.unsubscribe("bunyan",a),n=[]}})),xn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Gr(),r=P(),n=[],o={syslog:function(e){var r={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},npm:function(e){var r={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},unknown:function(e){return t.SeverityLevel.Information}},a=function(e){var t=e.data.message;n.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=o[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("winston",a),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("winston",a)},e.dispose=function(){r.channel.unsubscribe("winston",a),n=[]}})),Sn=v(((e,t)=>{"use strict";var r=Yt(),n=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(bn().enable(e&&t,this._client),yn().enable(e,this._client),xn().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=n})),_n=v(((e,t)=>{"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||13===parseInt(r[0])&&parseInt(r[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(t,n,o){void 0===o&&(o=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:o}),r._client.flush({isAppCrashing:!0}),t&&n&&1===process.listeners(n).length&&(console.error(o),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=r})),En=v((e=>{"use strict";var t,r,n,o;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(n=r=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",n.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",n.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",n.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",n.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",n.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",n.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",n.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",n.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(o=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[o.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[o.REQUEST_RATE]=r.REQUEST_RATE,t[o.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),wn=v(((e,t)=>{"use strict";var n=r(2087),o=En(),a=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var o=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return o.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,a=0,i=0,s=0,c=0;e&&c<e.length;c++){var l=e[c],u=this._lastCpus[c],p=(l.model,l.speed,l.times),d=u.times;t+=p.user-d.user||0,r+=p.sys-d.sys||0,a+=p.nice-d.nice||0,i+=p.idle-d.idle||0,s+=p.irq-d.irq||0}var m=void 0;if("function"==typeof process.cpuUsage){var h=process.cpuUsage(),f=process.hrtime(),g=h.user-this._lastAppCpuUsage.user+(h.system-this._lastAppCpuUsage.system)||0;typeof this._lastHrtime<"u"&&2===this._lastHrtime.length&&(m=100*g/((1e6*(f[0]-this._lastHrtime[0])+(f[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=h,this._lastHrtime=f}var v=t+r+a+i+s||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(v-i)/v*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:m||t/v*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,a=r.totalFailedRequestCount-t.totalFailedRequestCount||0,i=r.time-t.time,s=i/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,i>0){var l=n/s,u=a/s;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,a=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,i=r.time-t.time,s=i/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,i>0){var l=n/s,u=a/s;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,a=r.time-t.time;if(a>0){var i=n/(a/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:i})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=a})),Pn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),Tn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),Dn=v(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=En(),o=Pn(),a=Tn(),i=function(){function e(t,r){void 0===r&&(r=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=r}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return r.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,r){if(e.isEnabled()){var n,o=e._getAggregatedCounter(r,this._requestCountersCollection);if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}o.intervalExecutionTime+=n,o.totalCount++}},e.countDependency=function(t,r){if(e.isEnabled()){var n,o=e._getAggregatedCounter(r,this._dependencyCountersCollection);if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}o.intervalExecutionTime+=n,o.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var r=!1,n=0;n<t.length;n++){if(e===t[n].dimensions)return t[n];if(Object.keys(e).length===Object.keys(t[n].dimensions).length){for(var a in e)if(e[a]!=t[n].dimensions[a]){r=!0;break}if(!r)return t[n];r=!1}}var i=new o.AggregatedMetricCounter(e);return t.push(i),i},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var r=e._requestCountersCollection[t];r.time=+new Date;var o=r.totalCount-r.lastTotalCount||0,a=r.time-r.lastTime,i=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/o||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,a>0&&o>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:r.dimensions,value:i,count:o,aggregationInterval:a,metricType:n.MetricId.REQUESTS_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var r=e._dependencyCountersCollection[t];r.time=+new Date;var o=r.totalCount-r.lastTotalCount||0,a=r.time-r.lastTime,i=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/o||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,a>0&&o>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:r.dimensions,value:i,count:o,aggregationInterval:a,metricType:n.MetricId.DEPENDENCIES_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var r=e._exceptionCountersCollection[t],o=r.totalCount-r.lastTotalCount||0,a=r.time-r.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:r.dimensions,value:o,count:o,aggregationInterval:a,metricType:n.MetricId.EXCEPTIONS_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var r=e._traceCountersCollection[t],o=r.totalCount-r.lastTotalCount||0,a=r.time-r.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:r.dimensions,value:o,count:o,aggregationInterval:a,metricType:n.MetricId.TRACES_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var n in e.dimensions)t[a.PreaggregatedMetricPropertyNames[n]]=e.dimensions[n];t=r(r({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var o={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=i})),Cn=v(((e,t)=>{"use strict";var n=r(2087),o=r(5747),a=r(5622),i=Gr(),s=x(),c=function(){function e(e){this.keys=new i.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||a.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){s.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=a.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){s.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();t.exports=c})),An=v(((e,t)=>{"use strict";var n,o=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=r(8835),i=Gr(),s=Zt(),c=Jt(),l=Wr(),u=er(),p=function(e){function t(r,n){var o=e.call(this)||this;return n&&n.method&&r&&(o.method=n.method,o.url=t._getUrlFromRequestOptions(r,n),o.startTime=+new Date),o}return o(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=s.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=a.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,o=i.RemoteDependencyDataConstants.TYPE_HTTP,s=r.hostname;r.port&&(s+=":"+r.port),this.correlationId?(o=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(s+=" | "+this.correlationId)):o=i.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:s};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=a.parse(e);else{var r=a.parse(e);e="443"===r.host?a.parse("https://"+e):a.parse("http://"+e)}else{if(e&&"function"==typeof a.URL&&e instanceof a.URL)return a.format(e);var n=e;e={},n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var o=a.parse(e.path);e.pathname=o.pathname,e.search=o.search}return e.host&&e.port&&!a.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",a.format(e)},t}(l);t.exports=p})),jn=v((e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var r=xe(),n=En();function o(e){var r=t({},e);return Object.keys(n.SpanAttribute).forEach((function(e){delete r[e]})),r}e.spanToTelemetryContract=function(e){var a="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",i=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),s=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",c=e.attributes.component?e.attributes.component.toString():"",l=c.toUpperCase()===n.DependencyTypeName.Http||!!e.attributes[n.SpanAttribute.HttpUrl],u=c.toLowerCase()===n.DependencyTypeName.Grpc;if(l){var p=e.attributes[n.SpanAttribute.HttpMethod]||"GET",d=new URL(e.attributes[n.SpanAttribute.HttpUrl].toString()),m=e.attributes[n.SpanAttribute.HttpHost]||d.host,h=e.attributes[n.SpanAttribute.HttpPort]||d.port||null,f=p+" "+(d.pathname||"/"),g=n.DependencyTypeName.Http,v=h?(m+":"+h).toString():m.toString(),b=d.toString(),y=e.attributes[n.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:a,name:f,dependencyTypeName:g,target:v,data:b,success:y<400,duration:i,url:b,resultCode:String(y),properties:o(e.attributes)}}if(u){p=e.attributes[n.SpanAttribute.GrpcMethod]||"rpc";var x=e.attributes[n.SpanAttribute.GrpcService],S=x?p+" "+x:e.name;return{id:a,duration:i,name:S,target:x.toString(),data:x.toString()||S,url:x.toString()||S,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:o(e.attributes)}}var _=e.name,E=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:a,duration:i,name:_,target:s,data:s||_,url:s||_,dependencyTypeName:e.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},o(e.attributes)),{"_MS.links":E||void 0})}}})),In=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=xe(),r=P(),n=tr(),o=jn(),a=S(),i=[];e.subscriber=function(e){var r=e.data,s=o.spanToTelemetryContract(r),c=r.spanContext(),l=new n;l.traceId=c.traceId,l.spanId=c.spanId,l.traceFlag=n.formatOpenTelemetryTraceFlags(c.traceFlags),l.parentId=r.parentSpanId?"|"+c.traceId+"."+r.parentSpanId+".":null,a.AsyncScopeManager.with(r,(function(){i.forEach((function(e){r.kind===t.SpanKind.SERVER?e.trackRequest(s):(r.kind===t.SpanKind.CLIENT||r.kind===t.SpanKind.INTERNAL)&&e.trackDependency(s)}))}))},e.enable=function(t,n){t?(0===i.length&&r.channel.subscribe("azure-coretracing",e.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("azure-coretracing",e.subscriber)}})),Nn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=P(),r=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&r.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("mongodb",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),On=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=P(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",o=!e.data.err,a=(r._connection||{}).config||{},i=a.socketPath?a.socketPath:(a.host||"localhost")+":"+a.port;t.trackDependency({target:i,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("mysql",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),Rn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=P(),r=[];e.subscriber=function(e){r.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("redis",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),kn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=P(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",o=!e.data.error,a=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:a,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("postgres",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),Fn=v(((e,t)=>{"use strict";var n=e&&e.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},o=r(8605),a=r(7211),i=x(),s=Zt(),c=Jt(),l=An(),u=vn(),p=er(),d=tr(),m=Yt(),h=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),m.IsInitialized&&(In().enable(!0,this._client),Nn().enable(e,this._client),On().enable(e,this._client),Rn().enable(e,this._client),kn().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=o.request,i=a.request,s=function(r,n){var o=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];n.headers&&n.headers["user-agent"]&&-1!==n.headers["user-agent"].toString().indexOf("azsdk-js")&&(o=!1),r[e.alreadyAutoCollectedFlag]=!0,r&&n&&o&&(u.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};o.request=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var i=r.call.apply(r,n([o,e],t));return s(i,e),i},a.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=i.call.apply(i,n([a,e],t));return s(o,e),o},o.get=function(e){for(var t,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=(t=o.request).call.apply(t,n([o,e],r));return i.end(),i},a.get=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=(t=a.request).call.apply(t,n([a,e],r));return i.end(),i}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,o,a=new l(r.options,r.request),m=u.CorrelationContextManager.getCurrentContext();if(m&&m.operation&&m.operation.traceparent&&d.isValidTraceId(m.operation.traceparent.traceId)?(m.operation.traceparent.updateSpanId(),n=m.operation.traceparent.getBackCompatRequestId()):p.w3cEnabled?(o=(f=new d).toString(),n=f.getBackCompatRequestId()):n=m&&m.operation&&m.operation.parentId+e.requestNumber+++".",s.canIncludeCorrelationHeader(t,a.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var h=r.request.getHeader(c.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,r.request,h)}catch(e){i.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(m&&m.operation)try{if(r.request.setHeader(c.requestIdHeader,n),t.config.ignoreLegacyHeaders||(r.request.setHeader(c.parentIdHeader,m.operation.id),r.request.setHeader(c.rootIdHeader,n)),o||m.operation.traceparent)r.request.setHeader(c.traceparentHeader,o||m.operation.traceparent.toString());else if(p.w3cEnabled){var f=(new d).toString();r.request.setHeader(c.traceparentHeader,f)}if(m.operation.tracestate){var g=m.operation.tracestate.toString();g&&r.request.setHeader(c.traceStateHeader,g)}var v=m.customProperties.serializeToHeader();v&&r.request.setHeader(c.correlationContextHeader,v)}catch(e){i.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){a.onResponse(e);var o=a.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects["http.ClientResponse"]=e,t.trackDependency(o)})),r.request.on("error",(function(e){a.onError(e);var o=a.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects.Error=e,t.trackDependency(o)})),r.request.on("abort",(function(){a.onError(new Error);var e=a.getDependencyTelemetry(r,n);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=r.options,e.contextObjects["http.ClientRequest"]=r.request,t.trackDependency(e)})))}else i.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=h})),Mn=v(((e,t)=>{"use strict";var n=r(2087),o=En(),a=Zt(),i=Cn(),s=Fn(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return r.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var r=this,a=!1,s={},c=i.sdkVersion;s.sdk=c,s.osType=n.type(),process.env.WEBSITE_SITE_NAME?(s.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",s.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",s.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?s.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(a=!0,this._getAzureComputeMetadata(e,(function(){r._isVM&&Object.keys(r._vmData).length>0&&(s.azInst_vmId=r._vmData.vmId||"",s.azInst_subscriptionId=r._vmData.subscriptionId||"",s.azInst_osType=r._vmData.osType||"",r._azInst_vmId=r._vmData.vmId||"",r._azInst_subscriptionId=r._vmData.subscriptionId||"",r._azInst_osType=r._vmData.osType||""),r._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:s}),t()}))):this._isVM&&(s.azInst_vmId=this._azInst_vmId,s.azInst_subscriptionId=this._azInst_subscriptionId,s.azInst_osType=this._azInst_osType)),a||(this._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:s}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var r,n=this,o=((r={method:"GET"})[s.disableCollectionRequestOption]=!0,r.headers={Metadata:"True"},r),i=a.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",o,(function(e){if(200===e.statusCode){n._isVM=!0;var r="";e.on("data",(function(e){r+=e})),e.on("end",(function(){n._vmData=n._isJSON(r)?JSON.parse(r):{},t()}))}else t()}));i&&(i.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(n._isVM=!1),t()})),i.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch{return!1}},e}();t.exports=c})),Ln=v(((e,t)=>{"use strict";var n=r(8605),o=r(7211),a=x(),i=Zt(),s=Jt(),c=Xr(),l=vn(),u=wn(),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?l.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,o){l.CorrelationContextManager.wrapEmitter(n),l.CorrelationContextManager.wrapEmitter(o);var a=n&&!n[e.alreadyAutoCollectedFlag];if(n&&a){var i=new c(n),s=t._generateCorrelationContext(i);l.CorrelationContextManager.runWithContext(s,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:o},i)),"function"==typeof r&&r(n,o)}))}else"function"==typeof r&&r(n,o)}}},a=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},i=n.createServer;n.createServer=function(e,t){if(t&&"function"==typeof t){var n=i(e,r(t));return a(n),n}return n=i(r(e)),a(n),n};var s=o.createServer;o.createServer=function(e,t){var n=s(e,r(t));return a(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=l.CorrelationContextManager.getCurrentContext(),o=new c(r.request,n&&n.operation.parentId);n&&(n.operation.id=o.getOperationId(t.context.tags)||n.operation.id,n.operation.name=o.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=o.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(o.getCorrelationContextHeader())),e.endRequest(t,o,r,r.duration,r.error)}else a.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var o=l.CorrelationContextManager.getCurrentContext(),s=n||new c(r.request,o&&o.operation.parentId);i.canIncludeCorrelationHeader(t,s.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),o&&!n&&(o.operation.id=s.getOperationId(t.context.tags)||o.operation.id,o.operation.name=s.getOperationName(t.context.tags)||o.operation.name,o.operation.parentId=s.getOperationParentId(t.context.tags)||o.operation.parentId,o.customProperties.addHeaderData(s.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,s,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,s,r,null,n)})),r.request.on&&r.request.on("aborted",(function(){e.endRequest(t,s,r,null,"The request has been aborted and the network socket has closed.")}))}else a.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(s.requestContextHeader);i.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,o){o?t.onError(o,n):t.onResponse(r.response,n);var a=t.getRequestTelemetry(r);if(a.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var i in r.tagOverrides)a.tagOverrides[i]=r.tagOverrides[i];var s=t.getLegacyRootId();s&&(a.properties.ai_legacyRootId=s),a.contextObjects=a.contextObjects||{},a.contextObjects["http.ServerRequest"]=r.request,a.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(a)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,l.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=p})),qn=v(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=r(2087),a=Gr(),i=En(),s=Zt(),c=x(),l=s.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var a=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",i=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||a,s=n.tags&&n.keys&&n.keys.cloudRole&&n.tags[n.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:l,MachineName:a,Instance:i,RoleName:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case a.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case a.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case a.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case a.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case a.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.name;return n(n({},r),{Name:o})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.severityLevel||0;return n(n({},r),{Message:t.data.baseData.message,SeverityLevel:a.SeverityLevel[o]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.exceptions,a="",i="",s="";return o&&o.length>0&&(o[0].parsedStack&&o[0].parsedStack.length>0?o[0].parsedStack.forEach((function(e){a+=e.assembly+"\n"})):o[0].stack&&o[0].stack.length>0&&(a=o[0].stack),i=o[0].message,s=o[0].typeName),n(n({},r),{Exception:a,ExceptionMessage:i,ExceptionType:s})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n(n({},r),{Name:o.name,Success:o.success,Duration:o.duration,ResponseCode:o.responseCode,OperationName:o.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n(n({},r),{Name:o.name,Target:o.target,Success:o.success,Duration:o.duration,ResultCode:o.resultCode,CommandName:o.data,OperationName:r.OperationId,DependencyTypeName:o.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=i.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=i.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var o={key:n,value:r[n]};t.push(o)}var a=e.data.baseData.properties||{};for(var n in a)a.hasOwnProperty(n)&&(o={key:n,value:a[n]},t.push(o));return t},e.keys=new a.ContextTagKeys,e}();t.exports=u})),Bn=v(((e,t)=>{"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),Vn=v(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=r(7211),i=Fn(),s=x(),c=Bn(),l=Zt(),u="x-ms-qps-service-polling-interval-hint",p="x-ms-qps-service-endpoint-redirect",d=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,r){var n=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,r,"ping",n)},e.prototype.post=function(e,t,r){return n(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this._submitData([e],t,r,"post")];case 1:return n.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,r,s,d){return n(this,void 0,void 0,(function(){var n,m,h,f,g,v=this;return o(this,(function(o){return n=JSON.stringify(e),(f={})[i.disableCollectionRequestOption]=!0,f.host=t&&t.length>0?t:this._config.quickPulseHost,f.method="POST",f.path="/QuickPulseService.svc/"+s+"?ikey="+this._config.instrumentationKey,f.headers=((g={Expect:"100-continue"})["x-ms-qps-transmission-time"]=c.getTransmissionTime(),g["Content-Type"]="application/json",g["Content-Length"]=Buffer.byteLength(n),g),m=f,d&&d.length>0&&d.forEach((function(e){return m.headers[e.name]=e.value})),this._config.httpsAgent?m.agent=this._config.httpsAgent:m.agent=l.tlsRestrictedAgent,(h=a.request(m,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],n=e.headers[p]?e.headers[p].toString():null,o=e.headers[u]?parseInt(e.headers[u].toString()):null;v._consecutiveErrors=0,r(t,e,n,o)}else v._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),r()}))).on("error",(function(e){v._onError(e),r()})),h.write(n),h.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(e.TAG,r,t)):s.info(e.TAG,r,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=d})),Un=v(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=x(),a=qn(),i=Vn(),s=En(),c=Cn(),l=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new i(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=a.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=s.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=a.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return r(this,void 0,void 0,(function(){var t,r,o,i,s=this;return n(this,(function(n){switch(n.label){case 0:return t=Object.keys(this._metrics).map((function(e){return s._metrics[e]})),r=a.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(r)]:[3,2];case 1:return n.sent(),[3,3];case 2:this._ping(r),n.label=3;case 3:return o=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,i=this._isCollectingData?e.POST_INTERVAL:o,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,r,n){null!=e?(this._isCollectingData!==e&&(o.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,r&&r.length>0&&(this._redirectedHost=r,o.info("Redirecting endpoint to: ",r)),n&&n>0&&(this._pollingIntervalHint=n),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=l})),$n=v(((e,t)=>{"use strict";var r=En(),n=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var o=n[0].toLowerCase(),a=n[1];t[o]=a}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var o=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+o+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+o+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=n})),Hn=v(((e,t)=>{"use strict";var n=er(),o=$n(),a=(x(),En()),i=r(8835),s=function(){function e(t){var r=this;this.endpointBase=a.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],s=o.parse(t),c=o.parse(n),l=!s.instrumentationkey&&Object.keys(s).length>0?null:t;this.instrumentationKey=s.instrumentationkey||l||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(s.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=s.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=s.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||a.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=i.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=s})),zn=v((e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var n=Hn(),o=Cn(),a=x(),i=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,o){var i=this;if(void 0===n&&(n={}),void 0===o&&(o=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var s=r(6591);e._emitter=new s,e._metricsAvailable=!0,a.info("Native metrics module successfully loaded!")}catch{return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,o),this._handle||(this._handle=setInterval((function(){return i._trackNativeMetrics()}),o),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var r=process.env[n.ENV_nativeMetricsDisableAll],o=process.env[n.ENV_nativeMetricsDisablers];if(r)return{isEnabled:!1,disabledMetrics:{}};if(o){var a=o.split(","),i={};if(a.length>0)for(var s=0,c=a;s<c.length;s++)i[c[s]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),i)}:{isEnabled:e,disabledMetrics:i}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var r=e._emitter.getGCData();for(var n in r){var a=r[n].metrics,i=n+" Garbage Collection Duration",s=Math.sqrt(a.sumSquares/a.count-Math.pow(a.total/a.count,2))||0;this._client.trackMetric({name:i,value:a.total,count:a.count,max:a.max,min:a.min,stdDev:s,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var r=e._emitter.getLoopData().loopUsage;if(0!=r.count){var n=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:r.total,count:r.count,min:r.min,max:r.max,stdDev:n,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,r;if(!this._disabledMetrics.heap){var n=process.memoryUsage(),a=n.heapUsed,i=n.heapTotal,s=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:a,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:i,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:s-i,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,r)})}},e}();e.AutoCollectNativePerformance=i})),Gn=v(((e,t)=>{"use strict";var r=x(),n=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void r.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;r||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e}();t.exports=n})),Wn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),Xn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Gr();function r(e){var t=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)r=((r<<5)+r|0)+e.charCodeAt(n)|0;return(r=r<=-2147483648?t:Math.abs(r))/t*100}e.samplingTelemetryProcessor=function(e,n){var o=e.sampleRate;return!!(null==o||o>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(n.correlationContext&&n.correlationContext.operation?r(n.correlationContext.operation.id)<o:100*Math.random()<o)},e.getSamplingHashCode=r})),Kn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=wn(),r=Gr();e.performanceMetricsTelemetryProcessor=function(e,n){switch(n&&n.addDocument(e),e.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var o=e.data.baseData;t.countRequest(o.duration,o.success);break;case r.TelemetryTypeString.Dependency:var a=e.data.baseData;t.countDependency(a.duration,a.success)}return!0}})),Qn=v((e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=Gr(),n=Dn(),o=Gr();e.preAggregatedMetricsTelemetryProcessor=function(e,a){if(n.isEnabled())switch(e.data.baseType){case o.TelemetryTypeString.Exception:var i=e.data.baseData;i.properties=t(t({},i.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var s={cloudRoleInstance:e.tags[a.keys.cloudRoleInstance],cloudRoleName:e.tags[a.keys.cloudRole]};n.countException(s);break;case o.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var l={cloudRoleInstance:e.tags[a.keys.cloudRoleInstance],cloudRoleName:e.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[c.severity]};n.countTrace(l);break;case o.TelemetryTypeString.Request:var u=e.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:e.tags[a.keys.cloudRoleInstance],cloudRoleName:e.tags[a.keys.cloudRole],operationSynthetic:e.tags[a.keys.operationSyntheticSource],requestSuccess:u.success,requestResultCode:u.responseCode};n.countRequest(u.duration,p);break;case o.TelemetryTypeString.Dependency:var d=e.data.baseData;d.properties=t(t({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:e.tags[a.keys.cloudRoleInstance],cloudRoleName:e.tags[a.keys.cloudRole],operationSynthetic:e.tags[a.keys.operationSyntheticSource],dependencySuccess:d.success,dependencyType:d.type,dependencyTarget:d.target,dependencyResultCode:d.resultCode};n.countDependency(d.duration,m)}return!0}})),Yn=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Wn(),e),r(Xn(),e),r(Kn(),e),r(Qn(),e)})),Jn=v(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=r(5747),i=r(2087),s=r(5622),c=r(8761),l=r(3129),u=x(),p=Fn(),d=Zt(),m=function(){function e(t,r,n){if(this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=n,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=a.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||u.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){var o=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){o._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,r){return n(this,void 0,void 0,(function(){var n,a,i,s,l=this;return o(this,(function(o){return t&&(n=this._redirectedHost||this._config.endpointUrl,a={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},i="",t.forEach((function(e){var t=l._stringify(e);"string"==typeof t&&(i+=t+"\n")})),i.length>0&&(i=i.substring(0,i.length-1)),s=Buffer.from?Buffer.from(i):new Buffer(i),c.gzip(s,(function(o,i){var c=i;o?(u.warn(o),c=s,a.headers["Content-Length"]=s.length.toString()):(a.headers["Content-Encoding"]="gzip",a.headers["Content-Length"]=i.length.toString()),u.info(e.TAG,a),a[p.disableCollectionRequestOption]=!0;var m=d.makeRequest(l._config,n,a,(function(n){n.setEncoding("utf-8");var o="";n.on("data",(function(e){o+=e})),n.on("end",(function(){if(l._numConsecutiveFailures=0,l._enableDiskRetryMode)if(200===n.statusCode)l._resendTimer||(l._resendTimer=setTimeout((function(){l._resendTimer=null,l._sendFirstFileOnDisk()}),l._resendInterval),l._resendTimer.unref());else if(l._isRetriable(n.statusCode))try{var a=JSON.parse(o),i=[];a.errors.forEach((function(e){l._isRetriable(e.statusCode)&&i.push(t[e.index])})),i.length>0&&l._storeToDisk(i)}catch{l._storeToDisk(t)}if(307===n.statusCode||308===n.statusCode)if(l._numConsecutiveRedirects++,l._numConsecutiveRedirects<10){var s=n.headers.location?n.headers.location.toString():null;s&&(l._redirectedHost=s,l.send(t,r))}else"function"==typeof r&&r("Error sending telemetry because of circular redirects.");else l._numConsecutiveRedirects=0,"function"==typeof r&&r(o),u.info(e.TAG,o),"function"==typeof l._onSuccess&&l._onSuccess(o)}))}));m.on("error",(function(n){if(l._numConsecutiveFailures++,!l._enableDiskRetryMode||l._numConsecutiveFailures>0&&l._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";l._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+l._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(e.TAG,o,d.dumpObj(n))}else o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",u.info(e.TAG,o,d.dumpObj(n));l._onErrorHelper(n),"function"==typeof r&&(n&&r(d.dumpObj(n)),r("Error sending telemetry")),l._enableDiskRetryMode&&l._storeToDisk(t)})),m.write(c),m.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,r){var n=l.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!l.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=l.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=l.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,o){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(l.spawnSync){var t=l.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(o,a){if(o)return e.ACLED_DIRECTORIES[t]=!1,r(o);n._runICACLS(n._getACLArguments(t,a),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;a.lstat(e,(function(n,o){n&&"ENOENT"===n.code?a.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!n&&o.isDirectory()?r._applyACLRules(e,t):t(n||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){a.readdir(e,(function(r,n){if(r)return t(r,-1);var o=null,i=0,c=0;if(0!==n.length)for(var l=0;l<n.length;l++)a.stat(s.join(e,n[l]),(function(e,r){c++,e?o=e:r.isFile()&&(i+=r.size),c===n.length&&t(o,o?-1:i)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=a.readdirSync(e),r=0,n=0;n<t.length;n++)r+=a.statSync(s.join(e,t[n])).size;return r},e.prototype._storeToDisk=function(t){var r=this;u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(n){if(n)return u.warn(e.TAG,"Error while checking/creating directory: "+(n&&n.message)),void r._onErrorHelper(n);r._getShallowDirectorySize(r._tempDir,(function(n,o){if(n||o<0)return u.warn(e.TAG,"Error while checking directory size: "+(n&&n.message)),void r._onErrorHelper(n);if(o>r._maxBytesOnDisk)u.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+o);else{var i=(new Date).getTime()+".ai.json",c=s.join(r._tempDir,i);u.info(e.TAG,"saving data to disk at: "+c),a.writeFile(c,r._stringify(t),{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),a.existsSync(this._tempDir)||a.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var r=this._getShallowDirectorySizeSync(this._tempDir);if(r>this._maxBytesOnDisk)return void u.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+r);var n=(new Date).getTime()+".ai.json",o=s.join(this._tempDir,n);u.info(e.TAG,"saving data before crash to disk at: "+o),a.writeFileSync(o,t,{mode:384})}catch(t){u.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;a.exists(this._tempDir,(function(t){t&&a.readdir(e._tempDir,(function(t,r){if(t)e._onErrorHelper(t);else if((r=r.filter((function(e){return s.basename(e).indexOf(".ai.json")>-1}))).length>0){var n=r[0],o=s.join(e._tempDir,n);a.readFile(o,(function(t,r){t?e._onErrorHelper(t):a.unlink(o,(function(t){if(t)e._onErrorHelper(t);else try{var n=JSON.parse(r.toString());e.send(n)}catch(e){u.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){u.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;a.exists(this._tempDir,(function(r){r&&a.readdir(t._tempDir,(function(r,n){r?t._onErrorHelper(r):(n=n.filter((function(e){return s.basename(e).indexOf(".ai.json")>-1}))).length>0&&n.forEach((function(r){var n=new Date(parseInt(r.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>n){var o=s.join(t._tempDir,r);a.unlink(o,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();t.exports=m})),Zn=v(((e,t)=>{"use strict";var r=Gr(),n=Zt(),o=vn(),a=function(){function e(){}return e.createEnvelope=function(t,o,a,i,s){var c=null;switch(o){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case r.TelemetryType.PageView:c=e.createPageViewData(t)}if(a&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var l in a)c.baseData.properties[l]||(c.baseData.properties[l]=a[l]);else c.baseData.properties=a;c.baseData.properties=n.validateStringMap(c.baseData.properties)}var u=s&&s.instrumentationKey||"",p=new r.Envelope;return p.data=c,p.iKey=u,p.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(i,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=s?s.samplingPercentage:100,o===r.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=n.w3cTraceId();var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),o.baseData=t,o},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var o=e.exception.stack,a=new r.ExceptionDetails;a.message=e.exception.message,a.typeName=e.exception.name,a.parsedStack=this.parseStack(o),a.hasFullStack=n.isArray(a.parsedStack)&&a.parsedStack.length>0,t.exceptions.push(a);var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),i.baseData=t,i},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=n.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),o.baseData=t,o},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),o.baseData=t,o},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),o.baseData=t,o},e.createPageViewData=function(e){var t=new r.PageViewData;t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),o.baseData=t,o},e.getTags=function(e,t){var r=o.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var a in e.tags)n[a]=e.tags[a];if(t)for(var a in t)n[a]=t[a];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,o=0,a=0;a<=r.length;a++){var s=r[a];if(i.regex.test(s)){var c=new i(r[a],n++);o+=c.sizeInBytes,t.push(c)}}if(o>32768)for(var l=0,u=t.length-1,p=0,d=l,m=u;l<u;){if((p+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var h=m-d+1;t.splice(d,h);break}d=l,m=u,l++,u--}}return t},e}(),i=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=n.trim(t);var o=t.match(e.regex);o&&o.length>=5&&(this.method=n.trim(o[2])||this.method,this.fileName=n.trim(o[4])||"<no_filename>",this.line=parseInt(o[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=a})),eo=v(((e,t)=>{"use strict";var n=r(8835),o=Hn(),a=Cn(),i=Gr(),s=Gn(),c=Yn(),l=vn(),u=Jn(),p=Zt(),d=x(),m=Zn(),h=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new o(e);this.config=t,this.context=new a,this.commonProperties={};var r=new u(this.config);this.channel=new s((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,i.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,i.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,i.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,i.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,i.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,i.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,i.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,i.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&i.telemetryTypeToBaseType(t)){var r=m.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString()),this._enableAzureProperties&&c.azureRoleEnvironmentTelemetryProcessor(r,this.context);var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&c.samplingTelemetryProcessor(r,{correlationContext:l.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(r,this.context),n&&(c.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else d.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=l.CorrelationContextManager.getCurrentContext();for(var o=0;o<n;++o)try{var a=this._telemetryProcessors[o];if(a&&!1===a.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r&&(e&&e.tags&&(e.tags=p.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=p.validateStringMap(e.data.baseData.properties))),r},e}();t.exports=h})),to=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=eo(),a=Ln(),i=Fn(),s=x(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?a.trackRequestSync(this,e):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?a.trackRequest(this,e):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?i.trackRequest(this,e):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);t.exports=c})),ro=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),no=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,r,n=vn(),o=Sn(),a=_n(),i=wn(),s=Dn(),c=Mn(),l=Fn(),u=Ln(),p=er(),d=x(),m=Un(),h=zn();e.TelemetryClient=to(),e.Contracts=Gr(),e.azureFunctionsTypes=ro(),(r=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[r.AI=0]="AI",r[r.AI_AND_W3C=1]="AI_AND_W3C";var f,g,v,b,y,S,_,E,w,P,T,D=!0,C=!1,A=!0,j=!0,I=!0,N=!1,O=!0,R=!0,k=!0,F=!0,M=!1,L=!0,q=void 0,B=void 0,V=!1;function U(){return e.defaultClient?(V=!0,v.enable(D,C),b.enable(A),y.enable(j),S.enable(I),_.enable(N,e.defaultClient.config),E.enable(L,g),w.useAutoCorrelation(F,f),w.enable(O),P.enable(R),e.liveMetricsClient&&M&&e.liveMetricsClient.enable(M)):d.warn("Start cannot be called before setup"),$}e.setup=function(t){return e.defaultClient?d.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),v=new o(e.defaultClient),b=new a(e.defaultClient),y=new i(e.defaultClient),S=new s(e.defaultClient),_=new c(e.defaultClient),w=new u(e.defaultClient),P=new l(e.defaultClient),E||(E=new h.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(k,q,B),$},e.start=U,e.getCorrelationContext=function(){return F?n.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return n.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return n.CorrelationContextManager.wrapCallback(e,t)};var $=function(){function r(){}return r.setDistributedTracingMode=function(e){return p.w3cEnabled=e===t.AI_AND_W3C,r},r.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),D=e,C=t,V&&v.enable(e,t),r},r.setAutoCollectExceptions=function(e){return A=e,V&&b.enable(e),r},r.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),j=e;var n=h.AutoCollectNativePerformance.parseEnabled(t);return L=n.isEnabled,g=n.disabledMetrics,V&&(y.enable(e),E.enable(n.isEnabled,n.disabledMetrics)),r},r.setAutoCollectPreAggregatedMetrics=function(e){return I=e,V&&S.enable(e),r},r.setAutoCollectHeartbeat=function(t){return N=t,V&&_.enable(t,e.defaultClient.config),r},r.setAutoCollectRequests=function(e){return O=e,V&&w.enable(e),r},r.setAutoCollectDependencies=function(e){return R=e,V&&P.enable(e),r},r.setAutoDependencyCorrelation=function(e,t){return F=e,f=t,V&&w.useAutoCorrelation(e,t),r},r.setUseDiskRetryCaching=function(t,n,o){return k=t,q=n,B=o,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,n,o),r},r.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),d.enableDebug=e,d.disableWarnings=!t,r},r.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new m(e.defaultClient.config,null),T=new i(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(T),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),M=t,r):(d.warn("Live metrics client cannot be setup without the default client"),r)},r.start=U,r}();e.Configuration=$,e.dispose=function(){p.w3cEnabled=!0,e.defaultClient=null,V=!1,v&&v.dispose(),b&&b.dispose(),y&&y.dispose(),S&&S.dispose(),_&&_.dispose(),E&&E.dispose(),w&&w.dispose(),P&&P.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),M=!1,e.liveMetricsClient=void 0)}})),oo={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(oo,{default:()=>lo}),e.exports=(n=oo,b(a({},"__esModule",{value:!0}),n));var ao=y(r(2087)),io=y(r(7549)),so=y(r(7211)),co=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch{return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let r of Object.keys(e))for(let n of t)n.lookup.test(r)&&(void 0!==n.replacementString?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return co._instance||(co._instance=new co(e)),co._instance}},lo=class extends class{constructor(e,t,r,n,o,a){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.vscodeAPI=o,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!a,this.updateUserOptStatus(),void 0!==o.env.onDidChangeTelemetryEnabled?(this.disposables.push(o.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(o.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(o.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=co.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((r=>{0===e.indexOf(`${r}`)&&(t=r)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(null==e)return"";let n=[];""!==this.vscodeAPI.env.appRoot&&n.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let o=e;if(t){let t=[];for(let o of n)for(;(r=o.exec(e))&&r;)t.push([r.index,o.lastIndex]);let a=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,i=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,s=0;for(o="";(r=i.exec(e))&&r;)r[0]&&!a.test(r[0])&&t.every((([e,t])=>r.index<e||r.index>=t))&&(o+=e.substring(s,r.index)+"<REDACTED: user-file-path>",s=i.lastIndex);s<e.length&&(o+=e.substr(s))}for(let e of n)o=o.replace(e,"");return o}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let o=/@[a-zA-Z0-9-.]+/,a=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(n.toLowerCase())?t[r]="<REDACTED: secret>":o.test(n)?t[r]="<REDACTED: email>":a.test(n)?t[r]="<REDACTED: token>":t[r]=n}return t}get telemetryLevel(){switch(co.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,r,n,o){if((this.userOptIn||o)&&""!==e){if(t=f(f({},t),this.getCommonProperties()),n){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},r=r??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!0,!1)}sendRawTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1,!1)}sendDangerousTelemetryEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,r,n,!0)}internalSendTelemetryErrorEvent(e,t,r,n,o){if((this.shouldSendErrorTelemetry()||o)&&""!==e){if(t=f(f({},t),this.getCommonProperties()),n){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},r=r??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,r,n,!0)}internalSendTelemetryException(e,t,r,n,o){if((this.shouldSendErrorTelemetry()||o)&&e){if(t=f(f({},t),this.getCommonProperties()),n){let r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(r)}t=t??{},r=r??{},this.telemetryAppender.logException(e,{properties:t,measurements:r})}}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!0,!1)}sendDangerousTelemetryException(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,r,n,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,n,o,a){let i=e=>(async(e,t)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let t=await Promise.resolve().then((()=>y(no())));t.defaultClient?(r=new t.TelemetryClient(e),r.channel.setUseDiskRetryCaching(!0)):(t.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=t.defaultClient),io&&io.env&&(r.context.tags[r.context.keys.userId]=io.env.machineId,r.context.tags[r.context.keys.sessionId]=io.env.sessionId,r.context.tags[r.context.keys.cloudRole]=io.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=io.env.appName),e&&0===e.indexOf("AIF-")&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(e){return Promise.reject("Failed to initialize app insights!\n"+e.message)}return null!=t&&t.length&&function(e,t){e.addTelemetryProcessor((e=>(Array.isArray(e.tags)?e.tags.forEach((e=>co.applyReplacements(e,t))):e.tags&&co.applyReplacements(e.tags,t),e.data.baseData&&co.applyReplacements(e.data.baseData,t),!0)))}(r,t),{logEvent:(e,t)=>{try{null==r||r.trackEvent({name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{try{null==r||r.trackException({exception:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log exception to app insights!\n"+e.message)}},flush:async()=>{try{null==r||r.flush()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,a);co.shouldUseOneDataSystemSDK(n)&&(i=e=>(async(e,t,n)=>{let o=await(async(e,t,n)=>{let o=await Promise.all([r.e(939),r.e(164)]).then(r.bind(r,7164)),a=await Promise.all([r.e(939),r.e(391)]).then(r.bind(r,3391)),i=new o.AppInsightsCore,s=new a.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){c.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:n};c.extensionConfig[s.identifier]=e}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return i.initialize(c,[]),i.addTelemetryInitializer((e=>{!l||(e.ext=e.ext??{},e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),i})(e,t,n);return{logEvent:(e,t)=>{try{null==o||o.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{null==o||o.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,io,{sendPOST:(e,t)=>{let r={method:"POST",headers:g(f({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let n=so.request(e.urlString,r,(e=>{e.on("data",(function(r){t(e.statusCode??200,e.headers,r.toString())})),e.on("error",(function(){t(0,{})}))}));n.write(e.data),n.end()}catch{t(0,{})}}}));let s=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(n,i);n&&(0===n.indexOf("AIF-")||co.shouldUseOneDataSystemSDK(n))&&(o=!0),super(e,t,s,{release:ao.release(),platform:ao.platform(),architecture:ao.arch()},io,o)}}},5029:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5029,e.exports=t},3437:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3437,e.exports=t},2167:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=r({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.freeze=r,t.MIME_TYPE=n,t.NAMESPACE=o},6129:(e,t,r)=>{var n=r(2167),o=r(1146),a=r(1045),i=r(6925),s=o.DOMImplementation,c=n.NAMESPACE,l=i.ParseError,u=i.XMLReader;function p(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function m(){this.cdata=!1}function h(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function f(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var r=this.options,n=new u,o=r.domBuilder||new m,i=r.errorHandler,s=r.locator,l=r.xmlns||{},d=/\/x?html?$/.test(t),h=d?a.HTML_ENTITIES:a.XML_ENTITIES;s&&o.setDocumentLocator(s),n.errorHandler=function(e,t,r){if(!e){if(t instanceof m)return t;e=t}var n={},o=e instanceof Function;function a(t){var a=e[t];!a&&o&&(a=2==e.length?function(r){e(t,r)}:e),n[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+f(r))}||function(){}}return r=r||{},a("warning"),a("error"),a("fatalError"),n}(i,o,s),n.domBuilder=r.domBuilder||o,d&&(l[""]=c.HTML),l.xml=l.xml||c.XML;var g=r.normalizeLineEndings||p;return e&&"string"==typeof e?n.parse(g(e),l,h):n.errorHandler.error("invalid doc source"),o.doc},m.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var o=this.doc,a=o.createElementNS(e,r||t),i=n.length;v(this,a),this.currentElement=a,this.locator&&h(this.locator,a);for(var s=0;s<i;s++){e=n.getURI(s);var c=n.getValue(s),l=(r=n.getQName(s),o.createAttributeNS(e,r));this.locator&&h(n.getLocator(s),l),l.value=l.nodeValue=c,a.setAttributeNode(l)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&h(this.locator,r),v(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=g.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&h(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=g.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&h(this.locator,n),v(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var o=n.createDocumentType(e,t,r);this.locator&&h(this.locator,o),v(this,o),this.doc.doctype=o}},warning:function(e){console.warn("[xmldom warning]\t"+e,f(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,f(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){m.prototype[e]=function(){return null}})),t.DOMParser=d},1146:(e,t,r)=>{var n=r(2167).NAMESPACE;function o(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function i(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}(e);return Object.keys(t.reduce(a,{}))}function s(e,t){for(var r in e)t[r]=e[r]}function c(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,s(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var l={},u=l.ELEMENT_NODE=1,p=l.ATTRIBUTE_NODE=2,d=l.TEXT_NODE=3,m=l.CDATA_SECTION_NODE=4,h=l.ENTITY_REFERENCE_NODE=5,f=l.ENTITY_NODE=6,g=l.PROCESSING_INSTRUCTION_NODE=7,v=l.COMMENT_NODE=8,b=l.DOCUMENT_NODE=9,y=l.DOCUMENT_TYPE_NODE=10,x=l.DOCUMENT_FRAGMENT_NODE=11,S=l.NOTATION_NODE=12,_={},E={},w=(_.INDEX_SIZE_ERR=(E[1]="Index size error",1),_.DOMSTRING_SIZE_ERR=(E[2]="DOMString size error",2),_.HIERARCHY_REQUEST_ERR=(E[3]="Hierarchy request error",3)),P=(_.WRONG_DOCUMENT_ERR=(E[4]="Wrong document",4),_.INVALID_CHARACTER_ERR=(E[5]="Invalid character",5),_.NO_DATA_ALLOWED_ERR=(E[6]="No data allowed",6),_.NO_MODIFICATION_ALLOWED_ERR=(E[7]="No modification allowed",7),_.NOT_FOUND_ERR=(E[8]="Not found",8)),T=(_.NOT_SUPPORTED_ERR=(E[9]="Not supported",9),_.INUSE_ATTRIBUTE_ERR=(E[10]="Attribute in use",10));function D(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,E[e]),this.message=E[e],Error.captureStackTrace&&Error.captureStackTrace(this,D);return r.code=e,t&&(this.message=this.message+": "+t),r}function C(){}function A(e,t){this._node=e,this._refresh=t,j(this)}function j(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);le(e,"length",r.length),s(r,e),e._inc=t}}function I(){}function N(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function O(e,t,r,o){if(o?t[N(t,o)]=r:t[t.length++]=r,e){r.ownerElement=e;var a=e.ownerDocument;a&&(o&&B(a,e,o),function(e,t,r){e&&e._inc++,r.namespaceURI===n.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(a,e,r))}}function R(e,t,r){var n=N(t,r);if(!(n>=0))throw D(P,new Error(e.tagName+"@"+r));for(var o=t.length-1;n<o;)t[n]=t[++n];if(t.length=o,e){var a=e.ownerDocument;a&&(B(a,e,r),r.ownerElement=null)}}function k(){}function F(){}function M(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function L(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(L(e,t))return!0}while(e=e.nextSibling)}function q(){}function B(e,t,r,o){e&&e._inc++,r.namespaceURI===n.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function V(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var o=t.firstChild,a=0;o;)n[a++]=o,o=o.nextSibling;n.length=a,delete n[n.length]}}}function U(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,V(e.ownerDocument,e),t}function $(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===x){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var i=r?r.previousSibling:e.lastChild;o.previousSibling=i,a.nextSibling=r,i?i.nextSibling=o:e.firstChild=o,null==r?e.lastChild=a:r.previousSibling=a;do{o.parentNode=e}while(o!==a&&(o=o.nextSibling));return V(e.ownerDocument||e,e),t.nodeType==x&&(t.firstChild=t.lastChild=null),t}function H(){this._nsMap={}}function z(){}function G(){}function W(){}function X(){}function K(){}function Q(){}function Y(){}function J(){}function Z(){}function ee(){}function te(){}function re(){}function ne(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,o=n.prefix,a=n.namespaceURI;if(a&&null==o&&null==(o=n.lookupPrefix(a)))var i=[{namespace:a,prefix:null}];return ie(this,r,e,t,i),r.join("")}function oe(e,t,r){var o=e.prefix||"",a=e.namespaceURI;if(!a)return!1;if("xml"===o&&a===n.XML||a===n.XMLNS)return!1;for(var i=r.length;i--;){var s=r[i];if(s.prefix===o)return s.namespace!==a}return!0}function ae(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,M),'"')}function ie(e,t,r,o,a){if(a||(a=[]),o){if(!(e=o(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case u:var i=e.attributes,s=i.length,c=e.firstChild,l=e.tagName,f=l;if(!(r=n.isHTML(e.namespaceURI)||r)&&!e.prefix&&e.namespaceURI){for(var S,_=0;_<i.length;_++)if("xmlns"===i.item(_).name){S=i.item(_).value;break}if(!S)for(var E=a.length-1;E>=0;E--)if(""===(w=a[E]).prefix&&w.namespace===e.namespaceURI){S=w.namespace;break}if(S!==e.namespaceURI)for(E=a.length-1;E>=0;E--){var w;if((w=a[E]).namespace===e.namespaceURI){w.prefix&&(f=w.prefix+":"+l);break}}}t.push("<",f);for(var P=0;P<s;P++)"xmlns"==(T=i.item(P)).prefix?a.push({prefix:T.localName,namespace:T.value}):"xmlns"==T.nodeName&&a.push({prefix:"",namespace:T.value});for(P=0;P<s;P++){var T,D,C;oe(T=i.item(P),0,a)&&(ae(t,(D=T.prefix||"")?"xmlns:"+D:"xmlns",C=T.namespaceURI),a.push({prefix:D,namespace:C})),ie(T,t,r,o,a)}if(l===f&&oe(e,0,a)&&(ae(t,(D=e.prefix||"")?"xmlns:"+D:"xmlns",C=e.namespaceURI),a.push({prefix:D,namespace:C})),c||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;c;)c.data?t.push(c.data):ie(c,t,r,o,a.slice()),c=c.nextSibling;else for(;c;)ie(c,t,r,o,a.slice()),c=c.nextSibling;t.push("</",f,">")}else t.push("/>");return;case b:case x:for(c=e.firstChild;c;)ie(c,t,r,o,a.slice()),c=c.nextSibling;return;case p:return ae(t,e.name,e.value);case d:return t.push(e.data.replace(/[<&>]/g,M));case m:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case y:var A=e.publicId,j=e.systemId;if(t.push("<!DOCTYPE ",e.name),A)t.push(" PUBLIC ",A),j&&"."!=j&&t.push(" ",j),t.push(">");else if(j&&"."!=j)t.push(" SYSTEM ",j,">");else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case g:return t.push("<?",e.target," ",e.data,"?>");case h:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function se(e,t,r){var n;switch(t.nodeType){case u:(n=t.cloneNode(!1)).ownerDocument=e;case x:break;case p:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var o=t.firstChild;o;)n.appendChild(se(e,o,r)),o=o.nextSibling;return n}function ce(e,t,r){var n=new t.constructor;for(var o in t){var a=t[o];"object"!=typeof a&&a!=n[o]&&(n[o]=a)}switch(t.childNodes&&(n.childNodes=new C),n.ownerDocument=e,n.nodeType){case u:var i=t.attributes,s=n.attributes=new I,c=i.length;s._ownerElement=n;for(var l=0;l<c;l++)n.setAttributeNode(ce(e,i.item(l),!0));break;case p:r=!0}if(r)for(var d=t.firstChild;d;)n.appendChild(ce(e,d,r)),d=d.nextSibling;return n}function le(e,t,r){e[t]=r}_.INVALID_STATE_ERR=(E[11]="Invalid state",11),_.SYNTAX_ERR=(E[12]="Syntax error",12),_.INVALID_MODIFICATION_ERR=(E[13]="Invalid modification",13),_.NAMESPACE_ERR=(E[14]="Invalid namespace",14),_.INVALID_ACCESS_ERR=(E[15]="Invalid access",15),D.prototype=Error.prototype,s(_,D),C.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ie(this[n],r,e,t);return r.join("")}},A.prototype.item=function(e){return j(this),this[e]},c(A,C),I.prototype={length:0,item:C.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new D(T);var r=this.getNamedItem(e.nodeName);return O(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new D(T);return t=this.getNamedItemNS(e.namespaceURI,e.localName),O(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return R(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},k.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new q;if(n.implementation=this,n.childNodes=new C,n.doctype=r||null,r&&n.appendChild(r),t){var o=n.createElementNS(e,t);n.appendChild(o)}return n},createDocumentType:function(e,t,r){var n=new Q;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return U(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ce(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==d&&e.nodeType==d?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},s(l,F),s(l,F.prototype),q.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==x){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==u&&(this.documentElement=e),$(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),U(this,e)},importNode:function(e,t){return se(this,e,t)},getElementById:function(e){var t=null;return L(this.documentElement,(function(r){if(r.nodeType==u&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){var t=i(e);return new A(this,(function(r){var n=[];return t.length>0&&L(r.documentElement,(function(o){if(o!==r&&o.nodeType===u){var a=o.getAttribute("class");if(a){var s=e===a;if(!s){var c=i(a);s=t.every((l=c,function(e){return l&&-1!==l.indexOf(e)}))}s&&n.push(o)}}var l})),n}))},createElement:function(e){var t=new H;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new C,(t.attributes=new I)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new C,e},createTextNode:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new te;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Z;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new H,n=t.split(":"),o=r.attributes=new I;return r.childNodes=new C,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,o._ownerElement=r,r},createAttributeNS:function(e,t){var r=new z,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},c(q,F),H.prototype={nodeType:u,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===x?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,V(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new A(this,(function(t){var r=[];return L(t,(function(n){n===t||n.nodeType!=u||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new A(this,(function(r){var n=[];return L(r,(function(o){o===r||o.nodeType!==u||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||n.push(o)})),n}))}},q.prototype.getElementsByTagName=H.prototype.getElementsByTagName,q.prototype.getElementsByTagNameNS=H.prototype.getElementsByTagNameNS,c(H,F),z.prototype.nodeType=p,c(z,F),G.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(E[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},c(G,F),W.prototype={nodeName:"#text",nodeType:d,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},c(W,G),X.prototype={nodeName:"#comment",nodeType:v},c(X,G),K.prototype={nodeName:"#cdata-section",nodeType:m},c(K,G),Q.prototype.nodeType=y,c(Q,F),Y.prototype.nodeType=S,c(Y,F),J.prototype.nodeType=f,c(J,F),Z.prototype.nodeType=h,c(Z,F),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=x,c(ee,F),te.prototype.nodeType=g,c(te,F),re.prototype.serializeToString=function(e,t,r){return ne.call(e,t,r)},F.prototype.toString=ne;try{if(Object.defineProperty){function ue(e){switch(e.nodeType){case u:case x:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ue(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(A.prototype,"length",{get:function(){return j(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return ue(this)},set:function(e){switch(this.nodeType){case u:case x:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),le=function(e,t,r){e["$$"+t]=r}}}catch(e){}t.DocumentType=Q,t.DOMException=D,t.DOMImplementation=k,t.Element=H,t.Node=F,t.NodeList=C,t.XMLSerializer=re},1045:(e,t,r)=>{var n=r(2167).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),t.entityMap=t.HTML_ENTITIES},3969:(e,t,r)=>{var n=r(1146);t.DOMImplementation=n.DOMImplementation,t.XMLSerializer=n.XMLSerializer,t.DOMParser=r(6129).DOMParser},6925:(e,t,r)=>{var n=r(2167).NAMESPACE,o=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+o.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+o.source+a.source+"*(?::"+o.source+a.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function c(){}function l(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,r,o,a,i){function s(e,t,n){r.attributeNames.hasOwnProperty(e)&&i.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),n)}for(var c,l=++t,u=0;;){var p=e.charAt(l);switch(p){case"=":if(1===u)c=e.slice(t,l),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(i.warning('attribute value must after "="'),c=e.slice(t,l)),t=l+1,!((l=e.indexOf(p,t))>0))throw new Error("attribute value no end '"+p+"' match");s(c,d=e.slice(t,l),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(c,d=e.slice(t,l),t),i.warning('attribute "'+c+'" missed start quot('+p+")!!"),t=l+1,u=5}break;case"/":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==u&&r.setTagName(e.slice(t,l)),l;case">":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,l)).slice(-1)&&(r.closed=!0,d=d.slice(0,-1));case 2:2===u&&(d=c),4==u?(i.warning('attribute "'+d+'" missed quot(")!'),s(c,d,t)):(n.isHTML(o[""])&&d.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":p=" ";default:if(p<=" ")switch(u){case 0:r.setTagName(e.slice(t,l)),u=6;break;case 1:c=e.slice(t,l),u=2;break;case 4:var d=e.slice(t,l);i.warning('attribute "'+d+'" missed quot(")!!'),s(c,d,t);case 5:u=6}else switch(u){case 2:r.tagName,n.isHTML(o[""])&&c.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),s(c,c,t),t=l,u=1;break;case 5:i.warning('attribute space is required"'+c+'"!!');case 6:u=1,t=l;break;case 3:u=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function p(e,t,r){for(var o=e.tagName,a=null,i=e.length;i--;){var s=e[i],c=s.qName,l=s.value;if((m=c.indexOf(":"))>0)var u=s.prefix=c.slice(0,m),p=c.slice(m+1),d="xmlns"===u&&p;else p=c,u=null,d="xmlns"===c&&"";s.localName=p,!1!==d&&(null==a&&(a={},h(r,r={})),r[d]=a[d]=l,s.uri=n.XMLNS,t.startPrefixMapping(d,l))}for(i=e.length;i--;)(u=(s=e[i]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=r[u||""]));var m;(m=o.indexOf(":"))>0?(u=e.prefix=o.slice(0,m),p=e.localName=o.slice(m+1)):(u=null,p=e.localName=o);var f=e.uri=r[u||""];if(t.startElement(f,p,o,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(t.endElement(f,p,o),a)for(u in a)t.endPrefixMapping(u)}function d(e,t,r,n,o){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),i=e.substring(t+1,a);if(/[&<]/.test(i))return/^script$/i.test(r)?(o.characters(i,0,i.length),a):(i=i.replace(/&#?\w+;/g,n),o.characters(i,0,i.length),a)}return t+1}function m(e,t,r,n){var o=n[r];return null==o&&((o=e.lastIndexOf("</"+r+">"))<t&&(o=e.lastIndexOf("</"+r)),n[r]=o),o<t}function h(e,t){for(var r in e)t[r]=e[r]}function f(e,t,r,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,o-t-4),o+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,o-t-9),r.endCDATA(),o+3}var a=function(e,t){var r,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);r=o.exec(e);)if(n.push(r),r[1])return n}(e,t),i=a.length;if(i>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],c=!1,l=!1;i>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],l=i>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var u=a[i-1];return r.startDTD(s,c,l),r.endDTD(),u.index+u[0].length}}return-1}function g(e,t,r){var n=e.indexOf("?>",t);if(n){var o=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,r.processingInstruction(o[1],o[2]),n+2):-1}return-1}function v(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,c.prototype={parse:function(e,t,r){var o=this.domBuilder;o.startDocument(),h(t,t={}),function(e,t,r,o,a){function i(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function c(t){if(t>w){var r=e.substring(w,t).replace(/&#?\w+;/g,i);S&&h(w),o.characters(r,0,t-w),w=t}}function h(t,r){for(;t>=y&&(r=x.exec(e));)b=r.index,y=b+r[0].length,S.lineNumber++;S.columnNumber=t-b+1}for(var b=0,y=0,x=/.*(?:\r\n?|\n)|.*$/g,S=o.locator,_=[{currentNSMap:t}],E={},w=0;;){try{var P=e.indexOf("<",w);if(P<0){if(!e.substr(w).match(/^\s*$/)){var T=o.doc,D=T.createTextNode(e.substr(w));T.appendChild(D),o.currentElement=D}return}switch(P>w&&c(P),e.charAt(P+1)){case"/":var C=e.indexOf(">",P+3),A=e.substring(P+2,C).replace(/[ \t\n\r]+$/g,""),j=_.pop();C<0?(A=e.substring(P+2).replace(/[\s<].*/,""),a.error("end tag name: "+A+" is not complete:"+j.tagName),C=P+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),a.error("end tag name: "+A+" maybe not complete"),C=P+1+A.length);var I=j.localNSMap,N=j.tagName==A;if(N||j.tagName&&j.tagName.toLowerCase()==A.toLowerCase()){if(o.endElement(j.uri,j.localName,A),I)for(var O in I)o.endPrefixMapping(O);N||a.fatalError("end tag name: "+A+" is not match the current start tagName:"+j.tagName)}else _.push(j);C++;break;case"?":S&&h(P),C=g(e,P,o);break;case"!":S&&h(P),C=f(e,P,o,a);break;default:S&&h(P);var R=new v,k=_[_.length-1].currentNSMap,F=(C=u(e,P,R,k,i,a),R.length);if(!R.closed&&m(e,C,R.tagName,E)&&(R.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),S&&F){for(var M=l(S,{}),L=0;L<F;L++){var q=R[L];h(q.offset),q.locator=l(S,{})}o.locator=M,p(R,o,k)&&_.push(R),o.locator=S}else p(R,o,k)&&_.push(R);n.isHTML(R.uri)&&!R.closed?C=d(e,C,R.tagName,i,o):C++}}catch(e){if(e instanceof s)throw e;a.error("element parse error: "+e),C=-1}C>w?w=C:c(Math.max(P,w)+1)}}(e,t,r,o,this.errorHandler),o.endDocument()}},v.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=c,t.ParseError=s},9118:(e,t,r)=>{e.exports={parallel:r(9162),serial:r(1357),serialOrdered:r(9087)}},7651:e=>{function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}}},5912:(e,t,r)=>{var n=r(9265);e.exports=function(e){var t=!1;return n((function(){t=!0})),function(r,o){t?e(r,o):n((function(){e(r,o)}))}}},9265:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},7594:(e,t,r)=>{var n=r(5912),o=r(7651);e.exports=function(e,t,r,a){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=function(e,t,r,o){return 2==e.length?e(r,n(o)):e(r,t,n(o))}(t,i,e[i],(function(e,t){i in r.jobs&&(delete r.jobs[i],e?o(r):r.results[i]=t,a(e,r.results))}))}},4528:e=>{e.exports=function(e,t){var r=!Array.isArray(e),n={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&n.keyedList.sort(r?t:function(r,n){return t(e[r],e[n])}),n}},5353:(e,t,r)=>{var n=r(7651),o=r(5912);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,n(this),o(e)(null,this.results))}},9162:(e,t,r)=>{var n=r(7594),o=r(4528),a=r(5353);e.exports=function(e,t,r){for(var i=o(e);i.index<(i.keyedList||e).length;)n(e,t,i,(function(e,t){e?r(e,t):0!==Object.keys(i.jobs).length||r(null,i.results)})),i.index++;return a.bind(i,r)}},1357:(e,t,r)=>{var n=r(9087);e.exports=function(e,t,r){return n(e,t,null,r)}},9087:(e,t,r)=>{var n=r(7594),o=r(4528),a=r(5353);function i(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,r,i){var s=o(e,r);return n(e,t,s,(function r(o,a){o?i(o,a):(s.index++,s.index<(s.keyedList||e).length?n(e,t,s,r):i(null,s.results))})),a.bind(s,i)},e.exports.ascending=i,e.exports.descending=function(e,t){return-1*i(e,t)}},9669:(e,t,r)=>{e.exports=r(1609)},7970:(e,t,r)=>{"use strict";var n=r(4867),o=r(6026),a=r(4097),i=r(5327),s=r(8605),c=r(7211),l=r(938).http,u=r(938).https,p=r(8835),d=r(8761),m=r(7288).version,h=r(7874),f=r(2648),g=r(644),v=/https:?/,b=["http:","https:","file:"];function y(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(e){e.headers.host=e.host,y(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,r){var x;function S(){e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x)}var _=function(e){S(),t(e)},E=!1,w=function(e){S(),E=!0,r(e)},P=e.data,T=e.headers,D={};if(Object.keys(T).forEach((function(e){D[e.toLowerCase()]=e})),"user-agent"in D?T[D["user-agent"]]||delete T[D["user-agent"]]:T["User-Agent"]="axios/"+m,n.isFormData(P)&&n.isFunction(P.getHeaders))Object.assign(T,P.getHeaders());else if(P&&!n.isStream(P)){if(Buffer.isBuffer(P));else if(n.isArrayBuffer(P))P=Buffer.from(new Uint8Array(P));else{if(!n.isString(P))return w(new f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",f.ERR_BAD_REQUEST,e));P=Buffer.from(P,"utf-8")}if(e.maxBodyLength>-1&&P.length>e.maxBodyLength)return w(new f("Request body larger than maxBodyLength limit",f.ERR_BAD_REQUEST,e));D["content-length"]||(T["Content-Length"]=P.length)}var C=void 0;e.auth&&(C=(e.auth.username||"")+":"+(e.auth.password||""));var A=a(e.baseURL,e.url),j=p.parse(A),I=j.protocol||b[0];if(-1===b.indexOf(I))return w(new f("Unsupported protocol "+I,f.ERR_BAD_REQUEST,e));if(!C&&j.auth){var N=j.auth.split(":");C=(N[0]||"")+":"+(N[1]||"")}C&&D.authorization&&delete T[D.authorization];var O=v.test(I),R=O?e.httpsAgent:e.httpAgent;try{i(j.path,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){var k=new Error(t.message);k.config=e,k.url=e.url,k.exists=!0,w(k)}var F={path:i(j.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:T,agent:R,agents:{http:e.httpAgent,https:e.httpsAgent},auth:C};e.socketPath?F.socketPath=e.socketPath:(F.hostname=j.hostname,F.port=j.port);var M,L=e.proxy;if(!L&&!1!==L){var q=I.slice(0,-1)+"_proxy",B=process.env[q]||process.env[q.toUpperCase()];if(B){var V=p.parse(B),U=process.env.no_proxy||process.env.NO_PROXY,$=!0;if(U&&($=!U.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&j.hostname.substr(j.hostname.length-e.length)===e||j.hostname===e)}))),$&&(L={host:V.hostname,port:V.port,protocol:V.protocol},V.auth)){var H=V.auth.split(":");L.auth={username:H[0],password:H[1]}}}}L&&(F.headers.host=j.hostname+(j.port?":"+j.port:""),y(F,L,I+"//"+j.hostname+(j.port?":"+j.port:"")+F.path));var z=O&&(!L||v.test(L.protocol));e.transport?M=e.transport:0===e.maxRedirects?M=z?c:s:(e.maxRedirects&&(F.maxRedirects=e.maxRedirects),e.beforeRedirect&&(F.beforeRedirect=e.beforeRedirect),M=z?u:l),e.maxBodyLength>-1&&(F.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(F.insecureHTTPParser=e.insecureHTTPParser);var G=M.request(F,(function(t){if(!G.aborted){var r=t,a=t.req||G;if(204!==t.statusCode&&"HEAD"!==a.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(d.createUnzip()),delete t.headers["content-encoding"]}var i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:a};if("stream"===e.responseType)i.data=r,o(_,w,i);else{var s=[],c=0;r.on("data",(function(t){s.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(E=!0,r.destroy(),w(new f("maxContentLength size of "+e.maxContentLength+" exceeded",f.ERR_BAD_RESPONSE,e,a)))})),r.on("aborted",(function(){E||(r.destroy(),w(new f("maxContentLength size of "+e.maxContentLength+" exceeded",f.ERR_BAD_RESPONSE,e,a)))})),r.on("error",(function(t){G.aborted||w(f.from(t,null,e,a))})),r.on("end",(function(){try{var t=1===s.length?s[0]:Buffer.concat(s);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),i.data=t}catch(t){w(f.from(t,null,e,i.request,i))}o(_,w,i)}))}}}));if(G.on("error",(function(t){w(f.from(t,null,e,G))})),G.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){var W=parseInt(e.timeout,10);if(isNaN(W))return void w(new f("error trying to parse `config.timeout` to int",f.ERR_BAD_OPTION_VALUE,e,G));G.setTimeout(W,(function(){G.abort();var t=e.transitional||h;w(new f("timeout of "+W+"ms exceeded",t.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,G))}))}(e.cancelToken||e.signal)&&(x=function(e){G.aborted||(G.abort(),w(!e||e&&e.type?new g:e))},e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x))),n.isStream(P)?P.on("error",(function(t){w(f.from(t,e,null,G))})).pipe(G):G.end(P)}))}},5448:(e,t,r)=>{"use strict";var n=r(4867),o=r(6026),a=r(4372),i=r(5327),s=r(4097),c=r(4109),l=r(7985),u=r(7874),p=r(2648),d=r(644),m=r(205);e.exports=function(e){return new Promise((function(t,r){var h,f=e.data,g=e.headers,v=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(f)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var x=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(x+":"+S)}var _=s(e.baseURL,e.url);function E(){if(y){var n="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,a={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};o((function(e){t(e),b()}),(function(e){r(e),b()}),a),y=null}}if(y.open(e.method.toUpperCase(),i(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(r(new p("Request aborted",p.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new p("Network Error",p.ERR_NETWORK,e,y,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new p(t,n.clarifyTimeoutError?p.ETIMEDOUT:p.ECONNABORTED,e,y)),y=null},n.isStandardBrowserEnv()){var w=(e.withCredentials||l(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;w&&(g[e.xsrfHeaderName]=w)}"setRequestHeader"in y&&n.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(r(!e||e&&e.type?new d:e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null);var P=m(_);P&&-1===["http","https","file"].indexOf(P)?r(new p("Unsupported protocol "+P+":",p.ERR_BAD_REQUEST,e)):y.send(f)}))}},1609:(e,t,r)=>{"use strict";var n=r(4867),o=r(1849),a=r(321),i=r(7185),s=function e(t){var r=new a(t),s=o(a.prototype.request,r);return n.extend(s,a.prototype,r),n.extend(s,r),s.create=function(r){return e(i(t,r))},s}(r(5546));s.Axios=a,s.CanceledError=r(644),s.CancelToken=r(4972),s.isCancel=r(8085),s.VERSION=r(7288).version,s.toFormData=r(7675),s.AxiosError=r(2648),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=r(8713),s.isAxiosError=r(6268),e.exports=s,e.exports.default=s},4972:(e,t,r)=>{"use strict";var n=r(644);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},644:(e,t,r)=>{"use strict";var n=r(2648);function o(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(4867).inherits(o,n,{__CANCEL__:!0}),e.exports=o},8085:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(4867),o=r(5327),a=r(782),i=r(3572),s=r(7185),c=r(4097),l=r(4875),u=l.validators;function p(e){this.defaults=e,this.interceptors={request:new a,response:new a}}p.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var p=[i,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(c),a=Promise.resolve(t);p.length;)a=a.then(p.shift(),p.shift());return a}for(var d=t;n.length;){var m=n.shift(),h=n.shift();try{d=m(d)}catch(e){h(e);break}}try{a=i(d)}catch(e){return Promise.reject(e)}for(;c.length;)a=a.then(c.shift(),c.shift());return a},p.prototype.getUri=function(e){e=s(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){p.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}p.prototype[e]=t(),p.prototype[e+"Form"]=t(!0)})),e.exports=p},2648:(e,t,r)=>{"use strict";var n=r(4867);function o(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=o.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(o,i),Object.defineProperty(a,"isAxiosError",{value:!0}),o.from=function(e,t,r,i,s,c){var l=Object.create(a);return n.toFlatObject(e,l,(function(e){return e!==Error.prototype})),o.call(l,e.message,t,r,i,s),l.name=e.name,c&&Object.assign(l,c),l},e.exports=o},782:(e,t,r)=>{"use strict";var n=r(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:(e,t,r)=>{"use strict";var n=r(1793),o=r(7303);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},3572:(e,t,r)=>{"use strict";var n=r(4867),o=r(8527),a=r(8085),i=r(5546),s=r(644);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||a,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}},6026:(e,t,r)=>{"use strict";var n=r(2648);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var n=r(4867),o=r(5546);e.exports=function(e,t,r){var a=this||o;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},3784:(e,t,r)=>{e.exports=r(6882)},5546:(e,t,r)=>{"use strict";var n=r(4867),o=r(6016),a=r(2648),i=r(7874),s=r(7675),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,p={transitional:i,adapter:("undefined"!=typeof XMLHttpRequest?u=r(5448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(u=r(7970)),u),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,a=n.isObject(e),i=t&&t["Content-Type"];if((r=n.isFileList(e))||a&&"multipart/form-data"===i){var c=this.env&&this.env.FormData;return s(r?{"files[]":e}:e,c&&new c)}return a||"application/json"===i?(l(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw a.from(e,a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(3784)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){p.headers[e]=n.merge(c)})),e.exports=p},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var n=r(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,a,i){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},4109:(e,t,r)=>{"use strict";var n=r(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,i={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||new FormData;var r=[];function o(e){return null===e?"":n.isDate(e)?e.toISOString():n.isArrayBuffer(e)||n.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,i){if(n.isPlainObject(a)||n.isArray(a)){if(-1!==r.indexOf(a))throw Error("Circular reference detected in "+i);r.push(a),n.forEach(a,(function(r,a){if(!n.isUndefined(r)){var s,c=i?i+"."+a:a;if(r&&!i&&"object"==typeof r)if(n.endsWith(a,"{}"))r=JSON.stringify(r);else if(n.endsWith(a,"[]")&&(s=n.toArray(r)))return void s.forEach((function(e){!n.isUndefined(e)&&t.append(c,o(e))}));e(r,c)}})),r.pop()}else t.append(i,o(a))}(e),t}},4875:(e,t,r)=>{"use strict";var n=r(7288).version,o=r(2648),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={};a.transitional=function(e,t,r){function a(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new o(a(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),a=n.length;a-- >0;){var i=n[a],s=t[i];if(s){var c=e[i],l=void 0===c||s(c,i,e);if(!0!==l)throw new o("option "+i+" must be "+l,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+i,o.ERR_BAD_OPTION)}},validators:a}},4867:(e,t,r)=>{"use strict";var n,o=r(1849),a=Object.prototype.toString,i=(n=Object.create(null),function(e){var t=a.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var u=s("ArrayBuffer");function p(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var m=s("Date"),h=s("File"),f=s("Blob"),g=s("FileList");function v(e){return"[object Function]"===a.call(e)}var b=s("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var x,S=(x="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return x&&e instanceof x});e.exports={isArray:c,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:p,isPlainObject:d,isUndefined:l,isDate:m,isFile:h,isBlob:f,isFunction:v,isStream:function(e){return p(e)&&v(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:y,merge:function e(){var t={};function r(r,n){d(t[n])&&d(r)?t[n]=e(t[n],r):d(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)y(arguments[n],r);return t},extend:function(e,t,r){return y(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,o,a,i={};t=t||{};do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)i[a=n[o]]||(t[a]=e[a],i[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:s,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:S,isFileList:g}},6744:(e,t,r)=>{"use strict";const n=r(3349),o=r(7529),a=r(8050),i=r(4339),s=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let e=s.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(s.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};s.parse=(e,t={})=>i(e,t),s.stringify=(e,t={})=>n("string"==typeof e?s.parse(e,t):e,t),s.compile=(e,t={})=>("string"==typeof e&&(e=s.parse(e,t)),o(e,t)),s.expand=(e,t={})=>{"string"==typeof e&&(e=s.parse(e,t));let r=a(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},s.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?s.compile(e,t):s.expand(e,t),e.exports=s},7529:(e,t,r)=>{"use strict";const n=r(2664),o=r(3083);e.exports=(e,t={})=>{let r=(e,a={})=>{let i=o.isInvalidBrace(a),s=!0===e.invalid&&!0===t.escapeInvalid,c=!0===i||!0===s,l=!0===t.escapeInvalid?"\\":"",u="";if(!0===e.isOpen)return l+e.value;if(!0===e.isClose)return l+e.value;if("open"===e.type)return c?l+e.value:"(";if("close"===e.type)return c?l+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=o.reduce(e.nodes),a=n(...r,{...t,wrap:!1,toRegex:!0});if(0!==a.length)return r.length>1&&a.length>1?`(${a})`:a}if(e.nodes)for(let t of e.nodes)u+=r(t,e);return u};return r(e)}},6611:e=>{"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},8050:(e,t,r)=>{"use strict";const n=r(2664),o=r(3349),a=r(3083),i=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?a.flatten(t).map((e=>`{${e}}`)):t;for(let o of e)if(Array.isArray(o))for(let e of o)n.push(i(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?i(o,e,r):o+e);return a.flatten(n)};e.exports=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,s=(e,c={})=>{e.queue=[];let l=c,u=c.queue;for(;"brace"!==l.type&&"root"!==l.type&&l.parent;)l=l.parent,u=l.queue;if(e.invalid||e.dollar)return void u.push(i(u.pop(),o(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(i(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){let s=a.reduce(e.nodes);if(a.exceedsLimit(...s,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=n(...s,t);return 0===c.length&&(c=o(e,t)),u.push(i(u.pop(),c)),void(e.nodes=[])}let p=a.encloseBrace(e),d=e.queue,m=e;for(;"brace"!==m.type&&"root"!==m.type&&m.parent;)m=m.parent,d=m.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?d.push(i(d.pop(),r.value)):r.nodes&&s(r,e):u.push(i(u.pop(),d,p)):(1===t&&d.push(""),d.push(""))}return d};return a.flatten(s(e))}},4339:(e,t,r)=>{"use strict";const n=r(3349),{MAX_LENGTH:o,CHAR_BACKSLASH:a,CHAR_BACKTICK:i,CHAR_COMMA:s,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:l,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:p,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:m,CHAR_RIGHT_SQUARE_BRACKET:h,CHAR_DOUBLE_QUOTE:f,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:v,CHAR_ZERO_WIDTH_NOBREAK_SPACE:b}=r(6611);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},y="number"==typeof r.maxLength?Math.min(o,r.maxLength):o;if(e.length>y)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${y})`);let x,S={type:"root",input:e,nodes:[]},_=[S],E=S,w=S,P=0,T=e.length,D=0,C=0;const A=()=>e[D++],j=e=>{if("text"===e.type&&"dot"===w.type&&(w.type="text"),!w||"text"!==w.type||"text"!==e.type)return E.nodes.push(e),e.parent=E,e.prev=w,w=e,e;w.value+=e.value};for(j({type:"bos"});D<T;)if(E=_[_.length-1],x=A(),x!==b&&x!==v)if(x!==a)if(x!==h)if(x!==m)if(x!==l)if(x!==u)if(x!==f&&x!==g&&x!==i)if(x!==p)if(x!==d)if(x===s&&C>0){if(E.ranges>0){E.ranges=0;let e=E.nodes.shift();E.nodes=[e,{type:"text",value:n(E)}]}j({type:"comma",value:x}),E.commas++}else if(x===c&&C>0&&0===E.commas){let e=E.nodes;if(0===C||0===e.length){j({type:"text",value:x});continue}if("dot"===w.type){if(E.range=[],w.value+=x,w.type="range",3!==E.nodes.length&&5!==E.nodes.length){E.invalid=!0,E.ranges=0,w.type="text";continue}E.ranges++,E.args=[];continue}if("range"===w.type){e.pop();let t=e[e.length-1];t.value+=w.value+x,w=t,E.ranges--;continue}j({type:"dot",value:x})}else j({type:"text",value:x});else{if("brace"!==E.type){j({type:"text",value:x});continue}let e="close";E=_.pop(),E.close=!0,j({type:e,value:x}),C--,E=_[_.length-1]}else{C++;let e=w.value&&"$"===w.value.slice(-1)||!0===E.dollar;E=j({type:"brace",open:!0,close:!1,dollar:e,depth:C,commas:0,ranges:0,nodes:[]}),_.push(E),j({type:"open",value:x})}else{let e,r=x;for(!0!==t.keepQuotes&&(x="");D<T&&(e=A());)if(e!==a){if(e===r){!0===t.keepQuotes&&(x+=e);break}x+=e}else x+=e+A();j({type:"text",value:x})}else{if("paren"!==E.type){j({type:"text",value:x});continue}E=_.pop(),j({type:"text",value:x}),E=_[_.length-1]}else E=j({type:"paren",nodes:[]}),_.push(E),j({type:"text",value:x});else{let e;for(P++;D<T&&(e=A());)if(x+=e,e!==m)if(e!==a){if(e===h&&(P--,0===P))break}else x+=A();else P++;j({type:"text",value:x})}else j({type:"text",value:"\\"+x});else j({type:"text",value:(t.keepEscaping?x:"")+A()});do{if(E=_.pop(),"root"!==E.type){E.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));let e=_[_.length-1],t=e.nodes.indexOf(E);e.nodes.splice(t,1,...E.nodes)}}while(_.length>0);return j({type:"eos"}),S}},3349:(e,t,r)=>{"use strict";const n=r(3083);e.exports=(e,t={})=>{let r=(e,o={})=>{let a=t.escapeInvalid&&n.isInvalidBrace(o),i=!0===e.invalid&&!0===t.escapeInvalid,s="";if(e.value)return(a||i)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)s+=r(t);return s};return r(e)}},3083:(e,t)=>{"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find((e=>e.type===t)),t.exceedsLimit=(e,r,n=1,o)=>!1!==o&&!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(n)>=o,t.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0),t.isInvalidBrace=e=>!("brace"!==e.type||!0!==e.invalid&&!e.dollar&&(e.commas>>0+e.ranges>>0!=0&&!0===e.open&&!0===e.close||(e.invalid=!0,0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,t.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?r(o,t):void 0!==o&&t.push(o)}return t};return r(e),t}},9779:(e,t,r)=>{var n=r(1669),o=r(2413).Stream,a=r(3463);function i(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=i,n.inherits(i,o),i.create=function(e){var t=new this;for(var r in e=e||{})t[r]=e[r];return t},i.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},i.prototype.append=function(e){if(i.isStreamLike(e)){if(!(e instanceof a)){var t=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},i.prototype.pipe=function(e,t){return o.prototype.pipe.call(this,e,t),this.resume(),e},i.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},i.prototype._realGetNext=function(){var e=this._streams.shift();void 0!==e?"function"==typeof e?e(function(e){i.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this)):this._pipeNext(e):this.end()},i.prototype._pipeNext=function(e){if(this._currentStream=e,i.isStreamLike(e))return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var t=e;this.write(t),this._getNext()},i.prototype._handleErrors=function(e){var t=this;e.on("error",(function(e){t._emitError(e)}))},i.prototype.write=function(e){this.emit("data",e)},i.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},i.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},i.prototype.end=function(){this._reset(),this.emit("end")},i.prototype.destroy=function(){this._reset(),this.emit("close")},i.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},i.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},i.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach((function(t){t.dataSize&&(e.dataSize+=t.dataSize)})),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},i.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},9435:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,i){i=i||{};var s,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var i=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===l&&isFinite(e))return i.long?(s=e,(c=Math.abs(s))>=o?a(s,c,o,"day"):c>=n?a(s,c,n,"hour"):c>=r?a(s,c,r,"minute"):c>=t?a(s,c,t,"second"):s+" ms"):function(e){var a=Math.abs(e);return a>=o?Math.round(e/o)+"d":a>=n?Math.round(e/n)+"h":a>=r?Math.round(e/r)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1227:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,a,i=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),a=o-(r||o);n.diff=a,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";i++;const a=t.formatters[o];if("function"==typeof a){const t=e[i];r=a.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,a=t.enabled(e)),a),set:e=>{i=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(9435),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(1227):e.exports=r(39)},39:(e,t,r)=>{const n=r(3867),o=r(1669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),a=`  ${o};1m${n} [0m`;r[0]=a+r[0].split("\n").join("\n"+a),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(2447)(t);const{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},3463:(e,t,r)=>{var n=r(2413).Stream,o=r(1669);function a(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=a,o.inherits(a,n),a.create=function(e,t){var r=new this;for(var n in t=t||{})r[n]=t[n];r.source=e;var o=e.emit;return e.emit=function(){return r._handleEmit(arguments),o.apply(e,arguments)},e.on("error",(function(){})),r.pauseStream&&e.pause(),r},Object.defineProperty(a.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),a.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},a.prototype.resume=function(){this._released||this.release(),this.source.resume()},a.prototype.pause=function(){this.source.pause()},a.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},a.prototype.pipe=function(){var e=n.prototype.pipe.apply(this,arguments);return this.resume(),e},a.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},a.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}},3294:(e,t,r)=>{"use strict";const n=r(5135),o=r(7888),a=r(3456),i=r(4954),s=r(4113),c=r(3862),l=r(4426);async function u(e,t){d(e);const r=p(e,a.default,t),n=await Promise.all(r);return l.array.flatten(n)}function p(e,t,r){const a=o.transform([].concat(e)),i=new c.default(r),s=n.generate(a,i),l=new t(i);return s.map(l.read,l)}function d(e){if(![].concat(e).every((e=>l.string.isString(e)&&!l.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){e.sync=function(e,t){d(e);const r=p(e,s.default,t);return l.array.flatten(r)},e.stream=function(e,t){d(e);const r=p(e,i.default,t);return l.stream.merge(r)},e.generateTasks=function(e,t){d(e);const r=o.transform([].concat(e)),a=new c.default(t);return n.generate(r,a)},e.isDynamicPattern=function(e,t){d(e);const r=new c.default(t);return l.pattern.isDynamicPattern(e,r)},e.escapePath=function(e){return d(e),l.path.escape(e)}}(u||(u={})),e.exports=u},7888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeDuplicateSlashes=t.transform=void 0;const r=/(?!^)\/{2,}/g;function n(e){return e.replace(r,"/")}t.transform=function(e){return e.map((e=>n(e)))},t.removeDuplicateSlashes=n},5135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertPatternGroupToTask=t.convertPatternGroupsToTasks=t.groupPatternsByBaseDirectory=t.getNegativePatternsAsPositive=t.getPositivePatterns=t.convertPatternsToTasks=t.generate=void 0;const n=r(4426);function o(e,t,r){const o=[],a=n.pattern.getPatternsOutsideCurrentDirectory(e),i=n.pattern.getPatternsInsideCurrentDirectory(e),u=s(a),p=s(i);return o.push(...c(u,t,r)),"."in p?o.push(l(".",i,t,r)):o.push(...c(p,t,r)),o}function a(e){return n.pattern.getPositivePatterns(e)}function i(e,t){return n.pattern.getNegativePatterns(e).concat(t).map(n.pattern.convertToPositivePattern)}function s(e){return e.reduce(((e,t)=>{const r=n.pattern.getBaseDirectory(t);return r in e?e[r].push(t):e[r]=[t],e}),{})}function c(e,t,r){return Object.keys(e).map((n=>l(n,e[n],t,r)))}function l(e,t,r,o){return{dynamic:o,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(n.pattern.convertToNegativePattern))}}t.generate=function(e,t){const r=a(e),s=i(e,t.ignore),c=r.filter((e=>n.pattern.isStaticPattern(e,t))),l=r.filter((e=>n.pattern.isDynamicPattern(e,t))),u=o(c,s,!1),p=o(l,s,!0);return u.concat(p)},t.convertPatternsToTasks=o,t.getPositivePatterns=a,t.getNegativePatternsAsPositive=i,t.groupPatternsByBaseDirectory=s,t.convertPatternGroupsToTasks=c,t.convertPatternGroupToTask=l},3456:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9086),o=r(466);class a extends o.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=[];return new Promise(((o,a)=>{const i=this.api(t,e,r);i.once("error",a),i.on("data",(e=>n.push(r.transform(e)))),i.once("end",(()=>o(n)))}))}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}t.default=a},346:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4426),o=r(7769);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,r){const n=this._getMatcher(t),o=this._getNegativePatternsRe(r);return t=>this._filter(e,t,n,o)}_getMatcher(e){return new o.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(n.pattern.isAffectDepthOfReadingPattern);return n.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,o){if(this._isSkippedByDeep(e,t.path))return!1;if(this._isSkippedSymbolicLink(t))return!1;const a=n.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(a,r)&&this._isSkippedByNegativePatterns(a,o)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const r=t.split("/").length;return""===e?r:r-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!n.pattern.matchAny(e,t)}}},7026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4426);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const r=n.pattern.convertPatternsToRe(e,this._micromatchOptions),o=n.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,r,o)}_filter(e,t,r){if(this._settings.unique&&this._isDuplicateEntry(e))return!1;if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e.path,r))return!1;const n=this._settings.baseNameMatch?e.name:e.path,o=this._isMatchToPatterns(n,t)&&!this._isMatchToPatterns(e.path,r);return this._settings.unique&&o&&this._createIndexRecord(e),o}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const r=n.path.makeAbsolute(this._settings.cwd,e);return n.pattern.matchAny(r,t)}_isMatchToPatterns(e,t){const r=n.path.removeLeadingDotSegment(e);return n.pattern.matchAny(r,t)||n.pattern.matchAny(r+"/",t)}}},3046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4426);t.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return n.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}},92:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4426);t.default=class{constructor(e,t,r){this._patterns=e,this._settings=t,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const e=n.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const t of e){const e=this._getPatternSegments(t),r=this._splitSegmentsIntoSections(e);this._storage.push({complete:r.length<=1,pattern:t,segments:e,sections:r})}}_getPatternSegments(e){return n.pattern.getPatternParts(e,this._micromatchOptions).map((e=>n.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:n.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return n.array.splitWhen(e,(e=>e.dynamic&&n.pattern.hasGlobStar(e.pattern)))}}},7769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(92);class o extends n.default{match(e){const t=e.split("/"),r=t.length,n=this._storage.filter((e=>!e.complete||e.segments.length>r));for(const e of n){const n=e.sections[0];if(!e.complete&&r>n.length)return!0;if(t.every(((t,r)=>{const n=e.segments[r];return!(!n.dynamic||!n.patternRe.test(t))||!n.dynamic&&n.pattern===t})))return!0}return!1}}t.default=o},466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5622),o=r(346),a=r(7026),i=r(3046),s=r(218);t.default=class{constructor(e){this._settings=e,this.errorFilter=new i.default(this._settings),this.entryFilter=new a.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new o.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new s.default(this._settings)}_getRootDirectory(e){return n.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},4954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2413),o=r(9086),a=r(466);class i extends a.default{constructor(){super(...arguments),this._reader=new o.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),o=this.api(t,e,r),a=new n.Readable({objectMode:!0,read:()=>{}});return o.once("error",(e=>a.emit("error",e))).on("data",(e=>a.emit("data",r.transform(e)))).once("end",(()=>a.emit("end"))),a.once("close",(()=>o.destroy())),a}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}t.default=i},4113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(112),o=r(466);class a extends o.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e);return this.api(t,e,r).map(r.transform)}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}t.default=a},218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4426);t.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=n.path.makeAbsolute(this._settings.cwd,t),t=n.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}},2117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5622),o=r(6203),a=r(4426);t.default=class{constructor(e){this._settings=e,this._fsStatSettings=new o.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return n.resolve(this._settings.cwd,e)}_makeEntry(e,t){const r={name:t,path:t,dirent:a.fs.createDirentFromStats(t,e)};return this._settings.stats&&(r.stats=e),r}_isFatalError(e){return!a.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}},9086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2413),o=r(6203),a=r(5439),i=r(2117);class s extends i.default{constructor(){super(...arguments),this._walkStream=a.walkStream,this._stat=o.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const r=e.map(this._getFullEntryPath,this),o=new n.PassThrough({objectMode:!0});o._write=(n,a,i)=>this._getEntry(r[n],e[n],t).then((e=>{null!==e&&t.entryFilter(e)&&o.push(e),n===r.length-1&&o.end(),i()})).catch(i);for(let e=0;e<r.length;e++)o.write(e);return o}_getEntry(e,t,r){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(r.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,r)=>{this._stat(e,this._fsStatSettings,((e,n)=>null===e?t(n):r(e)))}))}}t.default=s},112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6203),o=r(5439),a=r(2117);class i extends a.default{constructor(){super(...arguments),this._walkSync=o.walkSync,this._statSync=n.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const r=[];for(const n of e){const e=this._getFullEntryPath(n),o=this._getEntry(e,n,t);null!==o&&t.entryFilter(o)&&r.push(o)}return r}_getEntry(e,t,r){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}t.default=i},3862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const n=r(5747),o=r(2087),a=Math.max(o.cpus().length,1);t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:n.lstat,lstatSync:n.lstatSync,stat:n.stat,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,a),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}},4825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitWhen=t.flatten=void 0,t.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},t.splitWhen=function(e,t){const r=[[]];let n=0;for(const o of e)t(o)?(n++,r[n]=[]):r[n].push(o);return r}},7843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=void 0,t.isEnoentCodeError=function(e){return"ENOENT"===e.code}},6334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},4426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.string=t.stream=t.pattern=t.path=t.fs=t.errno=t.array=void 0;const n=r(4825);t.array=n;const o=r(7843);t.errno=o;const a=r(6334);t.fs=a;const i=r(2003);t.path=i;const s=r(57);t.pattern=s;const c=r(6242);t.stream=c;const l=r(3021);t.string=l},2003:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLeadingDotSegment=t.escape=t.makeAbsolute=t.unixify=void 0;const n=r(5622),o=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return n.resolve(e,t)},t.escape=function(e){return e.replace(o,"\\$2")},t.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e}},57:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchAny=t.convertPatternsToRe=t.makeRe=t.getPatternParts=t.expandBraceExpansion=t.expandPatternsWithBraceExpansion=t.isAffectDepthOfReadingPattern=t.endsWithSlashGlobStar=t.hasGlobStar=t.getBaseDirectory=t.isPatternRelatedToParentDirectory=t.getPatternsOutsideCurrentDirectory=t.getPatternsInsideCurrentDirectory=t.getPositivePatterns=t.getNegativePatterns=t.isPositivePattern=t.isNegativePattern=t.convertToNegativePattern=t.convertToPositivePattern=t.isDynamicPattern=t.isStaticPattern=void 0;const n=r(5622),o=r(7647),a=r(850),i=/[*?]|^!/,s=/\[[^[]*]/,c=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,l=/[!*+?@]\([^(]*\)/,u=/,|\.\./;function p(e,t={}){return!d(e,t)}function d(e,t={}){return!!(""!==e&&(!1===t.caseSensitiveMatch||e.includes("\\")||i.test(e)||s.test(e)||c.test(e)||!1!==t.extglob&&l.test(e)||!1!==t.braceExpansion&&function(e){const t=e.indexOf("{");if(-1===t)return!1;const r=e.indexOf("}",t+1);if(-1===r)return!1;const n=e.slice(t,r);return u.test(n)}(e)))}function m(e){return e.startsWith("!")&&"("!==e[1]}function h(e){return!m(e)}function f(e){return e.startsWith("..")||e.startsWith("./..")}function g(e){return e.endsWith("/**")}function v(e){return a.braces(e,{expand:!0,nodupes:!0})}function b(e,t){return a.makeRe(e,t)}t.isStaticPattern=p,t.isDynamicPattern=d,t.convertToPositivePattern=function(e){return m(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=m,t.isPositivePattern=h,t.getNegativePatterns=function(e){return e.filter(m)},t.getPositivePatterns=function(e){return e.filter(h)},t.getPatternsInsideCurrentDirectory=function(e){return e.filter((e=>!f(e)))},t.getPatternsOutsideCurrentDirectory=function(e){return e.filter(f)},t.isPatternRelatedToParentDirectory=f,t.getBaseDirectory=function(e){return o(e,{flipBackslashes:!1})},t.hasGlobStar=function(e){return e.includes("**")},t.endsWithSlashGlobStar=g,t.isAffectDepthOfReadingPattern=function(e){const t=n.basename(e);return g(e)||p(t)},t.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(v(t))),[])},t.expandBraceExpansion=v,t.getPatternParts=function(e,t){let{parts:r}=a.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===r.length&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},t.makeRe=b,t.convertPatternsToRe=function(e,t){return e.map((e=>b(e,t)))},t.matchAny=function(e,t){return t.some((t=>t.test(e)))}},6242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;const n=r(155);function o(e){e.forEach((e=>e.emit("close")))}t.merge=function(e){const t=n(e);return e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))})),t.once("close",(()=>o(e))),t.once("end",(()=>o(e))),t}},3021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.isString=void 0,t.isString=function(e){return"string"==typeof e},t.isEmpty=function(e){return""===e}},373:(e,t,r)=>{"use strict";var n=r(3650);function o(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var o=n(i),s=null,c=null,l=0,u=null,p={push:function(r,n){var i=o.get();i.context=e,i.release=d,i.value=r,i.callback=n||a,i.errorHandler=u,l===p.concurrency||p.paused?c?(c.next=i,c=i):(s=i,c=i,p.saturated()):(l++,t.call(e,i.value,i.worked))},drain:a,saturated:a,pause:function(){p.paused=!0},paused:!1,concurrency:r,running:function(){return l},resume:function(){if(p.paused){p.paused=!1;for(var e=0;e<p.concurrency;e++)l++,d()}},idle:function(){return 0===l&&0===p.length()},length:function(){for(var e=s,t=0;e;)e=e.next,t++;return t},getQueue:function(){for(var e=s,t=[];e;)t.push(e.value),e=e.next;return t},unshift:function(r,n){var i=o.get();i.context=e,i.release=d,i.value=r,i.callback=n||a,l===p.concurrency||p.paused?s?(i.next=s,s=i):(s=i,c=i,p.saturated()):(l++,t.call(e,i.value,i.worked))},empty:a,kill:function(){s=null,c=null,p.drain=a},killAndDrain:function(){s=null,c=null,p.drain(),p.drain=a},error:function(e){u=e}};return p;function d(r){r&&o.release(r);var n=s;n?p.paused?l--:(c===s&&(c=null),s=n.next,n.next=null,t.call(e,n.value,n.worked),null===c&&p.empty()):0==--l&&p.drain()}}function a(){}function i(){this.value=null,this.callback=a,this.next=null,this.release=a,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,r){var n=e.callback,o=e.errorHandler,i=e.value;e.value=null,e.callback=a,e.errorHandler&&o(t,i),n.call(e.context,t,r),e.release(e)}}e.exports=o,e.exports.promise=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null);var n=o(e,(function(e,r){t.call(this,e).then((function(e){r(null,e)}),r)}),r),i=n.push,s=n.unshift;return n.push=function(e){var t=new Promise((function(t,r){i(e,(function(e,n){e?r(e):t(n)}))}));return t.catch(a),t},n.unshift=function(e){var t=new Promise((function(t,r){s(e,(function(e,n){e?r(e):t(n)}))}));return t.catch(a),t},n.drained=function(){var e=n.drain;return new Promise((function(t){n.drain=function(){e(),t()}}))},n}},2664:(e,t,r)=>{"use strict";const n=r(1669),o=r(5702),a=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),i=e=>"number"==typeof e||"string"==typeof e&&""!==e,s=e=>Number.isInteger(+e),c=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},l=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},u=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},p=(e,t,r,n)=>{if(r)return o(e,t,{wrap:!1,...n});let a=String.fromCharCode(e);return e===t?a:`[${a}-${String.fromCharCode(t)}]`},d=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return o(e,t,r)},m=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),h=(e,t,r)=>{if(!0===r.strictRanges)throw m([e,t]);return[]},f=(e,t,r,n={})=>{if(null==t&&i(e))return[e];if(!i(e)||!i(t))return h(e,t,n);if("function"==typeof r)return f(e,t,1,{transform:r});if(a(r))return f(e,t,0,r);let o={...n};return!0===o.capture&&(o.wrap=!0),r=r||o.step||1,s(r)?s(e)&&s(t)?((e,t,r=1,n={})=>{let o=Number(e),a=Number(t);if(!Number.isInteger(o)||!Number.isInteger(a)){if(!0===n.strictRanges)throw m([e,t]);return[]}0===o&&(o=0),0===a&&(a=0);let i=o>a,s=String(e),h=String(t),f=String(r);r=Math.max(Math.abs(r),1);let g=c(s)||c(h)||c(f),v=g?Math.max(s.length,h.length,f.length):0,b=!1===g&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),y=n.transform||(e=>t=>!0===e?Number(t):String(t))(b);if(n.toRegex&&1===r)return p(u(e,v),u(t,v),!0,n);let x={negatives:[],positives:[]},S=[],_=0;for(;i?o>=a:o<=a;)!0===n.toRegex&&r>1?x[(E=o)<0?"negatives":"positives"].push(Math.abs(E)):S.push(l(y(o,_),v,b)),o=i?o-r:o+r,_++;var E;return!0===n.toRegex?r>1?((e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let r,n=t.capture?"":"?:",o="",a="";return e.positives.length&&(o=e.positives.join("|")),e.negatives.length&&(a=`-(${n}${e.negatives.join("|")})`),r=o&&a?`${o}|${a}`:o||a,t.wrap?`(${n}${r})`:r})(x,n):d(S,null,{wrap:!1,...n}):S})(e,t,r,o):((e,t,r=1,n={})=>{if(!s(e)&&e.length>1||!s(t)&&t.length>1)return h(e,t,n);let o=n.transform||(e=>String.fromCharCode(e)),a=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),c=a>i,l=Math.min(a,i),u=Math.max(a,i);if(n.toRegex&&1===r)return p(l,u,!1,n);let m=[],f=0;for(;c?a>=i:a<=i;)m.push(o(a,f)),a=c?a-r:a+r,f++;return!0===n.toRegex?d(m,null,{wrap:!1,options:n}):m})(e,t,Math.max(Math.abs(r),1),o):null==r||a(r)?f(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,o)};e.exports=f},2261:(e,t,r)=>{var n;e.exports=function(){if(!n){try{n=r(5158)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},938:(e,t,r)=>{var n=r(8835),o=n.URL,a=r(8605),i=r(7211),s=r(2413).Writable,c=r(2357),l=r(2261),u=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);u.forEach((function(e){p[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var d=S("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),m=S("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),h=S("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),f=S("ERR_STREAM_WRITE_AFTER_END","write after end");function g(e,t){s.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(a){var i=a+":",s=r[i]=e[a],u=t[a]=Object.create(s);Object.defineProperties(u,{request:{value:function(e,a,s){if("string"==typeof e){var u=e;try{e=y(new o(u))}catch(t){e=n.parse(u)}}else o&&e instanceof o?e=y(e):(s=a,a=e,e={protocol:i});return"function"==typeof a&&(s=a,a=null),(a=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,a)).nativeProtocols=r,c.equal(a.protocol,i,"protocol mismatch"),l("options",a),new g(a,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=u.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function b(){}function y(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function x(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return null==r?void 0:String(r).trim()}function S(e,t){function r(e){Error.captureStackTrace(this,this.constructor),e?(this.message=t+": "+e.message,this.cause=e):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function _(e){for(var t=0;t<u.length;t++)e.removeListener(u[t],p[u[t]]);e.on("error",b),e.abort()}g.prototype=Object.create(s.prototype),g.prototype.abort=function(){_(this._currentRequest),this.emit("abort")},g.prototype.write=function(e,t,r){if(this._ending)throw new f;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new h),this.abort()):r&&r()},g.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){var r=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),a()}),e),n(t)}function a(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",a),r.removeListener("error",a),r.removeListener("response",a),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){g.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=n.format(this._options),o._redirectable=this;for(var a=0;a<u.length;a++)o.on(u[a],p[u[a]]);if(this._isRedirect){var i=0,s=this,c=this._requestBodyBuffers;!function e(t){if(o===s._currentRequest)if(t)s.emit("error",t);else if(i<c.length){var r=c[i++];o.finished||o.write(r.data,r.encoding,e)}else s._ended&&o.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(_(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new m);else{var o,a=this._options.beforeRedirect;a&&(o=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],x(/^content-/i,this._options.headers));var s,c=x(/^host$/i,this._options.headers),u=n.parse(this._currentUrl),p=c||u.host,h=/^\w+:/.test(r)?this._currentUrl:n.format(Object.assign(u,{host:p}));try{s=n.resolve(h,r)}catch(e){return void this.emit("error",new d(e))}l("redirecting to",s),this._isRedirect=!0;var f=n.parse(s);if(Object.assign(this._options,f),(f.protocol!==u.protocol&&"https:"!==f.protocol||f.host!==p&&!function(e,t){const r=e.length-t.length-1;return r>0&&"."===e[r]&&e.endsWith(t)}(f.host,p))&&x(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof a){var g={headers:e.headers,statusCode:t},v={url:h,method:i,headers:o};try{a(this._options,g,v)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new d(e))}}},e.exports=v({http:a,https:i}),e.exports.wrap=v},6882:(e,t,r)=>{var n=r(9779),o=r(1669),a=r(5622),i=r(8605),s=r(7211),c=r(8835).parse,l=r(5747),u=r(2413).Stream,p=r(983),d=r(9118),m=r(2275);function h(e){if(!(this instanceof h))return new h(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=h,o.inherits(h,n),h.LINE_BREAK="\r\n",h.DEFAULT_CONTENT_TYPE="application/octet-stream",h.prototype.append=function(e,t,r){"string"==typeof(r=r||{})&&(r={filename:r});var a=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),o.isArray(t))this._error(new Error("Arrays are not supported."));else{var i=this._multiPartHeader(e,t,r),s=this._multiPartFooter();a(i),a(t),a(s),this._trackLength(i,t,r)}},h.prototype._trackLength=function(e,t,r){var n=0;null!=r.knownLength?n+=+r.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+h.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(r.knownLength||this._valuesToMeasure.push(t))},h.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?null!=e.end&&e.end!=1/0&&null!=e.start?t(null,e.end+1-(e.start?e.start:0)):l.stat(e.path,(function(r,n){var o;r?t(r):(o=n.size-(e.start?e.start:0),t(null,o))})):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",(function(r){e.pause(),t(null,+r.headers["content-length"])})),e.resume()):t("Unknown stream")},h.prototype._multiPartHeader=function(e,t,r){if("string"==typeof r.header)return r.header;var n,o=this._getContentDisposition(t,r),a=this._getContentType(t,r),i="",s={"Content-Disposition":["form-data",'name="'+e+'"'].concat(o||[]),"Content-Type":[].concat(a||[])};for(var c in"object"==typeof r.header&&m(s,r.header),s)s.hasOwnProperty(c)&&null!=(n=s[c])&&(Array.isArray(n)||(n=[n]),n.length&&(i+=c+": "+n.join("; ")+h.LINE_BREAK));return"--"+this.getBoundary()+h.LINE_BREAK+i+h.LINE_BREAK},h.prototype._getContentDisposition=function(e,t){var r,n;return"string"==typeof t.filepath?r=a.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?r=a.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(r=a.basename(e.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n},h.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e.name&&(r=p.lookup(e.name)),!r&&e.path&&(r=p.lookup(e.path)),!r&&e.readable&&e.hasOwnProperty("httpVersion")&&(r=e.headers["content-type"]),r||!t.filepath&&!t.filename||(r=p.lookup(t.filepath||t.filename)),r||"object"!=typeof e||(r=h.DEFAULT_CONTENT_TYPE),r},h.prototype._multiPartFooter=function(){return function(e){var t=h.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}.bind(this)},h.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+h.LINE_BREAK},h.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(r[t.toLowerCase()]=e[t]);return r},h.prototype.setBoundary=function(e){this._boundary=e},h.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},h.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)"function"!=typeof this._streams[r]&&(e=Buffer.isBuffer(this._streams[r])?Buffer.concat([e,this._streams[r]]):Buffer.concat([e,Buffer.from(this._streams[r])]),"string"==typeof this._streams[r]&&this._streams[r].substring(2,t.length+2)===t||(e=Buffer.concat([e,Buffer.from(h.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},h.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},h.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e},h.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},h.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;this._streams.length&&(t+=this._lastBoundary().length),this._valuesToMeasure.length?d.parallel(this._valuesToMeasure,this._lengthRetriever,(function(r,n){r?e(r):(n.forEach((function(e){t+=e})),e(null,t))})):process.nextTick(e.bind(this,null,t))},h.prototype.submit=function(e,t){var r,n,o={method:"post"};return"string"==typeof e?(e=c(e),n=m({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},o)):(n=m(e,o)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),r="https:"==n.protocol?s.request(n):i.request(n),this.getLength(function(e,n){if(e&&"Unknown stream"!==e)this._error(e);else if(n&&r.setHeader("Content-Length",n),this.pipe(r),t){var o,a=function(e,n){return r.removeListener("error",a),r.removeListener("response",o),t.call(this,e,n)};o=a.bind(this,null),r.on("error",a),r.on("response",o)}}.bind(this)),r},h.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},h.prototype.toString=function(){return"[object FormData]"}},2275:e=>{e.exports=function(e,t){return Object.keys(t).forEach((function(r){e[r]=e[r]||t[r]})),e}},5302:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(1381).mkdirsSync,i=r(318).utimesMillisSync,s=Symbol("notExist"),c=Symbol("existsReg");function l(e,t,r){if(!r.filter||r.filter(e,t))return function(e,t,r){const a=(r.dereference?n.statSync:n.lstatSync)(e);return a.isDirectory()?function(e,t,r,o){const a=m(r);if(a===s){if(h(t,r))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${r}'.`);return function(e,t,r,o){return n.mkdirSync(r,e.mode),n.chmodSync(r,e.mode),d(t,r,o)}(e,t,r,o)}if(a===c){if(h(t,r))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${r}'.`);return function(e,t,r){if(!n.statSync(t).isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);return d(e,t,r)}(t,r,o)}if(t!==a)return d(t,r,o)}(a,e,t,r):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,r,n){const o=m(r);return o===s?p(e,t,r,n):o===c||t!==o?u(e,t,r,n):void 0}(a,e,t,r):a.isSymbolicLink()?function(e,t,r){let a=n.readlinkSync(e);r.dereference&&(a=o.resolve(process.cwd(),a));let i=m(t);if(i===s||i===c)return n.symlinkSync(a,t);if(r.dereference&&(i=o.resolve(process.cwd(),i)),i!==a){if(n.statSync(t).isDirectory()&&h(i,a))throw new Error(`Cannot overwrite '${i}' with '${a}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(a,t)}}(e,t,r):void 0}(e,t,r)}function u(e,t,r,o){if(o.overwrite)return n.unlinkSync(r),p(e,t,r,o);if(o.errorOnExist)throw new Error(`'${r}' already exists`)}function p(e,t,o,a){return"function"==typeof n.copyFileSync?(n.copyFileSync(t,o),n.chmodSync(o,e.mode),a.preserveTimestamps?i(o,e.atime,e.mtime):void 0):function(e,t,o,a){const i=r(7065)(65536),s=n.openSync(t,"r"),c=n.openSync(o,"w",e.mode);let l=1,u=0;for(;l>0;)l=n.readSync(s,i,0,65536,u),n.writeSync(c,i,0,l),u+=l;a.preserveTimestamps&&n.futimesSync(c,e.atime,e.mtime),n.closeSync(s),n.closeSync(c)}(e,t,o,a)}function d(e,t,r){n.readdirSync(e).forEach((n=>{l(o.join(e,n),o.join(t,n),r)}))}function m(e){let t;try{t=n.readlinkSync(e)}catch(e){if("ENOENT"===e.code)return s;if("EINVAL"===e.code||"UNKNOWN"===e.code)return c;throw e}return t}function h(e,t){const r=t.split(o.dirname(e)+o.sep)[1];if(r){const n=r.split(o.sep)[0];return!!n&&e!==t&&t.indexOf(e)>-1&&n===o.basename(e)}return!1}e.exports=function(e,t,r){if("function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),(e=o.resolve(e))===(t=o.resolve(t)))throw new Error("Source and destination must not be the same.");if(r.filter&&!r.filter(e,t))return;const i=o.dirname(t);return n.existsSync(i)||a(i),l(e,t,r)}},2536:(e,t,r)=>{e.exports={copySync:r(5302)}},7189:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(1381).mkdirs,i=r(9257).pathExists,s=r(318).utimesMillis,c=Symbol("notExist"),l=Symbol("existsReg");function u(e,t,r,n){const s=o.dirname(t);i(s,((o,i)=>o?n(o):i?p(e,t,r,n):void a(s,(o=>o?n(o):p(e,t,r,n)))))}function p(e,t,r,n){return r.filter?d(m,e,t,r,n):m(e,t,r,n)}function d(e,t,r,n,o){Promise.resolve(n.filter(t,r)).then((a=>a?e(t,r,n,o):o()),(e=>o(e)))}function m(e,t,r,a){(r.dereference?n.stat:n.lstat)(e,((i,s)=>i?a(i):s.isDirectory()?function(e,t,r,o,a){y(r,((i,s)=>i?a(i):s===c?x(t,r)?a(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${r}'.`)):function(e,t,r,o,a){n.mkdir(r,e.mode,(i=>{if(i)return a(i);n.chmod(r,e.mode,(e=>e?a(e):v(t,r,o,a)))}))}(e,t,r,o,a):s===l?x(t,r)?a(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${r}'.`)):function(e,t,r,o){n.stat(t,((n,a)=>n?o(n):a.isDirectory()?v(e,t,r,o):o(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`))))}(t,r,o,a):t===s?a():v(t,r,o,a)))}(s,e,t,r,a):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(e,t,r,n,o){y(r,((a,i)=>a?o(a):i===c?f(e,t,r,n,o):i===l?h(e,t,r,n,o):t===i?o():h(e,t,r,n,o)))}(s,e,t,r,a):s.isSymbolicLink()?function(e,t,r,a){n.readlink(e,((e,i)=>{if(e)return a(e);r.dereference&&(i=o.resolve(process.cwd(),i)),y(t,((e,s)=>e?a(e):s===c||s===l?n.symlink(i,t,a):(r.dereference&&(s=o.resolve(process.cwd(),s)),s===i?a():void n.stat(t,((e,r)=>e?a(e):r.isDirectory()&&x(s,i)?a(new Error(`Cannot overwrite '${s}' with '${i}'.`)):function(e,t,r){n.unlink(t,(o=>o?r(o):n.symlink(e,t,r)))}(i,t,a))))))}))}(e,t,r,a):void 0))}function h(e,t,r,o,a){if(!o.overwrite)return o.errorOnExist?a(new Error(`'${r}' already exists`)):a();n.unlink(r,(n=>n?a(n):f(e,t,r,o,a)))}function f(e,t,r,o,a){return"function"==typeof n.copyFile?n.copyFile(t,r,(t=>t?a(t):g(e,r,o,a))):function(e,t,r,o,a){const i=n.createReadStream(t);i.on("error",(e=>a(e))).once("open",(()=>{const t=n.createWriteStream(r,{mode:e.mode});t.on("error",(e=>a(e))).on("open",(()=>i.pipe(t))).once("close",(()=>g(e,r,o,a)))}))}(e,t,r,o,a)}function g(e,t,r,o){n.chmod(t,e.mode,(n=>n?o(n):r.preserveTimestamps?s(t,e.atime,e.mtime,o):o()))}function v(e,t,r,o){n.readdir(e,((n,a)=>n?o(n):b(a,e,t,r,o)))}function b(e,t,r,n,a){const i=e.pop();if(!i)return a();p(o.join(t,i),o.join(r,i),n,(o=>o?a(o):b(e,t,r,n,a)))}function y(e,t){n.readlink(e,((e,r)=>e?"ENOENT"===e.code?t(null,c):"EINVAL"===e.code||"UNKNOWN"===e.code?t(null,l):t(e):t(null,r)))}function x(e,t){const r=t.split(o.dirname(e)+o.sep)[1];if(r){const n=r.split(o.sep)[0];return!!n&&e!==t&&t.indexOf(e)>-1&&n===o.basename(e)}return!1}e.exports=function(e,t,r,n){return"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),(e=o.resolve(e))===(t=o.resolve(t))?n(new Error("Source and destination must not be the same.")):r.filter?d(u,e,t,r,n):u(e,t,r,n)}},6464:(e,t,r)=>{const n=r(8981).E;e.exports={copy:n(r(7189))}},5590:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(5747),a=r(5622),i=r(1381),s=r(4542),c=n((function(e,t){t=t||function(){},o.readdir(e,((r,n)=>{if(r)return i.mkdirs(e,t);n=n.map((t=>a.join(e,t))),function e(){const r=n.pop();if(!r)return t();s.remove(r,(r=>{if(r)return t(r);e()}))}()}))}));function l(e){let t;try{t=o.readdirSync(e)}catch(t){return i.mkdirsSync(e)}t.forEach((t=>{t=a.join(e,t),s.removeSync(t)}))}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},6530:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(5622),a=r(77),i=r(1381),s=r(9257).pathExists;e.exports={createFile:n((function(e,t){function r(){a.writeFile(e,"",(e=>{if(e)return t(e);t()}))}a.stat(e,((n,a)=>{if(!n&&a.isFile())return t();const c=o.dirname(e);s(c,((e,n)=>e?t(e):n?r():void i.mkdirs(c,(e=>{if(e)return t(e);r()}))))}))})),createFileSync:function(e){let t;try{t=a.statSync(e)}catch(e){}if(t&&t.isFile())return;const r=o.dirname(e);a.existsSync(r)||i.mkdirsSync(r),a.writeFileSync(e,"")}}},1720:(e,t,r)=>{"use strict";const n=r(6530),o=r(4147),a=r(3635);e.exports={createFile:n.createFile,createFileSync:n.createFileSync,ensureFile:n.createFile,ensureFileSync:n.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:a.createSymlink,createSymlinkSync:a.createSymlinkSync,ensureSymlink:a.createSymlink,ensureSymlinkSync:a.createSymlinkSync}},4147:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(5622),a=r(77),i=r(1381),s=r(9257).pathExists;e.exports={createLink:n((function(e,t,r){function n(e,t){a.link(e,t,(e=>{if(e)return r(e);r(null)}))}s(t,((c,l)=>c?r(c):l?r(null):void a.lstat(e,((a,c)=>{if(a)return a.message=a.message.replace("lstat","ensureLink"),r(a);const l=o.dirname(t);s(l,((o,a)=>o?r(o):a?n(e,t):void i.mkdirs(l,(o=>{if(o)return r(o);n(e,t)}))))}))))})),createLinkSync:function(e,t,r){if(a.existsSync(t))return;try{a.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=o.dirname(t);return a.existsSync(n)||i.mkdirsSync(n),a.linkSync(e,t)}}},6072:(e,t,r)=>{"use strict";const n=r(5622),o=r(77),a=r(9257).pathExists;e.exports={symlinkPaths:function(e,t,r){if(n.isAbsolute(e))return o.lstat(e,((t,n)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e})));{const i=n.dirname(t),s=n.join(i,e);return a(s,((t,a)=>t?r(t):a?r(null,{toCwd:s,toDst:e}):o.lstat(e,((t,o)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:n.relative(i,e)})))))}},symlinkPathsSync:function(e,t){let r;if(n.isAbsolute(e)){if(r=o.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const a=n.dirname(t),i=n.join(a,e);if(r=o.existsSync(i),r)return{toCwd:i,toDst:e};if(r=o.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(a,e)}}}}},9259:(e,t,r)=>{"use strict";const n=r(77);e.exports={symlinkType:function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)}))},symlinkTypeSync:function(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch(e){return"file"}return r&&r.isDirectory()?"dir":"file"}}},3635:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(5622),a=r(77),i=r(1381),s=i.mkdirs,c=i.mkdirsSync,l=r(6072),u=l.symlinkPaths,p=l.symlinkPathsSync,d=r(9259),m=d.symlinkType,h=d.symlinkTypeSync,f=r(9257).pathExists;e.exports={createSymlink:n((function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,f(t,((i,c)=>i?n(i):c?n(null):void u(e,t,((i,c)=>{if(i)return n(i);e=c.toDst,m(c.toCwd,r,((r,i)=>{if(r)return n(r);const c=o.dirname(t);f(c,((r,o)=>r?n(r):o?a.symlink(e,t,i,n):void s(c,(r=>{if(r)return n(r);a.symlink(e,t,i,n)}))))}))}))))})),createSymlinkSync:function(e,t,r,n){if(n="function"==typeof r?r:n,r="function"!=typeof r&&r,a.existsSync(t))return;const i=p(e,t);e=i.toDst,r=h(i.toCwd,r);const s=o.dirname(t);return a.existsSync(s)||c(s),a.symlinkSync(e,t,r)}}},7749:(e,t,r)=>{const n=r(8981).E,o=r(77),a=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof o[e]));Object.keys(o).forEach((e=>{t[e]=o[e]})),a.forEach((e=>{t[e]=n(o[e])})),t.exists=function(e,t){return"function"==typeof t?o.exists(e,t):new Promise((t=>o.exists(e,t)))},t.read=function(e,t,r,n,a,i){return"function"==typeof i?o.read(e,t,r,n,a,i):new Promise(((i,s)=>{o.read(e,t,r,n,a,((e,t,r)=>{if(e)return s(e);i({bytesRead:t,buffer:r})}))}))},t.write=function(e,t,r,n,a,i){return"function"==typeof arguments[arguments.length-1]?o.write(e,t,r,n,a,i):new Promise("string"==typeof t?(a,i)=>{o.write(e,t,r,n,((e,t,r)=>{if(e)return i(e);a({bytesWritten:t,buffer:r})}))}:(i,s)=>{o.write(e,t,r,n,a,((e,t,r)=>{if(e)return s(e);i({bytesWritten:t,buffer:r})}))})}},5674:(e,t,r)=>{"use strict";const n=r(3678),o={};n(o,r(7749)),n(o,r(6464)),n(o,r(2536)),n(o,r(1381)),n(o,r(4542)),n(o,r(6573)),n(o,r(530)),n(o,r(4026)),n(o,r(5590)),n(o,r(1720)),n(o,r(1315)),n(o,r(9257)),e.exports=o},6573:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(7183);o.outputJson=n(r(3508)),o.outputJsonSync=r(9578),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,e.exports=o},7183:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(6813);e.exports={readJson:n(o.readFile),readJsonSync:o.readFileSync,writeJson:n(o.writeFile),writeJsonSync:o.writeFileSync}},9578:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(1381),i=r(7183);e.exports=function(e,t,r){const s=o.dirname(e);n.existsSync(s)||a.mkdirsSync(s),i.writeJsonSync(e,t,r)}},3508:(e,t,r)=>{"use strict";const n=r(5622),o=r(1381),a=r(9257).pathExists,i=r(7183);e.exports=function(e,t,r,s){"function"==typeof r&&(s=r,r={});const c=n.dirname(e);a(c,((n,a)=>n?s(n):a?i.writeJson(e,t,r,s):void o.mkdirs(c,(n=>{if(n)return s(n);i.writeJson(e,t,r,s)}))))}},1381:(e,t,r)=>{"use strict";const n=(0,r(8981).E)(r(4887)),o=r(1452);e.exports={mkdirs:n,mkdirsSync:o,mkdirp:n,mkdirpSync:o,ensureDir:n,ensureDirSync:o}},1452:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(2660).invalidWin32Path,i=parseInt("0777",8);e.exports=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});let c=r.mode;const l=r.fs||n;if("win32"===process.platform&&a(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=i&~process.umask()),s||(s=null),t=o.resolve(t);try{l.mkdirSync(t,c),s=s||t}catch(n){switch(n.code){case"ENOENT":if(o.dirname(t)===t)throw n;s=e(o.dirname(t),r,s),e(t,r,s);break;default:let a;try{a=l.statSync(t)}catch(e){throw n}if(!a.isDirectory())throw n}}return s}},4887:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(2660).invalidWin32Path,i=parseInt("0777",8);e.exports=function e(t,r,s,c){if("function"==typeof r?(s=r,r={}):r&&"object"==typeof r||(r={mode:r}),"win32"===process.platform&&a(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",s(e)}let l=r.mode;const u=r.fs||n;void 0===l&&(l=i&~process.umask()),c||(c=null),s=s||function(){},t=o.resolve(t),u.mkdir(t,l,(n=>{if(!n)return s(null,c=c||t);switch(n.code){case"ENOENT":if(o.dirname(t)===t)return s(n);e(o.dirname(t),r,((n,o)=>{n?s(n,o):e(t,r,s,o)}));break;default:u.stat(t,((e,t)=>{e||!t.isDirectory()?s(n,c):s(null,c)}))}}))}},2660:(e,t,r)=>{"use strict";const n=r(5622);function o(e){return(e=n.normalize(n.resolve(e)).split(n.sep)).length>0?e[0]:null}const a=/[<>:"|?*]/;e.exports={getRootPath:o,invalidWin32Path:function(e){const t=o(e);return e=e.replace(t,""),a.test(e)}}},4026:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(2536).copySync,i=r(4542).removeSync,s=r(1381).mkdirsSync,c=r(7065);function l(e,t,r){return n.statSync(e).isDirectory()?function(e,t,r){const n={overwrite:!1};function o(){return a(e,t,n),i(e)}r?(i(t),o()):o()}(e,t,r):function(e,t,r){const o=c(65536),a=r?"w":"wx",i=n.openSync(e,"r"),s=n.fstatSync(i),l=n.openSync(t,a,s.mode);let u=1,p=0;for(;u>0;)u=n.readSync(i,o,0,65536,p),n.writeSync(l,o,0,u),p+=u;return n.closeSync(i),n.closeSync(l),n.unlinkSync(e)}(e,t,r)}e.exports={moveSync:function e(t,r,a){const c=(a=a||{}).overwrite||a.clobber||!1;if(t=o.resolve(t),r=o.resolve(r),t===r)return n.accessSync(t);if(function(e,t){try{return n.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(o.dirname(e)+o.sep)[1].split(o.sep)[0]===o.basename(e)}catch(e){return!1}}(t,r))throw new Error(`Cannot move '${t}' into itself '${r}'.`);s(o.dirname(r)),function(){if(c)try{n.renameSync(t,r)}catch(n){if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)return i(r),a.overwrite=!1,e(t,r,a);if("EXDEV"!==n.code)throw n;return l(t,r,c)}else try{n.linkSync(t,r),n.unlinkSync(t)}catch(e){if("EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code)return l(t,r,c);throw e}}()}}},530:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(77),a=r(7189),i=r(5622),s=r(4542).remove,c=r(1381).mkdirs;function l(e,t,r,n){o.stat(e,((a,i)=>{if(a)return n(a);i.isDirectory()?u(e,t,r,n):function(e,t,r,n){const a=r?"w":"wx",i=o.createReadStream(e),s=o.createWriteStream(t,{flags:a});function c(){o.unlink(e,n)}i.on("error",(a=>{i.destroy(),s.destroy(),s.removeListener("close",c),o.unlink(t,(()=>{"EISDIR"===a.code||"EPERM"===a.code?u(e,t,r,n):n(a)}))})),s.on("error",(e=>{i.destroy(),s.destroy(),s.removeListener("close",c),n(e)})),s.once("close",c),i.pipe(s)}(e,t,r,n)}))}function u(e,t,r,n){const o={overwrite:!1};function i(){a(e,t,o,(t=>{if(t)return n(t);s(e,n)}))}r?s(t,(e=>{if(e)return n(e);i()})):i()}e.exports={move:n((function e(t,r,n,a){"function"==typeof n&&(a=n,n={});const u=n.overwrite||n.clobber||!1;!function(e,t,r){o.stat(e,((n,o)=>{if(n)return r(n);if(o.isDirectory()){const n=t.split(i.dirname(e)+i.sep)[1];if(n){const o=n.split(i.sep)[0];return r(null,!!o&&(e!==t&&t.indexOf(e)>-1&&o===i.basename(e)))}return r(null,!1)}return r(null,!1)}))}(t,r,((p,d)=>p?a(p):d?a(new Error(`Cannot move '${t}' to a subdirectory of itself, '${r}'.`)):void c(i.dirname(r),(c=>{if(c)return a(c);i.resolve(t)===i.resolve(r)?o.access(t,a):u?o.rename(t,r,(o=>{if(!o)return a();if("ENOTEMPTY"!==o.code&&"EEXIST"!==o.code){if("EPERM"!==o.code)return"EXDEV"!==o.code?a(o):void l(t,r,u,a);setTimeout((()=>{s(r,(o=>{if(o)return a(o);n.overwrite=!1,e(t,r,n,a)}))}),200)}else s(r,(o=>{if(o)return a(o);n.overwrite=!1,e(t,r,n,a)}))})):o.link(t,r,(e=>e?"EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code?l(t,r,u,a):a(e):o.unlink(t,a)))}))))}))}},1315:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(77),a=r(5622),i=r(1381),s=r(9257).pathExists;e.exports={outputFile:n((function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const c=a.dirname(e);s(c,((a,s)=>a?n(a):s?o.writeFile(e,t,r,n):void i.mkdirs(c,(a=>{if(a)return n(a);o.writeFile(e,t,r,n)}))))})),outputFileSync:function(e,t,r){const n=a.dirname(e);if(o.existsSync(n))return o.writeFileSync.apply(o,arguments);i.mkdirsSync(n),o.writeFileSync.apply(o,arguments)}}},9257:(e,t,r)=>{"use strict";const n=r(8981).p,o=r(7749);e.exports={pathExists:n((function(e){return o.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:o.existsSync}},4542:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(8157);e.exports={remove:n(o),removeSync:o.sync}},8157:(e,t,r)=>{"use strict";const n=r(77),o=r(5622),a=r(2357),i="win32"===process.platform;function s(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||n[t],e[t+="Sync"]=e[t]||n[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,r){let n=0;"function"==typeof t&&(r=t,t={}),a(e,"rimraf: missing path"),a.equal(typeof e,"string","rimraf: path should be a string"),a.equal(typeof r,"function","rimraf: callback function required"),a(t,"rimraf: invalid options argument provided"),a.equal(typeof t,"object","rimraf: options should be object"),s(t),l(e,t,(function o(a){if(a){if(("EBUSY"===a.code||"ENOTEMPTY"===a.code||"EPERM"===a.code)&&n<t.maxBusyTries)return n++,setTimeout((()=>l(e,t,o)),100*n);"ENOENT"===a.code&&(a=null)}r(a)}))}function l(e,t,r){a(e),a(t),a("function"==typeof r),t.lstat(e,((n,o)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&i?u(e,t,n,r):o&&o.isDirectory()?d(e,t,n,r):void t.unlink(e,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return i?u(e,t,n,r):d(e,t,n,r);if("EISDIR"===n.code)return d(e,t,n,r)}return r(n)}))))}function u(e,t,r,n){a(e),a(t),a("function"==typeof n),r&&a(r instanceof Error),t.chmod(e,438,(o=>{o?n("ENOENT"===o.code?null:r):t.stat(e,((o,a)=>{o?n("ENOENT"===o.code?null:r):a.isDirectory()?d(e,t,r,n):t.unlink(e,n)}))}))}function p(e,t,r){let n;a(e),a(t),r&&a(r instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?h(e,t,r):t.unlinkSync(e)}function d(e,t,r,n){a(e),a(t),r&&a(r instanceof Error),a("function"==typeof n),t.rmdir(e,(i=>{!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?i&&"ENOTDIR"===i.code?n(r):n(i):function(e,t,r){a(e),a(t),a("function"==typeof r),t.readdir(e,((n,a)=>{if(n)return r(n);let i,s=a.length;if(0===s)return t.rmdir(e,r);a.forEach((n=>{c(o.join(e,n),t,(n=>{if(!i)return n?r(i=n):void(0==--s&&t.rmdir(e,r))}))}))}))}(e,t,n)}))}function m(e,t){let r;s(t=t||{}),a(e,"rimraf: missing path"),a.equal(typeof e,"string","rimraf: path should be a string"),a(t,"rimraf: missing options"),a.equal(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&i&&p(e,t,r)}try{r&&r.isDirectory()?h(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return i?p(e,t,r):h(e,t,r);if("EISDIR"!==r.code)throw r;h(e,t,r)}}function h(e,t,r){a(e),a(t),r&&a(r instanceof Error);try{t.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,t){a(e),a(t),t.readdirSync(e).forEach((r=>m(o.join(e,r),t)));const r=i?100:1;let n=0;for(;;){let o=!0;try{const a=t.rmdirSync(e,t);return o=!1,a}finally{if(++n<r&&o)continue}}}(e,t);else if("ENOENT"!==n.code)throw n}}e.exports=c,c.sync=m},3678:e=>{"use strict";e.exports=function(){const e=[].slice.call(arguments).filter((e=>e)),t=e.shift();return e.forEach((e=>{Object.keys(e).forEach((r=>{t[r]=e[r]}))})),t}},7065:e=>{e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},318:(e,t,r)=>{"use strict";const n=r(77),o=r(2087),a=r(5622);e.exports={hasMillisRes:function(e){let t=a.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=a.join(o.tmpdir(),t);const r=new Date(1435410243862);n.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",(o=>{if(o)return e(o);n.open(t,"r+",((o,a)=>{if(o)return e(o);n.futimes(a,r,r,(r=>{if(r)return e(r);n.close(a,(r=>{if(r)return e(r);n.stat(t,((t,r)=>{if(t)return e(t);e(null,r.mtime>1435410243e3)}))}))}))}))}))},hasMillisResSync:function(){let e=a.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=a.join(o.tmpdir(),e);const t=new Date(1435410243862);n.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const r=n.openSync(e,"r+");return n.futimesSync(r,t,t),n.closeSync(r),n.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,r,o){n.open(e,"r+",((e,a)=>{if(e)return o(e);n.futimes(a,t,r,(e=>{n.close(a,(t=>{o&&o(e||t)}))}))}))},utimesMillisSync:function(e,t,r){const o=n.openSync(e,"r+");return n.futimesSync(o,t,r),n.closeSync(o)}}},7647:(e,t,r)=>{"use strict";var n=r(6830),o=r(5622).posix.dirname,a="win32"===r(2087).platform(),i=/\\/g,s=/[\{\[].*[\}\]]$/,c=/(^|[^\\])([\{\[]|\([^\)]+$)/,l=/\\([\!\*\?\|\[\]\(\)\{\}])/g;e.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&a&&e.indexOf("/")<0&&(e=e.replace(i,"/")),s.test(e)&&(e+="/"),e+="a";do{e=o(e)}while(n(e)||c.test(e));return e.replace(l,"$1")}},6458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},77:(e,t,r)=>{var n,o,a=r(5747),i=r(2161),s=r(8520),c=r(6458),l=r(1669);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",o="___graceful-fs.previous");var p,d=function(){};if(l.debuglog?d=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!a[n]){var m=global[n]||[];u(a,m),a.close=function(e){function t(t,r){return e.call(a,t,(function(e){e||g(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,o,{value:e}),t}(a.close),a.closeSync=function(e){function t(t){e.apply(a,arguments),g()}return Object.defineProperty(t,o,{value:e}),t}(a.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(a[n]),r(2357).equal(a[n].length,0)}))}function h(e){i(e),e.gracefulify=h,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,o,a){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof o&&o.apply(this,arguments):f([e,[r,n,o],t,a||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,a,i){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof a&&a.apply(this,arguments):f([e,[t,n,o,a],r,i||Date.now(),Date.now()])}))}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){return"function"==typeof r&&(o=r,r=null),function e(t,r,o,a,i){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof a&&a.apply(this,arguments):f([e,[t,r,o,a],n,i||Date.now(),Date.now()])}))}(e,t,r,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,a,i){return o(t,r,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof a&&a.apply(this,arguments):f([e,[t,r,n,a],o,i||Date.now(),Date.now()])}))}(e,t,r,n)});var a=e.readdir;if(e.readdir=function(e,t,r){return"function"==typeof t&&(r=t,t=null),function e(t,r,n,o){return a(t,r,(function(a,i){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?(i&&i.sort&&i.sort(),"function"==typeof n&&n.call(this,a,i)):f([e,[t,r,n],a,o||Date.now(),Date.now()])}))}(e,t,r)},"v0.8"===process.version.substr(0,4)){var c=s(e);m=c.ReadStream,g=c.WriteStream}var l=e.ReadStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var u=e.WriteStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0});var p=m;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var d=g;function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o,a){return v(t,r,n,(function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):f([e,[t,r,n,o],i,a||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=b,e}function f(e){d("ENQUEUE",e[0].name,e[1]),a[n].push(e),v()}function g(){for(var e=Date.now(),t=0;t<a[n].length;++t)a[n][t].length>2&&(a[n][t][3]=e,a[n][t][4]=e);v()}function v(){if(clearTimeout(p),p=void 0,0!==a[n].length){var e=a[n].shift(),t=e[0],r=e[1],o=e[2],i=e[3],s=e[4];if(void 0===i)d("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){d("TIMEOUT",t.name,r);var c=r.pop();"function"==typeof c&&c.call(null,o)}else{var l=Date.now()-s,u=Math.max(s-i,1);l>=Math.min(1.2*u,100)?(d("RETRY",t.name,r),t.apply(null,r.concat([i]))):a[n].push(e)}void 0===p&&(p=setTimeout(v,0))}}global[n]||u(global,a[n]),e.exports=h(c(a)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!a.__patched&&(e.exports=h(a),a.__patched=!0)},8520:(e,t,r)=>{var n=r(2413).Stream;e.exports=function(e){return{ReadStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this);var a=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var i=Object.keys(o),s=0,c=i.length;s<c;s++){var l=i[s];this[l]=o[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return a.emit("error",e),void(a.readable=!1);a.fd=t,a.emit("open",t),a._read()})):process.nextTick((function(){a._read()}))},WriteStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var a=Object.keys(o),i=0,s=a.length;i<s;i++){var c=a[i];this[c]=o[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2161:(e,t,r)=>{var n=r(7619),o=process.cwd,a=null,i=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return a||(a=o.call(process)),a};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var s=process.chdir;process.chdir=function(e){a=null,s.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,s)}e.exports=function(e){var t,r;function o(t){return t?function(r,n,o){return t.call(e,r,n,(function(e){p(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function a(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!p(e))throw e}}:t}function s(t){return t?function(r,n,o,a){return t.call(e,r,n,o,(function(e){p(e)&&(e=null),a&&a.apply(this,arguments)}))}:t}function c(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!p(e))throw e}}:t}function l(t){return t?function(r,n,o){function a(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,a):t.call(e,r,a)}:t}function u(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o&&(o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296)),o}:t}function p(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?o&&o(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,r){var o,a=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),i=!0;try{o=e.fchmodSync(a,r),i=!1}finally{if(i)try{e.closeSync(a)}catch(e){}else e.closeSync(a)}return o}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,r,o,a){e.open(t,n.O_SYMLINK,(function(t,n){t?a&&a(t):e.futimes(n,r,o,(function(t){e.close(n,(function(e){a&&a(t||e)}))}))}))},e.lutimesSync=function(t,r,o){var a,i=e.openSync(t,n.O_SYMLINK),s=!0;try{a=e.futimesSync(i,r,o),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return a}):(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=o(e.chmod),e.fchmod=o(e.fchmod),e.lchmod=o(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=a(e.chmodSync),e.fchmodSync=a(e.fchmodSync),e.lchmodSync=a(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===i&&(e.rename=(t=e.rename,function(r,n,o){var a=Date.now(),i=0;t(r,n,(function s(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-a<6e4)return setTimeout((function(){e.stat(n,(function(e,a){e&&"ENOENT"===e.code?t(r,n,s):o(c)}))}),i),void(i<100&&(i+=10));o&&o(c)}))})),e.read=function(t){function r(r,n,o,a,i,s){var c;if(s&&"function"==typeof s){var l=0;c=function(u,p,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,o,a,i,c);s.apply(this,arguments)}}return t.call(e,r,n,o,a,i,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync=(r=e.readSync,function(t,n,o,a,i){for(var s=0;;)try{return r.call(e,t,n,o,a,i)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},2428:e=>{e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},6830:(e,t,r)=>{var n=r(2428),o={"{":"}","(":")","[":"]"},a=function(e){if("!"===e[0])return!0;for(var t=0,r=-2,n=-2,a=-2,i=-2,s=-2;t<e.length;){if("*"===e[t])return!0;if("?"===e[t+1]&&/[\].+)]/.test(e[t]))return!0;if(-1!==n&&"["===e[t]&&"]"!==e[t+1]&&(n<t&&(n=e.indexOf("]",t)),n>t)){if(-1===s||s>n)return!0;if(-1===(s=e.indexOf("\\",t))||s>n)return!0}if(-1!==a&&"{"===e[t]&&"}"!==e[t+1]&&(a=e.indexOf("}",t))>t&&(-1===(s=e.indexOf("\\",t))||s>a))return!0;if(-1!==i&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(i=e.indexOf(")",t))>t&&(-1===(s=e.indexOf("\\",t))||s>i))return!0;if(-1!==r&&"("===e[t]&&"|"!==e[t+1]&&(r<t&&(r=e.indexOf("|",t)),-1!==r&&")"!==e[r+1]&&(i=e.indexOf(")",r))>r&&(-1===(s=e.indexOf("\\",r))||s>i)))return!0;if("\\"===e[t]){var c=e[t+1];t+=2;var l=o[c];if(l){var u=e.indexOf(l,t);-1!==u&&(t=u+1)}if("!"===e[t])return!0}else t++}return!1},i=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var r=e[t+1];t+=2;var n=o[r];if(n){var a=e.indexOf(n,t);-1!==a&&(t=a+1)}if("!"===e[t])return!0}else t++}return!1};e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(n(e))return!0;var r=a;return t&&!1===t.strict&&(r=i),r(e)}},9924:e=>{"use strict";e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},1959:(e,t,r)=>{var n;function o(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,n){o(e,t||{},(function(e,t){e?n(e):r(t)}))}))}n(e,t||{},(function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)}))}r(5747),n="win32"===process.platform||global.TESTING_WINDOWS?r(1429):r(4601),e.exports=o,o.sync=function(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},4601:(e,t,r)=>{e.exports=o,o.sync=function(e,t){return a(n.statSync(e),t)};var n=r(5747);function o(e,t,r){n.stat(e,(function(e,n){r(e,!e&&a(n,t))}))}function a(e,t){return e.isFile()&&function(e,t){var r=e.mode,n=e.uid,o=e.gid,a=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),i=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),c=parseInt("010",8);return r&parseInt("001",8)||r&c&&o===i||r&s&&n===a||r&(s|c)&&0===a}(e,t)}},1429:(e,t,r)=>{e.exports=a,a.sync=function(e,t){return o(n.statSync(e),e,t)};var n=r(5747);function o(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,r)}function a(e,t,r){n.stat(e,(function(n,a){r(n,!n&&o(a,e,t))}))}},6813:(e,t,r)=>{var n;try{n=r(77)}catch(e){n=r(5747)}function o(e,t){var r,n="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(r=t.spaces),t.EOL&&(n=t.EOL)),JSON.stringify(e,t?t.replacer:null,r).replace(/\n/g,n)+n}function a(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var i={readFile:function(e,t,r){null==r&&(r=t,t={}),"string"==typeof t&&(t={encoding:t});var o=(t=t||{}).fs||n,i=!0;"throws"in t&&(i=t.throws),o.readFile(e,t,(function(n,o){if(n)return r(n);var s;o=a(o);try{s=JSON.parse(o,t?t.reviver:null)}catch(t){return i?(t.message=e+": "+t.message,r(t)):r(null,null)}r(null,s)}))},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var r=t.fs||n,o=!0;"throws"in t&&(o=t.throws);try{var i=r.readFileSync(e,t);return i=a(i),JSON.parse(i,t.reviver)}catch(t){if(o)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,r,a){null==a&&(a=r,r={});var i=(r=r||{}).fs||n,s="";try{s=o(t,r)}catch(e){return void(a&&a(e,null))}i.writeFile(e,s,r,a)},writeFileSync:function(e,t,r){var a=(r=r||{}).fs||n,i=o(t,r);return a.writeFileSync(e,i,r)}};e.exports=i},9593:(e,t,r)=>{"use strict";const n=r(4411),o=Symbol("max"),a=Symbol("length"),i=Symbol("lengthCalculator"),s=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),d=Symbol("cache"),m=Symbol("updateAgeOnGet"),h=()=>1,f=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(g(e,t)){if(b(e,n),!e[s])return}else r&&(e[m]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},v=e=>{if(e[a]>e[o])for(let t=e[p].tail;e[a]>e[o]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[a]-=r.length,e[d].delete(r.key),e[p].removeNode(t)}};class y{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const x=(e,t,r,n)=>{let o=r.value;g(e,o)&&(b(e,r),e[s]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||h;if(this[i]="function"!=typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[m]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[i]&&(this[i]=e,this[a]=0,this[p].forEach((e=>{e.length=this[i](e.value,e.key),this[a]+=e.length}))),v(this)}get lengthCalculator(){return this[i]}get length(){return this[a]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let r=this[p].tail;null!==r;){const n=r.prev;x(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[p].head;null!==r;){const n=r.next;x(this,e,r,t),r=n}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[l]&&this[p]&&this[p].length&&this[p].forEach((e=>this[l](e.key,e.value))),this[d]=new Map,this[p]=new n,this[a]=0}dump(){return this[p].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[i](t,e);if(this[d].has(e)){if(s>this[o])return b(this,this[d].get(e)),!1;const i=this[d].get(e).value;return this[l]&&(this[u]||this[l](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[a]+=s-i.length,i.length=s,this.get(e),v(this),!0}const m=new y(e,t,s,n,r);return m.length>this[o]?(this[l]&&this[l](e,t),!1):(this[a]+=m.length,this[p].unshift(m),this[d].set(e,this[p].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!g(this,t)}get(e){return f(this,e,!0)}peek(e){return f(this,e,!1)}pop(){const e=this[p].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach(((e,t)=>f(this,t,!1)))}}},155:(e,t,r)=>{"use strict";const n=r(2413).PassThrough,o=Array.prototype.slice;function a(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=a(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(n(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}e.exports=function(){const e=[],t=o.call(arguments);let r=!1,i=t[t.length-1];i&&!Array.isArray(i)&&null==i.pipe?t.pop():i={};const s=!1!==i.end,c=!0===i.pipeError;null==i.objectMode&&(i.objectMode=!0),null==i.highWaterMark&&(i.highWaterMark=65536);const l=n(i);function u(){for(let t=0,r=arguments.length;t<r;t++)e.push(a(arguments[t],i));return p(),this}function p(){if(r)return;r=!0;let t=e.shift();if(!t)return void process.nextTick(d);Array.isArray(t)||(t=[t]);let n=t.length+1;function o(){--n>0||(r=!1,p())}function a(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),c&&e.removeListener("error",r),o()}function r(e){l.emit("error",e)}if(e._readableState.endEmitted)return o();e.on("merge2UnpipeEnd",t),e.on("end",t),c&&e.on("error",r),e.pipe(l,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)a(t[e]);o()}function d(){r=!1,l.emit("queueDrain"),s&&l.end()}return l.setMaxListeners(0),l.add=u,l.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&u.apply(null,t),l}},850:(e,t,r)=>{"use strict";const n=r(1669),o=r(6744),a=r(9444),i=r(8702),s=e=>""===e||"./"===e,c=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,o=new Set,i=new Set,s=0,c=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let l=a(String(t[i]),{...r,onResult:c},!0),u=l.state.negated||l.state.negatedExtglob;u&&s++;for(let t of e){let e=l(t,!0);(u?!e.isMatch:e.isMatch)&&(u?n.add(e.output):(n.delete(e.output),o.add(e.output)))}}let l=(s===t.length?[...i]:[...o]).filter((e=>!n.has(e)));if(r&&0===l.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map((e=>e.replace(/\\/g,""))):t}return l};c.match=c,c.matcher=(e,t)=>a(e,t),c.any=c.isMatch=(e,t,r)=>a(t,r)(e),c.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,o=[],a=c(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),o.push(e.output)}});for(let e of o)a.includes(e)||n.add(e);return[...n]},c.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>c.contains(e,t,r)));if("string"==typeof t){if(s(e)||s(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return c.isMatch(e,t,{...r,contains:!0})},c.matchKeys=(e,t,r)=>{if(!i.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=c(Object.keys(e),t,r),o={};for(let t of n)o[t]=e[t];return o},c.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=a(String(e),r);if(n.some((e=>t(e))))return!0}return!1},c.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=a(String(e),r);if(!n.every((e=>t(e))))return!1}return!0},c.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every((t=>a(t,r)(e)))},c.capture=(e,t,r)=>{let n=i.isWindows(r),o=a.makeRe(String(e),{...r,capture:!0}).exec(n?i.toPosixSlashes(t):t);if(o)return o.slice(1).map((e=>void 0===e?"":e))},c.makeRe=(...e)=>a.makeRe(...e),c.scan=(...e)=>a.scan(...e),c.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of o(String(n),t))r.push(a.parse(e,t));return r},c.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:o(e,t)},c.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return c.braces(e,{...t,expand:!0})},e.exports=c},3313:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},5234:(e,t,r)=>{e.exports=r(3313)},983:(e,t,r)=>{"use strict";var n,o,a,i=r(5234),s=r(5622).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),r=t&&i[t[1].toLowerCase()];return r&&r.charset?r.charset:!(!t||!l.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var r=-1===e.indexOf("/")?t.lookup(e):e;if(!r)return!1;if(-1===r.indexOf("charset")){var n=t.charset(r);n&&(r+="; charset="+n.toLowerCase())}return r},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var r=c.exec(e),n=r&&t.extensions[r[1].toLowerCase()];return!(!n||!n.length)&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var r=s("x."+e).toLowerCase().substr(1);return r&&t.types[r]||!1},t.types=Object.create(null),n=t.extensions,o=t.types,a=["nginx","apache",void 0,"iana"],Object.keys(i).forEach((function(e){var t=i[e],r=t.extensions;if(r&&r.length){n[e]=r;for(var s=0;s<r.length;s++){var c=r[s];if(o[c]){var l=a.indexOf(i[o[c]].source),u=a.indexOf(t.source);if("application/octet-stream"!==o[c]&&(l>u||l===u&&"application/"===o[c].substr(0,12)))continue}o[c]=e}}}))},9444:(e,t,r)=>{"use strict";e.exports=r(6087)},1006:(e,t,r)=>{"use strict";const n=r(5622),o="\\.{1,2}(?:\\/|$)",a={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:o,NO_DOT:"(?!\\.)",NO_DOTS:`(?!(?:^|\\/)${o})`,NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:`(?!${o})`,QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},i={...a,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?i:a}},3376:(e,t,r)=>{"use strict";const n=r(1006),o=r(8702),{MAX_LENGTH:a,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=n,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map((e=>o.escapeRegex(e))).join("..")}return r},p=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=l[e]||e;const r={...t},m="number"==typeof r.maxLength?Math.min(a,r.maxLength):a;let h=e.length;if(h>m)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${m}`);const f={type:"bos",value:"",output:r.prepend||""},g=[f],v=r.capture?"":"?:",b=o.isWindows(t),y=n.globChars(b),x=n.extglobChars(y),{DOT_LITERAL:S,PLUS_LITERAL:_,SLASH_LITERAL:E,ONE_CHAR:w,DOTS_SLASH:P,NO_DOT:T,NO_DOT_SLASH:D,NO_DOTS_SLASH:C,QMARK:A,QMARK_NO_DOT:j,STAR:I,START_ANCHOR:N}=y,O=e=>`(${v}(?:(?!${N}${e.dot?P:S}).)*?)`,R=r.dot?"":T,k=r.dot?A:j;let F=!0===r.bash?O(r):I;r.capture&&(F=`(${F})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const M={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};e=o.removePrefix(e,M),h=e.length;const L=[],q=[],B=[];let V,U=f;const $=()=>M.index===h-1,H=M.peek=(t=1)=>e[M.index+t],z=M.advance=()=>e[++M.index]||"",G=()=>e.slice(M.index+1),W=(e="",t=0)=>{M.consumed+=e,M.index+=t},X=e=>{M.output+=null!=e.output?e.output:e.value,W(e.value)},K=()=>{let e=1;for(;"!"===H()&&("("!==H(2)||"?"===H(3));)z(),M.start++,e++;return e%2!=0&&(M.negated=!0,M.start++,!0)},Q=e=>{M[e]++,B.push(e)},Y=e=>{M[e]--,B.pop()},J=e=>{if("globstar"===U.type){const t=M.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||L.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(M.output=M.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=F,M.output+=U.output)}if(L.length&&"paren"!==e.type&&(L[L.length-1].inner+=e.value),(e.value||e.output)&&X(e),U&&"text"===U.type&&"text"===e.type)return U.value+=e.value,void(U.output=(U.output||"")+e.value);e.prev=U,g.push(e),U=e},Z=(e,t)=>{const n={...x[t],conditions:1,inner:""};n.prev=U,n.parens=M.parens,n.output=M.output;const o=(r.capture?"(":"")+n.open;Q("parens"),J({type:e,value:t,output:M.output?"":w}),J({type:"paren",extglob:!0,value:z(),output:o}),L.push(n)},ee=e=>{let n,o=e.close+(r.capture?")":"");if("negate"===e.type){let a=F;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(a=O(r)),(a!==F||$()||/^\)+$/.test(G()))&&(o=e.close=`)$))${a}`),e.inner.includes("*")&&(n=G())&&/^\.[^\\/.]+$/.test(n)){const r=d(n,{...t,fastpaths:!1}).output;o=e.close=`)${r})${a})`}"bos"===e.prev.type&&(M.negatedExtglob=!0)}J({type:"paren",extglob:!0,value:V,output:o}),Y("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,a=e.replace(c,((e,t,r,o,a,i)=>"\\"===o?(n=!0,e):"?"===o?t?t+o+(a?A.repeat(a.length):""):0===i?k+(a?A.repeat(a.length):""):A.repeat(r.length):"."===o?S.repeat(r.length):"*"===o?t?t+o+(a?F:""):F:t?e:`\\${e}`));return!0===n&&(a=!0===r.unescape?a.replace(/\\/g,""):a.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),a===e&&!0===r.contains?(M.output=e,M):(M.output=o.wrapOutput(a,M,t),M)}for(;!$();){if(V=z(),"\0"===V)continue;if("\\"===V){const e=H();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){V+="\\",J({type:"text",value:V});continue}const t=/^\\+/.exec(G());let n=0;if(t&&t[0].length>2&&(n=t[0].length,M.index+=n,n%2!=0&&(V+="\\")),!0===r.unescape?V=z():V+=z(),0===M.brackets){J({type:"text",value:V});continue}}if(M.brackets>0&&("]"!==V||"["===U.value||"[^"===U.value)){if(!1!==r.posix&&":"===V){const e=U.value.slice(1);if(e.includes("[")&&(U.posix=!0,e.includes(":"))){const e=U.value.lastIndexOf("["),t=U.value.slice(0,e),r=U.value.slice(e+2),n=i[r];if(n){U.value=t+n,M.backtrack=!0,z(),f.output||1!==g.indexOf(U)||(f.output=w);continue}}}("["===V&&":"!==H()||"-"===V&&"]"===H())&&(V=`\\${V}`),"]"!==V||"["!==U.value&&"[^"!==U.value||(V=`\\${V}`),!0===r.posix&&"!"===V&&"["===U.value&&(V="^"),U.value+=V,X({value:V});continue}if(1===M.quotes&&'"'!==V){V=o.escapeRegex(V),U.value+=V,X({value:V});continue}if('"'===V){M.quotes=1===M.quotes?0:1,!0===r.keepQuotes&&J({type:"text",value:V});continue}if("("===V){Q("parens"),J({type:"paren",value:V});continue}if(")"===V){if(0===M.parens&&!0===r.strictBrackets)throw new SyntaxError(p("opening","("));const e=L[L.length-1];if(e&&M.parens===e.parens+1){ee(L.pop());continue}J({type:"paren",value:V,output:M.parens?")":"\\)"}),Y("parens");continue}if("["===V){if(!0!==r.nobracket&&G().includes("]"))Q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(p("closing","]"));V=`\\${V}`}J({type:"bracket",value:V});continue}if("]"===V){if(!0===r.nobracket||U&&"bracket"===U.type&&1===U.value.length){J({type:"text",value:V,output:`\\${V}`});continue}if(0===M.brackets){if(!0===r.strictBrackets)throw new SyntaxError(p("opening","["));J({type:"text",value:V,output:`\\${V}`});continue}Y("brackets");const e=U.value.slice(1);if(!0===U.posix||"^"!==e[0]||e.includes("/")||(V=`/${V}`),U.value+=V,X({value:V}),!1===r.literalBrackets||o.hasRegexChars(e))continue;const t=o.escapeRegex(U.value);if(M.output=M.output.slice(0,-U.value.length),!0===r.literalBrackets){M.output+=t,U.value=t;continue}U.value=`(${v}${t}|${U.value})`,M.output+=U.value;continue}if("{"===V&&!0!==r.nobrace){Q("braces");const e={type:"brace",value:V,output:"(",outputIndex:M.output.length,tokensIndex:M.tokens.length};q.push(e),J(e);continue}if("}"===V){const e=q[q.length-1];if(!0===r.nobrace||!e){J({type:"text",value:V,output:V});continue}let t=")";if(!0===e.dots){const e=g.slice(),n=[];for(let t=e.length-1;t>=0&&(g.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=u(n,r),M.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=M.output.slice(0,e.outputIndex),n=M.tokens.slice(e.tokensIndex);e.value=e.output="\\{",V=t="\\}",M.output=r;for(const e of n)M.output+=e.output||e.value}J({type:"brace",value:V,output:t}),Y("braces"),q.pop();continue}if("|"===V){L.length>0&&L[L.length-1].conditions++,J({type:"text",value:V});continue}if(","===V){let e=V;const t=q[q.length-1];t&&"braces"===B[B.length-1]&&(t.comma=!0,e="|"),J({type:"comma",value:V,output:e});continue}if("/"===V){if("dot"===U.type&&M.index===M.start+1){M.start=M.index+1,M.consumed="",M.output="",g.pop(),U=f;continue}J({type:"slash",value:V,output:E});continue}if("."===V){if(M.braces>0&&"dot"===U.type){"."===U.value&&(U.output=S);const e=q[q.length-1];U.type="dots",U.output+=V,U.value+=V,e.dots=!0;continue}if(M.braces+M.parens===0&&"bos"!==U.type&&"slash"!==U.type){J({type:"text",value:V,output:S});continue}J({type:"dot",value:V,output:S});continue}if("?"===V){if((!U||"("!==U.value)&&!0!==r.noextglob&&"("===H()&&"?"!==H(2)){Z("qmark",V);continue}if(U&&"paren"===U.type){const e=H();let t=V;if("<"===e&&!o.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(G()))&&(t=`\\${V}`),J({type:"text",value:V,output:t});continue}if(!0!==r.dot&&("slash"===U.type||"bos"===U.type)){J({type:"qmark",value:V,output:j});continue}J({type:"qmark",value:V,output:A});continue}if("!"===V){if(!0!==r.noextglob&&"("===H()&&("?"!==H(2)||!/[!=<:]/.test(H(3)))){Z("negate",V);continue}if(!0!==r.nonegate&&0===M.index){K();continue}}if("+"===V){if(!0!==r.noextglob&&"("===H()&&"?"!==H(2)){Z("plus",V);continue}if(U&&"("===U.value||!1===r.regex){J({type:"plus",value:V,output:_});continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)||M.parens>0){J({type:"plus",value:V});continue}J({type:"plus",value:_});continue}if("@"===V){if(!0!==r.noextglob&&"("===H()&&"?"!==H(2)){J({type:"at",extglob:!0,value:V,output:""});continue}J({type:"text",value:V});continue}if("*"!==V){"$"!==V&&"^"!==V||(V=`\\${V}`);const e=s.exec(G());e&&(V+=e[0],M.index+=e[0].length),J({type:"text",value:V});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=V,U.output=F,M.backtrack=!0,M.globstar=!0,W(V);continue}let t=G();if(!0!==r.noextglob&&/^\([^?]/.test(t)){Z("star",V);continue}if("star"===U.type){if(!0===r.noglobstar){W(V);continue}const n=U.prev,o=n.prev,a="slash"===n.type||"bos"===n.type,i=o&&("star"===o.type||"globstar"===o.type);if(!0===r.bash&&(!a||t[0]&&"/"!==t[0])){J({type:"star",value:V,output:""});continue}const s=M.braces>0&&("comma"===n.type||"brace"===n.type),c=L.length&&("pipe"===n.type||"paren"===n.type);if(!a&&"paren"!==n.type&&!s&&!c){J({type:"star",value:V,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[M.index+4];if(r&&"/"!==r)break;t=t.slice(3),W("/**",3)}if("bos"===n.type&&$()){U.type="globstar",U.value+=V,U.output=O(r),M.output=U.output,M.globstar=!0,W(V);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!i&&$()){M.output=M.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=O(r)+(r.strictSlashes?")":"|$)"),U.value+=V,M.globstar=!0,M.output+=n.output+U.output,W(V);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";M.output=M.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=`${O(r)}${E}|${E}${e})`,U.value+=V,M.output+=n.output+U.output,M.globstar=!0,W(V+z()),J({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){U.type="globstar",U.value+=V,U.output=`(?:^|${E}|${O(r)}${E})`,M.output=U.output,M.globstar=!0,W(V+z()),J({type:"slash",value:"/",output:""});continue}M.output=M.output.slice(0,-U.output.length),U.type="globstar",U.output=O(r),U.value+=V,M.output+=U.output,M.globstar=!0,W(V);continue}const n={type:"star",value:V,output:F};!0!==r.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==r.regex?(M.index!==M.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(M.output+=D,U.output+=D):!0===r.dot?(M.output+=C,U.output+=C):(M.output+=R,U.output+=R),"*"!==H()&&(M.output+=w,U.output+=w)),J(n)):(n.output=V,J(n)):(n.output=".*?","bos"!==U.type&&"slash"!==U.type||(n.output=R+n.output),J(n))}for(;M.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing","]"));M.output=o.escapeLast(M.output,"["),Y("brackets")}for(;M.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing",")"));M.output=o.escapeLast(M.output,"("),Y("parens")}for(;M.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing","}"));M.output=o.escapeLast(M.output,"{"),Y("braces")}if(!0===r.strictSlashes||"star"!==U.type&&"bracket"!==U.type||J({type:"maybe_slash",value:"",output:`${E}?`}),!0===M.backtrack){M.output="";for(const e of M.tokens)M.output+=null!=e.output?e.output:e.value,e.suffix&&(M.output+=e.suffix)}return M};d.fastpaths=(e,t)=>{const r={...t},i="number"==typeof r.maxLength?Math.min(a,r.maxLength):a,s=e.length;if(s>i)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${i}`);e=l[e]||e;const c=o.isWindows(t),{DOT_LITERAL:u,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:m,NO_DOT:h,NO_DOTS:f,NO_DOTS_SLASH:g,STAR:v,START_ANCHOR:b}=n.globChars(c),y=r.dot?f:h,x=r.dot?g:h,S=r.capture?"":"?:";let _=!0===r.bash?".*?":v;r.capture&&(_=`(${_})`);const E=e=>!0===e.noglobstar?_:`(${S}(?:(?!${b}${e.dot?m:u}).)*?)`,w=e=>{switch(e){case"*":return`${y}${d}${_}`;case".*":return`${u}${d}${_}`;case"*.*":return`${y}${_}${u}${d}${_}`;case"*/*":return`${y}${_}${p}${d}${x}${_}`;case"**":return y+E(r);case"**/*":return`(?:${y}${E(r)}${p})?${x}${d}${_}`;case"**/*.*":return`(?:${y}${E(r)}${p})?${x}${_}${u}${d}${_}`;case"**/.*":return`(?:${y}${E(r)}${p})?${u}${d}${_}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=w(t[1]);if(!r)return;return r+u+t[2]}}},P=o.removePrefix(e,{negated:!1,prefix:""});let T=w(P);return T&&!0!==r.strictSlashes&&(T+=`${p}?`),T},e.exports=d},6087:(e,t,r)=>{"use strict";const n=r(5622),o=r(3921),a=r(3376),i=r(8702),s=r(1006),c=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map((e=>c(e,t,r)));return e=>{for(const t of n){const r=t(e);if(r)return r}return!1}}const n=(o=e)&&"object"==typeof o&&!Array.isArray(o)&&e.tokens&&e.input;var o;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const a=t||{},s=i.isWindows(t),l=n?c.compileRe(e,t):c.makeRe(e,t,!1,!0),u=l.state;delete l.state;let p=()=>!1;if(a.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};p=c(a.ignore,e,r)}const d=(r,n=!1)=>{const{isMatch:o,match:i,output:d}=c.test(r,l,t,{glob:e,posix:s}),m={glob:e,state:u,regex:l,posix:s,input:r,output:d,match:i,isMatch:o};return"function"==typeof a.onResult&&a.onResult(m),!1===o?(m.isMatch=!1,!!n&&m):p(r)?("function"==typeof a.onIgnore&&a.onIgnore(m),m.isMatch=!1,!!n&&m):("function"==typeof a.onMatch&&a.onMatch(m),!n||m)};return r&&(d.state=u),d};c.test=(e,t,r,{glob:n,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const a=r||{},s=a.format||(o?i.toPosixSlashes:null);let l=e===n,u=l&&s?s(e):e;return!1===l&&(u=s?s(e):e,l=u===n),!1!==l&&!0!==a.capture||(l=!0===a.matchBase||!0===a.basename?c.matchBase(e,t,r,o):t.exec(u)),{isMatch:Boolean(l),match:l,output:u}},c.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:c.makeRe(t,r)).test(n.basename(e)),c.isMatch=(e,t,r)=>c(t,r)(e),c.parse=(e,t)=>Array.isArray(e)?e.map((e=>c.parse(e,t))):a(e,{...t,fastpaths:!1}),c.scan=(e,t)=>o(e,t),c.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const o=t||{},a=o.contains?"":"^",i=o.contains?"":"$";let s=`${a}(?:${e.output})${i}`;e&&!0===e.negated&&(s=`^(?!${s}).*$`);const l=c.toRegex(s,t);return!0===n&&(l.state=e),l},c.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(o.output=a.fastpaths(e,t)),o.output||(o=a(e,t)),c.compileRe(o,t,r,n)},c.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},c.constants=s,e.exports=c},3921:(e,t,r)=>{"use strict";const n=r(8702),{CHAR_ASTERISK:o,CHAR_AT:a,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:s,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:m,CHAR_PLUS:h,CHAR_QUESTION_MARK:f,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:v,CHAR_RIGHT_SQUARE_BRACKET:b}=r(1006),y=e=>e===u||e===i,x=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const r=t||{},S=e.length-1,_=!0===r.parts||!0===r.scanToEnd,E=[],w=[],P=[];let T,D,C=e,A=-1,j=0,I=0,N=!1,O=!1,R=!1,k=!1,F=!1,M=!1,L=!1,q=!1,B=!1,V=!1,U=0,$={value:"",depth:0,isGlob:!1};const H=()=>A>=S,z=()=>(T=D,C.charCodeAt(++A));for(;A<S;){let e;if(D=z(),D!==i){if(!0===M||D===p){for(U++;!0!==H()&&(D=z());)if(D!==i)if(D!==p){if(!0!==M&&D===c&&(D=z())===c){if(N=$.isBrace=!0,R=$.isGlob=!0,V=!0,!0===_)continue;break}if(!0!==M&&D===s){if(N=$.isBrace=!0,R=$.isGlob=!0,V=!0,!0===_)continue;break}if(D===g&&(U--,0===U)){M=!1,N=$.isBrace=!0,V=!0;break}}else U++;else L=$.backslashes=!0,z();if(!0===_)continue;break}if(D!==u){if(!0!==r.noext&&!0==(D===h||D===a||D===o||D===f||D===l)&&C.charCodeAt(A+1)===d){if(R=$.isGlob=!0,k=$.isExtglob=!0,V=!0,D===l&&A===j&&(B=!0),!0===_){for(;!0!==H()&&(D=z());)if(D!==i){if(D===v){R=$.isGlob=!0,V=!0;break}}else L=$.backslashes=!0,D=z();continue}break}if(D===o){if(T===o&&(F=$.isGlobstar=!0),R=$.isGlob=!0,V=!0,!0===_)continue;break}if(D===f){if(R=$.isGlob=!0,V=!0,!0===_)continue;break}if(D===m){for(;!0!==H()&&(e=z());)if(e!==i){if(e===b){O=$.isBracket=!0,R=$.isGlob=!0,V=!0;break}}else L=$.backslashes=!0,z();if(!0===_)continue;break}if(!0===r.nonegate||D!==l||A!==j){if(!0!==r.noparen&&D===d){if(R=$.isGlob=!0,!0===_){for(;!0!==H()&&(D=z());)if(D!==d){if(D===v){V=!0;break}}else L=$.backslashes=!0,D=z();continue}break}if(!0===R){if(V=!0,!0===_)continue;break}}else q=$.negated=!0,j++}else{if(E.push(A),w.push($),$={value:"",depth:0,isGlob:!1},!0===V)continue;if(T===c&&A===j+1){j+=2;continue}I=A+1}}else L=$.backslashes=!0,D=z(),D===p&&(M=!0)}!0===r.noext&&(k=!1,R=!1);let G=C,W="",X="";j>0&&(W=C.slice(0,j),C=C.slice(j),I-=j),G&&!0===R&&I>0?(G=C.slice(0,I),X=C.slice(I)):!0===R?(G="",X=C):G=C,G&&""!==G&&"/"!==G&&G!==C&&y(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),!0===r.unescape&&(X&&(X=n.removeBackslashes(X)),G&&!0===L&&(G=n.removeBackslashes(G)));const K={prefix:W,input:e,start:j,base:G,glob:X,isBrace:N,isBracket:O,isGlob:R,isExtglob:k,isGlobstar:F,negated:q,negatedExtglob:B};if(!0===r.tokens&&(K.maxDepth=0,y(D)||w.push($),K.tokens=w),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<E.length;n++){const o=t?t+1:j,a=E[n],i=e.slice(o,a);r.tokens&&(0===n&&0!==j?(w[n].isPrefix=!0,w[n].value=W):w[n].value=i,x(w[n]),K.maxDepth+=w[n].depth),0===n&&""===i||P.push(i),t=a}if(t&&t+1<e.length){const n=e.slice(t+1);P.push(n),r.tokens&&(w[w.length-1].value=n,x(w[w.length-1]),K.maxDepth+=w[w.length-1].depth)}K.slashes=E,K.parts=P}return K}},8702:(e,t,r)=>{"use strict";const n=r(5622),o="win32"===process.platform,{REGEX_BACKSLASH:a,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(1006);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>s.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(c,"\\$1"),t.toPosixSlashes=e=>e.replace(a,"/"),t.removeBackslashes=e=>e.replace(i,(e=>"\\"===e?"":e)),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===o||"\\"===n.sep,t.escapeLast=(e,r,n)=>{const o=e.lastIndexOf(r,n);return-1===o?e:"\\"===e[o-1]?t.escapeLast(e,r,o-1):`${e.slice(0,o)}\\${e.slice(o)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}},4155:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.promisifyChildProcess=i,t.spawn=function(e,t,r){return i(o.default.spawn(e,t,r),Array.isArray(t)?r:t)},t.fork=function(e,t,r){return i(o.default.fork(e,t,r),Array.isArray(t)?r:t)},t.execFile=t.exec=void 0;var o=n(r(3129));function a(e,t){if(e[0]instanceof Buffer){var r=Buffer.concat(e);return t?r.toString(t):r}return e.join("")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Promise((function(r,n){var o,i=t.encoding,s=t.killSignal,c=null!=i||null!=t.maxBuffer,l=t.maxBuffer||204800,u=0,p=[],d=[],m=function(t){return function(r){var n=l-u;r.length>n&&(o=new Error("maxBuffer size exceeded"),e.kill(s||"SIGTERM"),r=r.slice(0,n)),u+=r.length,t.push(r)}};function h(e,t){function s(e){c?(e.stdout=a(p,i),e.stderr=a(d,i)):Object.defineProperties(e,{stdout:{configurable:!0,enumerable:!0,get:function(){return console.error(new Error("To get stdout from a spawned or forked process, set the `encoding` or `maxBuffer` option").stack.replace(/^Error/,"Warning")),null}},stderr:{configurable:!0,enumerable:!0,get:function(){return console.error(new Error("To get stderr from a spawned or forked process, set the `encoding` or `maxBuffer` option").stack.replace(/^Error/,"Warning")),null}}})}o||(null!=e&&0!==e?o=new Error("Process exited with code ".concat(e)):null!=t&&(o=new Error("Process was killed with ".concat(t))));var l={};s(l);var u=o;u?(u.code=e,u.signal=t,s(u),n(u)):r(l)}c&&(e.stdout&&e.stdout.on("data",m(p)),e.stderr&&e.stderr.on("data",m(d))),e.on("error",n),e.on("close",h),e.on("exit",h)}));return Object.create(e,{then:{value:r.then.bind(r)},catch:{value:r.catch.bind(r)}})}function s(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o,a=new Promise((function(t,n){o=e.apply(void 0,r.concat([function(e,r,o){e?(e.stdout=r,e.stderr=o,n(e)):t({stdout:r,stderr:o})}]))}));if(!o)throw new Error("unexpected error: child has not been initialized");return Object.create(o,{then:{value:a.then.bind(a)},catch:{value:a.catch.bind(a)}})}}var c=s(o.default.exec);t.exec=c;var l=s(o.default.execFile);t.execFile=l},4375:e=>{let t;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:global):e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},3650:e=>{"use strict";e.exports=function(e){var t=new e,r=t;return{get:function(){var n=t;return n.next?t=n.next:(t=new e,r=t),n.next=null,n},release:function(e){r.next=e,r=e}}}},4595:(e,t,r)=>{e.exports=function(e,t){let r,o,a,i=!0;function s(e){function o(){t&&t(e,r),t=null}i?n(o):o()}function c(e,t,n){r[e]=n,(0==--o||t)&&s(t)}Array.isArray(e)?(r=[],o=e.length):(a=Object.keys(e),r={},o=a.length),o?a?a.forEach((function(t){e[t]((function(e,r){c(t,e,r)}))})):e.forEach((function(e,t){e((function(e,r){c(t,e,r)}))})):s(null),i=!1};const n=r(4375)},2257:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new p(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new p(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||a&&i||s||l}}e.exports=o;const a=r(2893),{re:i,t:s}=r(5765),c=r(7539),l=r(4225),u=r(6376),p=r(6902)},6902:(e,t,r)=>{class n{constructor(e,t){if(t=a(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!h(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&f(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=o.get(t);if(r)return r;const n=this.options.loose,a=n?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(a,D(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(l[u.COMPARATORTRIM],p),s("comparator trim",e,l[u.COMPARATORTRIM]),e=(e=(e=e.replace(l[u.TILDETRIM],d)).replace(l[u.CARETTRIM],m)).split(/\s+/).join(" ");const c=n?l[u.COMPARATORLOOSE]:l[u.COMPARATOR],f=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>T(e,this.options))).filter(this.options.loose?e=>!!e.match(c):()=>!0).map((e=>new i(e,this.options))),g=(f.length,new Map);for(const e of f){if(h(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const b=[...g.values()];return o.set(t,b),b}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>g(r,t)&&e.set.some((e=>g(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(C(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const o=new(r(9593))({max:1e3}),a=r(2893),i=r(2257),s=r(4225),c=r(6376),{re:l,t:u,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:m}=r(5765),h=e=>"<0.0.0-0"===e.value,f=e=>""===e.value,g=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},v=(e,t)=>(s("comp",e,t),e=S(e,t),s("caret",e),e=y(e,t),s("tildes",e),e=E(e,t),s("xrange",e),e=P(e,t),s("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{const r=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(r,((t,r,n,o,a)=>{let i;return s("tilde",e,t,r,n,o,a),b(r)?i="":b(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:b(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:a?(s("replaceTilde pr",a),i=`>=${r}.${n}.${o}-${a} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,s("tilde return",i),i}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{s("caret",e,t);const r=t.loose?l[u.CARETLOOSE]:l[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,a,i)=>{let c;return s("caret",e,t,r,o,a,i),b(r)?c="":b(o)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:b(a)?c="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(s("replaceCaret pr",i),c="0"===r?"0"===o?`>=${r}.${o}.${a}-${i} <${r}.${o}.${+a+1}-0`:`>=${r}.${o}.${a}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${a}-${i} <${+r+1}.0.0-0`):(s("no pr"),c="0"===r?"0"===o?`>=${r}.${o}.${a}${n} <${r}.${o}.${+a+1}-0`:`>=${r}.${o}.${a}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${a} <${+r+1}.0.0-0`),s("caret return",c),c}))},E=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>w(e,t))).join(" ")),w=(e,t)=>{e=e.trim();const r=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(r,((r,n,o,a,i,c)=>{s("xRange",e,r,n,o,a,i,c);const l=b(o),u=l||b(a),p=u||b(i),d=p;return"="===n&&d&&(n=""),c=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(a=0),i=0,">"===n?(n=">=",u?(o=+o+1,a=0,i=0):(a=+a+1,i=0)):"<="===n&&(n="<",u?o=+o+1:a=+a+1),"<"===n&&(c="-0"),r=`${n+o}.${a}.${i}${c}`):u?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${a}.0${c} <${o}.${+a+1}.0-0`),s("xRange return",r),r}))},P=(e,t)=>(s("replaceStars",e,t),e.trim().replace(l[u.STAR],"")),T=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),D=e=>(t,r,n,o,a,i,s,c,l,u,p,d,m)=>`${r=b(n)?"":b(o)?`>=${n}.0.0${e?"-0":""}`:b(a)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=b(l)?"":b(u)?`<${+l+1}.0.0-0`:b(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),C=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(s(e[r].semver),e[r].semver!==i.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,r)=>{const n=r(4225),{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=r(3295),{re:i,t:s}=r(5765),c=r(2893),{compareIdentifiers:l}=r(5638);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=u},3507:(e,t,r)=>{const n=r(3959);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7539:(e,t,r)=>{const n=r(8718),o=r(1194),a=r(1312),i=r(5903),s=r(1544),c=r(2056);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return a(e,r,l);case">=":return i(e,r,l);case"<":return s(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,r)=>{const n=r(6376),o=r(3959),{re:a,t:i}=r(5765);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=a[i.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),a[i.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;a[i.COERCERTL].lastIndex=-1}else r=e.match(a[i.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},8880:(e,t,r)=>{const n=r(6376);e.exports=(e,t,r)=>{const o=new n(e,r),a=new n(t,r);return o.compare(a)||o.compareBuild(a)}},7880:(e,t,r)=>{const n=r(6269);e.exports=(e,t)=>n(e,t,!0)},6269:(e,t,r)=>{const n=r(6376);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},2378:(e,t,r)=>{const n=r(3959),o=r(8718);e.exports=(e,t)=>{if(o(e,t))return null;{const r=n(e),o=n(t),a=r.prerelease.length||o.prerelease.length,i=a?"pre":"",s=a?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==o[e])return i+e;return s}}},8718:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>0===n(e,t,r)},1312:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)>0},5903:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)>=0},253:(e,t,r)=>{const n=r(6376);e.exports=(e,t,r,o)=>{"string"==typeof r&&(o=r,r=void 0);try{return new n(e,r).inc(t,o).version}catch(e){return null}}},1544:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)<0},2056:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)<=0},8679:(e,t,r)=>{const n=r(6376);e.exports=(e,t)=>new n(e,t).major},7789:(e,t,r)=>{const n=r(6376);e.exports=(e,t)=>new n(e,t).minor},1194:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>0!==n(e,t,r)},3959:(e,t,r)=>{const{MAX_LENGTH:n}=r(3295),{re:o,t:a}=r(5765),i=r(6376),s=r(2893);e.exports=(e,t)=>{if(t=s(t),e instanceof i)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?o[a.LOOSE]:o[a.FULL]).test(e))return null;try{return new i(e,t)}catch(e){return null}}},2358:(e,t,r)=>{const n=r(6376);e.exports=(e,t)=>new n(e,t).patch},7559:(e,t,r)=>{const n=r(3959);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},9795:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(t,e,r)},3657:(e,t,r)=>{const n=r(8880);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},5712:(e,t,r)=>{const n=r(6902);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},1100:(e,t,r)=>{const n=r(8880);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},6397:(e,t,r)=>{const n=r(3959);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},1249:(e,t,r)=>{const n=r(5765);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(3295).SEMVER_SPEC_VERSION,SemVer:r(6376),compareIdentifiers:r(5638).compareIdentifiers,rcompareIdentifiers:r(5638).rcompareIdentifiers,parse:r(3959),valid:r(6397),clean:r(3507),inc:r(253),diff:r(2378),major:r(8679),minor:r(7789),patch:r(2358),prerelease:r(7559),compare:r(6269),rcompare:r(9795),compareLoose:r(7880),compareBuild:r(8880),sort:r(1100),rsort:r(3657),gt:r(1312),lt:r(1544),eq:r(8718),neq:r(1194),gte:r(5903),lte:r(2056),cmp:r(7539),coerce:r(9038),Comparator:r(2257),Range:r(6902),satisfies:r(5712),toComparators:r(1042),maxSatisfying:r(5775),minSatisfying:r(1657),minVersion:r(5316),validRange:r(9042),outside:r(6826),gtr:r(7606),ltr:r(32),intersects:r(2937),simplifyRange:r(7908),subset:r(799)}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},5638:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},2893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},5765:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(3295),o=r(4225),a=(t=e.exports={}).re=[],i=t.src=[],s=t.t={};let c=0;const l=(e,t,r)=>{const n=c++;o(n,t),s[e]=n,i[n]=t,a[n]=new RegExp(t,r?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${i[s.NUMERICIDENTIFIER]}|${i[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${i[s.NUMERICIDENTIFIERLOOSE]}|${i[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${i[s.PRERELEASEIDENTIFIER]}(?:\\.${i[s.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${i[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[s.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${i[s.BUILDIDENTIFIER]}(?:\\.${i[s.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${i[s.MAINVERSION]}${i[s.PRERELEASE]}?${i[s.BUILD]}?`),l("FULL",`^${i[s.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${i[s.MAINVERSIONLOOSE]}${i[s.PRERELEASELOOSE]}?${i[s.BUILD]}?`),l("LOOSE",`^${i[s.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${i[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${i[s.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:${i[s.PRERELEASE]})?${i[s.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:${i[s.PRERELEASELOOSE]})?${i[s.BUILD]}?)?)?`),l("XRANGE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),l("COERCERTL",i[s.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${i[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${i[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${i[s.LONECARET]}${i[s.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${i[s.LONECARET]}${i[s.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${i[s.GTLT]}\\s*(${i[s.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]}|${i[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${i[s.XRANGEPLAIN]})\\s+-\\s+(${i[s.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${i[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[s.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},7606:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,">",r)},2937:(e,t,r)=>{const n=r(6902);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},32:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,"<",r)},5775:(e,t,r)=>{const n=r(6376),o=r(6902);e.exports=(e,t,r)=>{let a=null,i=null,s=null;try{s=new o(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(a&&-1!==i.compare(e)||(a=e,i=new n(a,r)))})),a}},1657:(e,t,r)=>{const n=r(6376),o=r(6902);e.exports=(e,t,r)=>{let a=null,i=null,s=null;try{s=new o(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(a&&1!==i.compare(e)||(a=e,i=new n(a,r)))})),a}},5316:(e,t,r)=>{const n=r(6376),o=r(6902),a=r(1312);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!a(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!a(r,i)||(r=i)}return r&&e.test(r)?r:null}},6826:(e,t,r)=>{const n=r(6376),o=r(2257),{ANY:a}=o,i=r(6902),s=r(5712),c=r(1312),l=r(1544),u=r(2056),p=r(5903);e.exports=(e,t,r,d)=>{let m,h,f,g,v;switch(e=new n(e,d),t=new i(t,d),r){case">":m=c,h=u,f=l,g=">",v=">=";break;case"<":m=l,h=p,f=c,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,s=null;if(n.forEach((e=>{e.semver===a&&(e=new o(">=0.0.0")),i=i||e,s=s||e,m(e.semver,i.semver,d)?i=e:f(e.semver,s.semver,d)&&(s=e)})),i.operator===g||i.operator===v)return!1;if((!s.operator||s.operator===g)&&h(e,s.semver))return!1;if(s.operator===v&&f(e,s.semver))return!1}return!0}},7908:(e,t,r)=>{const n=r(5712),o=r(6269);e.exports=(e,t,r)=>{const a=[];let i=null,s=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(s=e,i||(i=e)):(s&&a.push([i,s]),s=null,i=null);i&&a.push([i,null]);const l=[];for(const[e,t]of a)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},799:(e,t,r)=>{const n=r(6902),o=r(2257),{ANY:a}=o,i=r(5712),s=r(6269),c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=r.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===t.length&&t[0].semver===a){if(r.includePrerelease)return!0;t=[new o(">=0.0.0")]}const n=new Set;let c,p,d,m,h,f,g;for(const t of e)">"===t.operator||">="===t.operator?c=l(c,t,r):"<"===t.operator||"<="===t.operator?p=u(p,t,r):n.add(t.semver);if(n.size>1)return null;if(c&&p){if(d=s(c.semver,p.semver,r),d>0)return null;if(0===d&&(">="!==c.operator||"<="!==p.operator))return null}for(const e of n){if(c&&!i(e,String(c),r))return null;if(p&&!i(e,String(p),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let v=!(!p||r.includePrerelease||!p.semver.prerelease.length)&&p.semver,b=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;v&&1===v.prerelease.length&&"<"===p.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,c)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(m=l(c,e,r),m===e&&m!==c)return!1}else if(">="===c.operator&&!i(c.semver,String(e),r))return!1;if(p)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(h=u(p,e,r),h===e&&h!==p)return!1}else if("<="===p.operator&&!i(p.semver,String(e),r))return!1;if(!e.operator&&(p||c)&&0!==d)return!1}return!(c&&f&&!p&&0!==d||p&&g&&!c&&0!==d||b||v)},l=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},u=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},1042:(e,t,r)=>{const n=r(6902);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,r)=>{const n=r(6902);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},2130:(e,t,r)=>{"use strict";const n=r(2087),o=r(3867),a=r(2146),{env:i}=process;let s;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===s)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(e&&!t&&void 0===s)return 0;const r=s||0;if("dumb"===i.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:r;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:r}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?s=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(s=1),"FORCE_COLOR"in i&&(s="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},2146:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},5702:(e,t,r)=>{"use strict";const n=r(9924),o=(e,t,r)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let a={relaxZeros:!0,...r};"boolean"==typeof a.strictZeros&&(a.relaxZeros=!1===a.strictZeros);let c=e+":"+t+"="+String(a.relaxZeros)+String(a.shorthand)+String(a.capture)+String(a.wrap);if(o.cache.hasOwnProperty(c))return o.cache[c].result;let l=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(l-u)){let r=e+"|"+t;return a.capture?`(${r})`:!1===a.wrap?r:`(?:${r})`}let p=m(e)||m(t),d={min:e,max:t,a:l,b:u},h=[],f=[];return p&&(d.isPadded=p,d.maxLen=String(d.max).length),l<0&&(f=i(u<0?Math.abs(u):1,Math.abs(l),d,a),l=d.a=0),u>=0&&(h=i(l,u,d,a)),d.negatives=f,d.positives=h,d.result=function(e,t,r){let n=s(e,t,"-",!1)||[],o=s(t,e,"",!1)||[],a=s(e,t,"-?",!0)||[];return n.concat(a).concat(o).join("|")}(f,h),!0===a.capture?d.result=`(${d.result})`:!1!==a.wrap&&h.length+f.length>1&&(d.result=`(?:${d.result})`),o.cache[c]=d,d.result};function a(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),o=n.length,a="",i=0;for(let e=0;e<o;e++){let[t,r]=n[e];t===r?a+=t:"0"!==t||"9"!==r?a+=`[${s=t}${(c=r)-s==1?"":"-"}${c}]`:i++}var s,c;return i&&(a+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:a,count:[i],digits:o}}function i(e,t,r,n){let o,i=function(e,t){let r=1,n=1,o=u(e,r),a=new Set([t]);for(;e<=o&&o<=t;)a.add(o),r+=1,o=u(e,r);for(o=p(t+1,n)-1;e<o&&o<=t;)a.add(o),n+=1,o=p(t+1,n)-1;return a=[...a],a.sort(c),a}(e,t),s=[],l=e;for(let e=0;e<i.length;e++){let t=i[e],c=a(String(l),String(t),n),u="";r.isPadded||!o||o.pattern!==c.pattern?(r.isPadded&&(u=h(t,r,n)),c.string=u+c.pattern+d(c.count),s.push(c),l=t+1,o=c):(o.count.length>1&&o.count.pop(),o.count.push(c.count[0]),o.string=o.pattern+d(o.count),l=t+1)}return s}function s(e,t,r,n,o){let a=[];for(let o of e){let{string:e}=o;n||l(t,"string",e)||a.push(r+e),n&&l(t,"string",e)&&a.push(r+e)}return a}function c(e,t){return e>t?1:t>e?-1:0}function l(e,t,r){return e.some((e=>e[t]===r))}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function p(e,t){return e-e%Math.pow(10,t)}function d(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function m(e){return/^-?(0+)\d/.test(e)}function h(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),o=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}o.cache={},o.clearCache=()=>o.cache={},e.exports=o},8981:(e,t)=>{"use strict";t.E=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise(((t,r)=>{arguments[arguments.length]=(e,n)=>{if(e)return r(e);t(n)},arguments.length++,e.apply(this,arguments)}));e.apply(this,arguments)}),"name",{value:e.name})},t.p=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},2884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class n extends r{constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}}function o(){return new n}n._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=o;const a=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function i(e){return a.test(e)}t.isUUID=i,t.parse=function(e){if(!i(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return o().asHex()}},3403:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,i,s,c,l=r(5622),u=r(5747),p=Object.prototype.toString;function d(e){return void 0!==e}function m(e){return"[object Number]"===p.call(e)}function h(e){return"[object String]"===p.call(e)}function f(e){return JSON.parse(u.readFileSync(e,"utf8"))}function g(e,t){return c&&(e=""+e.replace(/[aouei]/g,"$&$&")+""),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,r){var n=r[0],o=t[n],a=e;return"string"==typeof o?a=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(a=String(o)),a}))}function v(e){return function(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return m(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):g(e[t],n):h(r)?(console.warn("Message "+r+" didn't get externalized correctly."),g(r,n)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function b(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return g(t,r)}function y(e,t){return i[e]=t,t}function x(e){try{return function(e){var t=f(l.join(e,"nls.metadata.json")),r=Object.create(null);for(var n in t){var o=t[n];r[n]=o.messages}return r}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function S(e,t){var r;if(!0===s.languagePackSupport&&void 0!==s.cacheRoot&&void 0!==s.languagePackId&&void 0!==s.translationsConfigFile&&void 0!==s.translationsConfig)try{r=function(e,t){var r,n,o,a=l.join(s.cacheRoot,e.id+"-"+e.hash+".json"),i=!1,c=!1;try{return r=JSON.parse(u.readFileSync(a,{encoding:"utf8",flag:"r"})),n=a,o=new Date,u.utimes(n,o,o,(function(){})),r}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),u.unlink(a,(function(e){e&&console.error("Deleting corrupted bundle "+a+" failed.")})),i=!0}}if(!(r=function(e,t){var r=s.translationsConfig[e.id];if(r){var n=f(r).contents,o=f(l.join(t,"nls.metadata.json")),a=Object.create(null);for(var i in o){var c=o[i],u=n[e.outDir+"/"+i];if(u){for(var p=[],d=0;d<c.keys.length;d++){var m=c.keys[d],g=u[h(m)?m:m.key];void 0===g&&(g=c.messages[d]),p.push(g)}a[i]=p}else a[i]=c.messages}return a}}(e,t))||i)return r;if(c)try{u.writeFileSync(a,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return r;throw e}return r}(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!r){if(s.languagePackSupport)return x(t);var n=function(e){for(var t=s.language;t;){var r=l.join(e,"nls.bundle."+t+".json");if(u.existsSync(r))return r;var n=t.lastIndexOf("-");t=n>0?t.substring(0,n):void 0}if(void 0===t&&(r=l.join(e,"nls.bundle.json"),u.existsSync(r)))return r}(t);if(n)try{return f(n)}catch(e){console.log("Loading in the box message bundle failed.",e)}r=x(t)}return r}function _(e){if(!e)return b;var t=l.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),s.messageFormat===n.both||s.messageFormat===n.bundle){var r=function(e){for(var t,r=l.dirname(e);t=l.join(r,"nls.metadata.header.json"),!u.existsSync(t);){var n=l.dirname(r);if(n===r){t=void 0;break}r=n}return t}(e);if(r){var o=l.dirname(r),a=i[o];if(void 0===a)try{var p=JSON.parse(u.readFileSync(r,"utf8"));try{var m=S(p,o);a=y(o,m?{header:p,nlsBundle:m}:null)}catch(e){console.error("Failed to load nls bundle",e),a=y(o,null)}}catch(e){console.error("Failed to read header file",e),a=y(o,null)}if(a){var h=e.substr(o.length+1).replace(/\\/g,"/"),g=a.nlsBundle[h];return void 0===g?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):v(g)}}}if(s.messageFormat===n.both||s.messageFormat===n.file)try{var x=f(function(e){var t;if(s.cacheLanguageResolution&&t)t=t;else{if(c||!s.language)t=".nls.json";else for(var r=s.language;r;){var n=".nls."+r+".json";if(u.existsSync(e+n)){t=n;break}var o=r.lastIndexOf("-");o>0?r=r.substring(0,o):(t=".nls.json",r=null)}s.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(x)?v(x):d(x.messages)&&d(x.keys)?v(x.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(n=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(o=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&d(t.key)&&d(t.comment)}}(a||(a={})),function(){if(s={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:n.bundle},h(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var r=e.availableLanguages["*"];h(r)&&(t=r)}if(h(e.locale)&&(s.locale=e.locale.toLowerCase()),void 0===t?s.language=s.locale:"en"!==t&&(s.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(s.languagePackSupport=e._languagePackSupport),h(e._cacheRoot)&&(s.cacheRoot=e._cacheRoot),h(e._languagePackId)&&(s.languagePackId=e._languagePackId),h(e._translationsConfigFile)){s.translationsConfigFile=e._translationsConfigFile;try{s.translationsConfig=f(s.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=l.dirname(e._corruptedFile);u.exists(o,(function(t){t&&u.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}c="pseudo"===s.locale,i=Object.create(null)}(),t.loadMessageBundle=_,t.config=function(e){return e&&(h(e.locale)&&(s.locale=e.locale.toLowerCase(),s.language=s.locale,i=Object.create(null)),void 0!==e.messageFormat&&(s.messageFormat=e.messageFormat),e.bundleFormat===o.standalone&&!0===s.languagePackSupport&&(s.languagePackSupport=!1)),c="pseudo"===s.locale,_}},2806:(e,t,r)=>{const n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,o=r(5622),a=n?";":":",i=r(1959),s=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const r=t.colon||a,o=e.match(/\//)||n&&e.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=n?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=n?i.split(r):[""];return n&&-1!==e.indexOf(".")&&""!==s[0]&&s.unshift(""),{pathEnv:o,pathExt:s,pathExtExe:i}},l=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:a,pathExtExe:l}=c(e,t),u=[],p=r=>new Promise(((a,i)=>{if(r===n.length)return t.all&&u.length?a(u):i(s(e));const c=n[r],l=/^".*"$/.test(c)?c.slice(1,-1):c,p=o.join(l,e),m=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;a(d(m,r,0))})),d=(e,r,n)=>new Promise(((o,s)=>{if(n===a.length)return o(p(r+1));const c=a[n];i(e+c,{pathExt:l},((a,i)=>{if(!a&&i){if(!t.all)return o(e+c);u.push(e+c)}return o(d(e,r,n+1))}))}));return r?p(0).then((e=>r(null,e)),r):p(0)};e.exports=l,l.sync=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:a}=c(e,t),l=[];for(let s=0;s<r.length;s++){const c=r[s],u=/^".*"$/.test(c)?c.slice(1,-1):c,p=o.join(u,e),d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;for(let e=0;e<n.length;e++){const r=d+n[e];try{if(i.sync(r,{pathExt:a})){if(!t.all)return r;l.push(r)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw s(e)}},1465:(e,t,r)=>{function n(e){let t;for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function o(e,t){e.content+=t}function a(e,t,r,c){if("string"==typeof e.content)!function(e,t,r){(""!==e.content.trim()||r)&&(!r&&t.content.length>0&&n(t),o(t,e.content))}(e,t,r);else if("Element"===e.type)!function(e,t,r,s){if(!r&&t.content.length>0&&n(t),o(t,"<"+e.name),i(t,e.attributes),null===e.children){const e=s.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";o(t,e)}else if(0===e.children.length)o(t,"></"+e.name+">");else{o(t,">"),t.level++;let i="preserve"===e.attributes["xml:space"];!i&&t.options.collapseContent&&e.children.some((function(e){return"Text"===e.type&&""!==e.content.trim()}))&&(i=!0),e.children.forEach((function(e){a(e,t,r||i,s)})),t.level--,r||i||n(t),o(t,"</"+e.name+">")}}(e,t,r,c);else{if("ProcessingInstruction"!==e.type)throw new Error("Unknown node type: "+e.type);s(e,t)}}function i(e,t){Object.keys(t).forEach((function(r){o(e," "+r+'="'+t[r]+'"')}))}function s(e,t){t.content.length>0&&n(t),o(t,"<?"+e.name),i(t,e.attributes),o(t,"?>")}e.exports=function(e,t={}){(t=t||{}).indentation=t.indentation||"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator=t.lineSeparator||"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;const n=r(7121)(e,{filter:t.filter}),o={content:"",level:0,options:t};return n.declaration&&s(n.declaration,o),n.children.forEach((function(e){a(e,o,!1,t)})),o.content}},7121:e=>{e.exports=function(e,t={}){function r(){return a()||function(){const e=c(/^([^<]+)/);if(e){const r={type:"Text",content:e[1]};return{excluded:!1===t.filter(r),node:r}}}()||i()||function(){if(e.startsWith("<![CDATA[")){const r=e.indexOf("]]>");if(r>-1){const n=r+3,o={type:"CDATA",content:e.substring(0,n)};return e=e.slice(n),{excluded:!1===t.filter(o),node:o}}}}()}function n(){return c(/\s*/),a(!0)||i()||function(){const e=c(/^<!DOCTYPE\s+[^>]*>/);if(e){const r={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(r),node:r}}}()||o(!1)}function o(e){const r=c(e?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!r)return;const n={name:r[1],type:"ProcessingInstruction",attributes:{}};for(;!l()&&!u("?>");){const e=s();if(!e)return n;n.attributes[e.name]=e.value}return c(/\?>/),{excluded:!e&&!1===t.filter(n),node:n}}function a(e){const n=c(/^<([\w-:.]+)\s*/);if(!n)return;const o={type:"Element",name:n[1],attributes:{},children:[]};for(;!(l()||u(">")||u("?>")||u("/>"));){const e=s();if(!e)return o;o.attributes[e.name]=e.value}const a=!e&&!1===t.filter(o);if(c(/^\s*\/>/))return o.children=null,{excluded:a,node:o};if(c(/\??>/),!a){let e=r();for(;e;)e.excluded||o.children.push(e.node),e=r()}return c(/^<\/[\w-:.]+>/),{excluded:a,node:o}}function i(){const e=c(/^<!--[\s\S]*?-->/);if(e){const r={type:"Comment",content:e[0]};return{excluded:!1===t.filter(r),node:r}}}function s(){const e=c(/([\w-:.]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);var t;if(e)return{name:e[1],value:(t=e[2],t.replace(/^['"]|['"]$/g,""))}}function c(t){const r=e.match(t);if(r)return e=e.slice(r[0].length),r}function l(){return 0===e.length}function u(t){return 0===e.indexOf(t)}return t.filter=t.filter||(()=>!0),e=e.trim(),function(){const e=o(!0),t=[];let r,a=n();for(;a;){if("Element"===a.node.type){if(r)throw new Error("Found multiple root nodes");r=a.node}a.excluded||t.push(a.node),a=n()}if(!r)throw new Error("Failed to parse XML");return{declaration:e?e.node:null,root:r,children:t}}()}},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function a(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,a=this.head;null!==a&&o<e;o++)a=a.next;for(;null!==a&&o<t;o++,a=a.next)r.push(a.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,a=this.tail;null!==a&&o>t;o--)a=a.prev;for(;null!==a&&o>e;o--,a=a.prev)r.push(a.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;var i=[];for(n=0;a&&n<t;n++)i.push(a.value),a=this.removeNode(a);for(null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev),n=0;n<r.length;n++)a=o(this,a,r[n]);return i},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(9602)(n)}catch(e){}},306:e=>{"use strict";e.exports=JSON.parse('{"name":"sql-database-projects","displayName":"SQL Database Projects","description":"Enables users to develop and publish database schemas for MSSQL Databases","version":"0.19.0","publisher":"Microsoft","preview":true,"engines":{"vscode":"^1.30.1","azdata":">=1.38.0"},"license":"https://raw.githubusercontent.com/Microsoft/azuredatastudio/main/LICENSE.txt","icon":"images/sqlDatabaseProjects.png","aiKey":"AIF-37eefaf0-8022-4671-a3fb-64752724682e","activationEvents":["onCommand:sqlDatabaseProjects.new","onCommand:sqlDatabaseProjects.open","onCommand:sqlDatabaseProjects.createProjectFromDatabase","onCommand:sqlDatabaseProjects.updateProjectFromDatabase","onCommand:sqlDatabaseProjects.generateProjectFromOpenApiSpec","workspaceContains:**/*.sqlproj","onView:dataworkspace.views.main"],"main":"./out/extension","repository":{"type":"git","url":"https://github.com/Microsoft/azuredatastudio.git"},"extensionDependencies":["Microsoft.mssql","Microsoft.schema-compare"],"capabilities":{"virtualWorkspaces":false,"untrustedWorkspaces":{"supported":true}},"contributes":{"projects":["sqlproj"],"configuration":[{"title":"%sqlDatabaseProjects.Settings%","properties":{"sqlDatabaseProjects.dotnetSDK Location":{"type":"string","description":"%sqlDatabaseProjects.dotnetInstallLocation%"},"sqlDatabaseProjects.netCoreDoNotAsk":{"type":"boolean","description":"%sqlDatabaseProjects.netCoreDoNotAsk%"},"sqlDatabaseProjects.nodejsDoNotAsk":{"type":"boolean","description":"%sqlDatabaseProjects.nodejsDoNotAsk%"},"sqlDatabaseProjects.autorestSqlVersion":{"type":"string","description":"%sqlDatabaseProjects.autorestSqlVersion%"},"sqlDatabaseProjects.collapseProjectNodes":{"type":"boolean","description":"%sqlDatabaseProjects.collapseProjectNodes%"}}}],"commands":[{"command":"sqlDatabaseProjects.newScript","title":"%sqlDatabaseProjects.newScript%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newPreDeploymentScript","title":"%sqlDatabaseProjects.newPreDeploymentScript%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newPostDeploymentScript","title":"%sqlDatabaseProjects.newPostDeploymentScript%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newTable","title":"%sqlDatabaseProjects.newTable%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newView","title":"%sqlDatabaseProjects.newView%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newExternalStreamingJob","title":"%sqlDatabaseProjects.newExternalStreamingJob%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newStoredProcedure","title":"%sqlDatabaseProjects.newStoredProcedure%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newItem","title":"%sqlDatabaseProjects.newItem%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.addExistingItem","title":"%sqlDatabaseProjects.addExistingItem%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.newFolder","title":"%sqlDatabaseProjects.newFolder%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.delete","title":"%sqlDatabaseProjects.delete%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.exclude","title":"%sqlDatabaseProjects.exclude%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.build","title":"%sqlDatabaseProjects.build%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.publish","title":"%sqlDatabaseProjects.publish%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.properties","title":"%sqlDatabaseProjects.properties%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.schemaCompare","title":"%sqlDatabaseProjects.schemaCompare%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.createProjectFromDatabase","title":"%sqlDatabaseProjects.createProjectFromDatabase%","category":"%sqlDatabaseProjects.displayName%","icon":"images/databaseProjectToolbar.svg"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","title":"%sqlDatabaseProjects.updateProjectFromDatabase%","category":"%sqlDatabaseProjects.displayName%","icon":"images/databaseProjectToolbar.svg"},{"command":"sqlDatabaseProjects.addDatabaseReference","title":"%sqlDatabaseProjects.addDatabaseReference%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.validateExternalStreamingJob","title":"%sqlDatabaseProjects.validateExternalStreamingJob%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.openContainingFolder","title":"%sqlDatabaseProjects.openContainingFolder%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.editProjectFile","title":"%sqlDatabaseProjects.editProjectFile%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.changeTargetPlatform","title":"%sqlDatabaseProjects.changeTargetPlatform%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.generateProjectFromOpenApiSpec","title":"%sqlDatabaseProjects.generateProjectFromOpenApiSpec%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.convertToSdkStyleProject","title":"%sqlDatabaseProjects.convertToSdkStyleProject%","category":"%sqlDatabaseProjects.displayName%"},{"command":"sqlDatabaseProjects.openInDesigner","title":"%sqlDatabaseProjects.openInDesigner%","category":"%sqlDatabaseProjects.displayName%"}],"menus":{"view/title":[{"command":"sqlDatabaseProjects.createProjectFromDatabase","when":"view == dataworkspace.views.main","group":"1_currentWorkspace@1"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","when":"view == dataworkspace.views.main && azdataAvailable","group":"1_currentWorkspace@2"},{"command":"sqlDatabaseProjects.generateProjectFromOpenApiSpec","when":"view == dataworkspace.views.main","group":"1_currentWorkspace@3"}],"commandPalette":[{"command":"sqlDatabaseProjects.newScript","when":"false"},{"command":"sqlDatabaseProjects.newPreDeploymentScript","when":"false"},{"command":"sqlDatabaseProjects.newPostDeploymentScript","when":"false"},{"command":"sqlDatabaseProjects.newTable","when":"false"},{"command":"sqlDatabaseProjects.newView","when":"false"},{"command":"sqlDatabaseProjects.newExternalStreamingJob","when":"false"},{"command":"sqlDatabaseProjects.newStoredProcedure","when":"false"},{"command":"sqlDatabaseProjects.newItem","when":"false"},{"command":"sqlDatabaseProjects.addExistingItem","when":"false"},{"command":"sqlDatabaseProjects.newFolder","when":"false"},{"command":"sqlDatabaseProjects.delete","when":"false"},{"command":"sqlDatabaseProjects.build","when":"false"},{"command":"sqlDatabaseProjects.publish","when":"false"},{"command":"sqlDatabaseProjects.properties","when":"false"},{"command":"sqlDatabaseProjects.schemaCompare","when":"false"},{"command":"sqlDatabaseProjects.createProjectFromDatabase"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","when":"false"},{"command":"sqlDatabaseProjects.addDatabaseReference","when":"false"},{"command":"sqlDatabaseProjects.validateExternalStreamingJob","when":"false"},{"command":"sqlDatabaseProjects.openContainingFolder","when":"false"},{"command":"sqlDatabaseProjects.editProjectFile","when":"false"},{"command":"sqlDatabaseProjects.exclude","when":"false"},{"command":"sqlDatabaseProjects.changeTargetPlatform","when":"false"},{"command":"sqlDatabaseProjects.convertToSdkStyleProject","when":"false"},{"command":"sqlDatabaseProjects.openInDesigner","when":"false"}],"view/item/context":[{"command":"sqlDatabaseProjects.build","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/","group":"1_dbProjectsFirst@1"},{"command":"sqlDatabaseProjects.publish","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/","group":"1_dbProjectsFirst@2"},{"command":"sqlDatabaseProjects.schemaCompare","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ && azdataAvailable","group":"1_dbProjectsFirst@3"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ && azdataAvailable","group":"1_dbProjectsFirst@4"},{"command":"sqlDatabaseProjects.newItem","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"2_dbProjects_newMain@1"},{"command":"sqlDatabaseProjects.addExistingItem","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"2_dbProjects_newMain@2"},{"command":"sqlDatabaseProjects.newFolder","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"2_dbProjects_newMain@3"},{"command":"sqlDatabaseProjects.newTable","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@1"},{"command":"sqlDatabaseProjects.newView","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@2"},{"command":"sqlDatabaseProjects.newStoredProcedure","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@3"},{"command":"sqlDatabaseProjects.newExternalStreamingJob","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@4"},{"command":"sqlDatabaseProjects.newScript","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@7"},{"command":"sqlDatabaseProjects.newPreDeploymentScript","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@8"},{"command":"sqlDatabaseProjects.newPostDeploymentScript","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/ || viewItem == databaseProject.itemType.folder","group":"3_dbProjects_newItem@9"},{"command":"sqlDatabaseProjects.addDatabaseReference","when":"view == dataworkspace.views.main && viewItem == databaseProject.itemType.referencesRoot","group":"4_dbProjects_addDatabaseReference"},{"command":"sqlDatabaseProjects.validateExternalStreamingJob","when":"view == dataworkspace.views.main && viewItem == databaseProject.itemType.file.externalStreamingJob","group":"5_dbProjects_streamingJob"},{"command":"sqlDatabaseProjects.openInDesigner","when":"azdataAvailable && view == dataworkspace.views.main && viewItem == databaseProject.itemType.file.table && config.workbench.enablePreviewFeatures","group":"6_dbProjects_openInDesigner"},{"command":"sqlDatabaseProjects.exclude","when":"view == dataworkspace.views.main && viewItem == databaseProject.itemType.folder || viewItem =~ /^databaseProject.itemType.file/","group":"9_dbProjectsLast@1"},{"command":"sqlDatabaseProjects.delete","when":"view == dataworkspace.views.main && viewItem == databaseProject.itemType.folder || viewItem =~ /^databaseProject.itemType.file/ || viewItem == databaseProject.itemType.reference","group":"9_dbProjectsLast@2"},{"command":"sqlDatabaseProjects.changeTargetPlatform","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/","group":"9_dbProjectsLast@6"},{"command":"sqlDatabaseProjects.editProjectFile","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/","group":"9_dbProjectsLast@7"},{"command":"sqlDatabaseProjects.openContainingFolder","when":"view == dataworkspace.views.main && viewItem =~ /^(databaseProject.itemType.project|databaseProject.itemType.legacyProject)$/","group":"9_dbProjectsLast@8"},{"command":"sqlDatabaseProjects.createProjectFromDatabase","when":"!azdataAvailable && view == objectExplorer && viewItem =~ /^(disconnectedServer|Server|Database)$/","group":"sqldbproj@1"}],"objectExplorer/item/context":[{"command":"sqlDatabaseProjects.createProjectFromDatabase","when":"nodeType =~ /^(Database|Server)$/ && connectionProvider == MSSQL && mssql:engineedition != 11","group":"export@1"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","when":"nodeType =~ /^(Database|Server)$/ && connectionProvider == MSSQL && mssql:engineedition != 11","group":"export@2"}],"dataExplorer/context":[{"command":"sqlDatabaseProjects.createProjectFromDatabase","when":"nodeType =~ /^(Database|Server)$/ && connectionProvider == MSSQL && mssql:engineedition != 11","group":"export@1"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","when":"nodeType =~ /^(Database|Server)$/ && connectionProvider == MSSQL && mssql:engineedition != 11","group":"export@2"}],"dashboard/toolbar":[{"command":"sqlDatabaseProjects.createProjectFromDatabase","when":"connectionProvider == \'MSSQL\' && mssql:engineedition != 11"},{"command":"sqlDatabaseProjects.updateProjectFromDatabase","when":"connectionProvider == \'MSSQL\' && mssql:engineedition != 11"}]}},"dependencies":{"axios":"^0.27.2","@microsoft/ads-extension-telemetry":"^1.2.0","fast-glob":"^3.2.7","fs-extra":"^5.0.0","promisify-child-process":"^3.1.1","semver":"^7.3.5","vscode-languageclient":"^5.3.0-next.1","vscode-nls":"^4.1.2","which":"^2.0.2","xml-formatter":"2.1.0","@xmldom/xmldom":"^0.8.2"},"devDependencies":{"@types/fs-extra":"^5.0.0","@types/mocha":"^7.0.2","@types/sinon":"^9.0.4","@types/which":"^2.0.1","@types/xml-formatter":"^1.1.0","mocha":"^7.1.1","mocha-junit-reporter":"^1.17.0","mocha-multi-reporters":"^1.1.7","should":"^13.2.1","sinon":"^9.0.2","typemoq":"^2.1.0","@microsoft/vscodetestcover":"^1.2.1"},"__metadata":{"id":"70","publisherDisplayName":"Microsoft","publisherId":"Microsoft"}}')},3907:e=>{"use strict";e.exports=JSON.parse('{"name":"sql-database-projects-vscode","publisher":"ms-mssql","extensionDependencies":["ms-mssql.mssql","ms-mssql.data-workspace-vscode"]}')},6078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vscodeOpenCommand=t.schemaCompareRunComparisonCommand=t.schemaCompareStartCommand=t.revealFileInOsCommand=t.at=t.msec=t.sec=t.min=t.hr=t.InProgress=t.Failed=t.Success=t.PublishHistory=t.BuildHistory=t.TargetDatabase=t.TargetServer=t.TargetPlatform=t.Date=t.Time=t.Status=t.changeTargetPlatformAction=t.publishAction=t.buildAction=t.schemaCompareAction=t.addItemAction=t.emptyAzureDbProjectTypeDescription=t.emptyAzureDbProjectTypeDisplayName=t.emptyAzureDbSqlDatabaseProjectTypeId=t.emptySdkProjectTypeDescription=t.emptySdkProjectTypeDisplayName=t.emptySqlDatabaseSdkProjectTypeId=t.edgeProjectTypeDescription=t.edgeProjectTypeDisplayName=t.edgeSqlDatabaseProjectTypeId=t.emptyProjectTypeDescription=t.emptyProjectTypeDisplayName=t.emptySqlDatabaseProjectTypeId=t.sqlProjectSdkVersion=t.sqlProjectSdk=t.databaseSchemaProvider=t.MicrosoftDatatoolsSchemaSqlSql=t.msdbDacpac=t.msdb=t.masterDacpac=t.master=t.schemaCompareExtensionId=t.openApiSpecFileExtensions=t.sqlFileExtension=t.sqlprojExtension=t.dataSourcesFileName=void 0,t.profile=t.loadSqlCmdVarsButtonTitle=t.sqlCmdValueColumn=t.sqlCmdVariableColumn=t.sqlCmdVariables=t.profileReadError=t.loadProfilePlaceholderText=t.noDataSourcesText=t.dataSourceDropdownTitle=t.connectionRadioButtonLabel=t.dataSourceRadioButtonLabel=t.targetConnectionLabel=t.databaseNameLabel=t.generateScriptButtonText=t.cancelButtonText=t.publish=t.publishDialogName=t.updatedToSdkStyleError=t.convertToSdkStyleConfirmation=t.projectUpdatedToSdkStyle=t.currentTargetPlatform=t.selectTargetPlatform=t.deleteReferenceConfirmation=t.deleteConfirmationContents=t.deleteConfirmation=t.newObjectNamePrompt=t.azureDevOpsLink=t.sdkLearnMoreUrl=t.learnMore=t.reloadProject=t.location=t.defaultProjectNameStarter=t.schemaObjectType=t.schema=t.objectType=t.flat=t.file=t.publishSettingsFiles=t.dacpacFiles=t.selectFileString=t.selectString=t.okString=t.noStringDefault=t.noString=t.openEulaString=t.yesString=t.sqlConnectionStringFriendly=t.databaseReferencesNodeName=t.dataSourcesNodeName=t.refreshDataWorkspaceCommand=void 0,t.baseDockerImage=t.confirmServerPassword=t.serverPassword=t.serverPortNumber=t.enterPortNumber=t.azureAccounts=t.azureLocation=t.resourceGroup=t.azureSubscription=t.azureServerName=t.publishToNewAzureServer=t.publishToAzureEmulator=t.publishToDockerContainer=t.publishToExistingServer=t.dockerImagesPlaceHolder=t.defaultQuickPickItem=t.selectPublishOption=t.AzureSqlLogicalServerName=t.AzureSqlDbLiteDockerImageName=t.AzureSqlDbFullDockerImageName=t.SqlServerDocker2022ImageName=t.SqlServerDockerImageName=t.AzureSqlServerName=t.SqlServerName=t.OptionNotFoundWarningMessage=t.OptionInclude=t.OptionName=t.OptionDescription=t.ResetButton=t.ExcludeObjectTypeTab=t.PublishOptions=t.AdvancedPublishOptions=t.AdvancedOptionsButton=t.nameMustNotBeEmpty=t.done=t.selectDatabase=t.newText=t.enterNewDatabaseName=t.createNew=t.resetAllVars=t.enterNewValueForVar=t.chooseSqlcmdVarsToModify=t.chooseAction=t.browseForProfileWithIcon=t.dontUseProfile=t.selectProfile=t.selectProfileToUse=t.defaultUser=t.server=t.selectConnection=void 0,t.connectingToSqlServerMessage=t.dockerContainerFailedToRunErrorMessage=t.dockerContainerNotRunningErrorMessage=t.dockerNotRunningError=t.runningDockerMessage=t.creatingDeploymentSettingsMessage=t.dockerImageEulaMessage=t.dockerImageMessage=t.cleaningDockerImagesMessage=t.publishingProjectMessage=t.publishProjectSucceed=t.deployDbTaskName=t.enterConnectionStringEnvNameDescription=t.appSettingPrompt=t.enterConnStringTemplateDescription=t.azureFunctionLocalSettingsFileName=t.defaultConnectionStringTemplate=t.defaultConnectionStringEnvVarName=t.defaultLocalServerAdminName=t.defaultLocalServerName=t.defaultPortNumber=t.startCommandName=t.dockerFileName=t.mssqlFolderName=t.commandsFolderName=t.azureSqlEdgeDockerRepository=t.sqlServerDockerRepository=t.sqlServerDockerRegistry=t.connectionNamePrefix=t.sqlServerEdgeEulaLink=t.sqlServerEulaLink=t.edgeEulaAgreementTitle=t.eulaAgreementTitle=t.eulaAgreementText=t.eulaAgreementTemplate=t.dockerImageDefaultTag=t.dockerImageNamePrefix=t.dockerImageLabelPrefix=t.valueCannotBeEmpty=t.portMustBeNumber=t.passwordNotMatch=t.invalidSQLPasswordMessage=t.selectImageTag=t.selectBaseImage=t.confirmPassword=t.enterPassword=t.enterUser=t.enterConnectionStringTemplate=t.enterConnectionStringEnvName=t.publishTo=void 0,t.createProjectSettings=t.targetProject=t.sourceDatabase=t.createProjectDialogOkButtonText=t.createProjectFromDatabaseDialogName=t.referenceType=t.dacpacNotOnSameDrive=t.databaseProject=t.otherSeverVariable=t.otherServer=t.databaseNameServerNameVariableRequired=t.databaseNameRequiredVariableOptional=t.enterSystemDbName=t.exampleUsage=t.suppressMissingDependenciesErrors=t.serverVariable=t.serverName=t.databaseVariable=t.databaseName=t.locationDropdownValues=t.systemDbLocationDropdownValues=t.differentDbDifferentServer=t.differentDbSameServer=t.sameDatabase=t.selectDacpac=t.dacpacText=t.systemDatabase=t.projectLabel=t.referenceRadioButtonsGroupTitle=t.addDatabaseReferenceOkButtonText=t.addDatabaseReferenceDialogName=t.retryMessage=t.retryFailedMessage=t.retrySucceedMessage=t.retryRunMessage=t.retryWaitMessage=t.dockerLogMessage=t.dockerContainerCreatedMessage=t.connectionFailedError=t.deployAppSettingUpdating=t.deployAppSettingUpdateFailed=t.publishToNewAzureServerFailed=t.publishToContainerFailed=t.taskFailedError=t.azureSqlServerCreated=t.creatingAzureSqlServer=t.checkoutOutputMessage=t.containerAlreadyExistForProject=t.deployProjectFailedMessage=t.serverCreated=void 0,t.databaseSelectionRequired=t.invalidDatabaseReference=t.invalidDataSchemaProvider=t.databaseNameRequired=t.databaseLocationRequired=t.dacpacFileLocationRequired=t.systemDatabaseReferenceRequired=t.databaseReferenceTypeRequired=t.updateProjectDatabaseReferencesForRoundTrip=t.updateProjectForRoundTrip=t.buildFailedCannotStartSchemaCompare=t.schemaCompareNotInstalled=t.extractTargetRequired=t.invalidSqlConnectionString=t.unknownDataSourceType=t.unrecognizedDataSourcesVersion=t.missingVersion=t.noDataSourcesFile=t.noSqlProjFiles=t.multipleSqlProjFiles=t.compareErrorMessage=t.updatingProjectFromDatabase=t.applyError=t.equalComparison=t.applySuccess=t.applyConfirmation=t.actionLabel=t.updateActionRadioButtonLabel=t.compareActionRadioButtonLabel=t.updateAction=t.projectToUpdatePlaceholderText=t.noSchemaCompareExtension=t.noSqlProjFile=t.updateText=t.updateProjectFromDatabaseDialogName=t.ProjectDirectoryAlreadyExistError=t.ProjectParentDirectoryNotExistError=t.SdkLearnMorePlaceholder=t.YesRecommended=t.sdkStyleProject=t.selectProjectLocation=t.browseEllipsisWithIcon=t.WorkspaceFileExtension=t.folderStructureLabel=t.selectFolderStructure=t.browseButtonText=t.projectLocationPlaceholderText=t.projectLocationLabel=t.projectNamePlaceholderText=t.projectNameLabel=void 0,t.UpdateDotnetLocation=t.NetCoreSupportedVersionInstallationConfirmation=t.DotnetInstallationConfirmation=t.postDeployScriptFriendlyName=t.preDeployScriptFriendlyName=t.externalStreamingJobFriendlyName=t.externalStreamFriendlyName=t.fileFormatFriendlyName=t.dataSourceFriendlyName=t.storedProcedureFriendlyName=t.viewFriendlyName=t.tableFriendlyName=t.scriptFriendlyName=t.folderFriendlyName=t.folderObject=t.fileObject=t.excludeAction=t.deleteAction=t.errorReadingProject=t.invalidTargetPlatform=t.invalidGuid=t.unableToFindDatabaseReference=t.unableToFindSqlCmdVariable=t.cantAddCircularProjectReference=t.notValidVariableName=t.deployScriptExists=t.unableToFindObject=t.unableToPerformAction=t.unexpectedProjectContext=t.projBuildFailed=t.errorFindingBuildFilesLocation=t.circularProjectReference=t.unableToCreatePublishConnection=t.invalidProjectPropertyValueProvided=t.invalidProjectPropertyValueInSqlProj=t.invalidInput=t.folderAlreadyExistsChooseNewLocation=t.folderAlreadyExists=t.fileAlreadyExists=t.cannotResolvePath=t.fileOrFolderDoesNotExist=t.noFileExist=t.projectAlreadyExists=t.projectAlreadyOpened=t.externalStreamingJobValidationPassed=t.invalidProjectReload=t.prePostDeployCount=t.parentTreeItemUnknown=t.outsideFolderPath=t.databaseReferenceAlreadyExists=void 0,t.PostDeployElements=t.PreDeployElements=t.FolderElements=t.BuildElements=t.SSDTExists=t.VisualStudioVersion=t.DatabaseSource=t.Sdk=t.ExternalStreamingJob=t.Type=t.PropertyGroup=t.ProjectGuid=t.Private=t.False=t.True=t.None=t.PostDeploy=t.PreDeploy=t.TargetConnectionString=t.ProjectReference=t.RelativeOuterPath=t.Properties=t.DSP=t.ServerSqlCmdVariable=t.DatabaseSqlCmdVariable=t.DatabaseVariableLiteralValue=t.SuppressMissingDependenciesErrors=t.ArtifactReference=t.Value=t.DefaultValue=t.SqlCmdVariable=t.PrivateAssets=t.Version=t.PackageReference=t.Files=t.Delete=t.BeforeBuildTarget=t.Name=t.Target=t.Condition=t.Project=t.Import=t.Remove=t.Include=t.Folder=t.Build=t.ItemGroup=t.DoNotAskAgain=t.Install=t.projectsOutputChannel=void 0,t.selectSpecFile=t.runViaNpx=t.installGlobally=t.userSelectionCancelled=t.userSelectionRunNpx=t.userSelectionInstallGlobally=t.nodeButNotAutorestFoundPrompt=t.nodeNotFound=t.nodeButNotAutorestFound=t.autorestPostDeploymentScriptName=t.DatabaseProjectItemType=t.azureAddAccount=t.sqlAuth=t.azureMfaAuth=t.integratedAuth=t.passwordSetting=t.userIdSetting=t.activeDirectoryInteractive=t.authenticationSetting=t.integratedSecuritySetting=t.dataSourceSetting=t.initialCatalogSetting=t.targetConnectionString=t.targetDatabaseName=t.SqlProjPathSeparator=t.All=t.VersionNumber=t.NETFrameworkAssembly=t.targetsExistsCondition=t.SsdtExistsCondition=t.VSVersionCondition=t.ProjJsonToClean=t.DacpacRootPath=t.RoundTripSqlDbNotPresentCondition=t.RoundTripSqlDbPresentCondition=t.SqlDbNotPresentCondition=t.SqlDbPresentCondition=t.NotNetCoreCondition=t.NetCoreCondition=t.MsBuildtargets=t.SqlDbTargets=t.NetCoreTargets=t.WellKnownDatabaseSources=t.DefaultCollation=t.DefaultCollationProperty=t.DacpacReferenceElement=t.ProjectReferenceElement=t.ProjectReferenceNameElement=t.ImportElements=t.NoneElements=void 0,t.CollapseProjectNodesKey=t.PublishTargetType=t.getTargetPlatformFromVersion=t.defaultDSP=t.defaultTargetPlatform=t.AzureDwFolder=t.targetPlatformToVersion=t.differentDbDifferentServerExampleUsage=t.differentDbSameServerExampleUsage=t.sameDatabaseExampleUsage=t.systemDbs=t.generatingProjectFromAutorest=t.autorestProjectName=t.specSelectionText=t.multipleMostDeploymentScripts=t.noSqlFilesGenerated=t.generatingProjectFailed=void 0;const n=r(3403),o=r(1027),a=n.loadMessageBundle(r(5622).join(__dirname,"common/constants.ts"));var i,s;t.dataSourcesFileName="datasources.json",t.sqlprojExtension=".sqlproj",t.sqlFileExtension=".sql",t.openApiSpecFileExtensions=["yaml","yml","json"],t.schemaCompareExtensionId="microsoft.schema-compare",t.master="master",t.masterDacpac="master.dacpac",t.msdb="msdb",t.msdbDacpac="msdb.dacpac",t.MicrosoftDatatoolsSchemaSqlSql="Microsoft.Data.Tools.Schema.Sql.Sql",t.databaseSchemaProvider="DatabaseSchemaProvider",t.sqlProjectSdk="Microsoft.Build.Sql",t.sqlProjectSdkVersion="0.1.3-preview",t.emptySqlDatabaseProjectTypeId="EmptySqlDbProj",t.emptyProjectTypeDisplayName=a(0,null),t.emptyProjectTypeDescription=a(1,null),t.edgeSqlDatabaseProjectTypeId="SqlDbEdgeProj",t.edgeProjectTypeDisplayName=a(2,null),t.edgeProjectTypeDescription=a(3,null),t.emptySqlDatabaseSdkProjectTypeId="EmptySqlDbSdkProj",t.emptySdkProjectTypeDisplayName=a(4,null),t.emptySdkProjectTypeDescription=a(5,null),t.emptyAzureDbSqlDatabaseProjectTypeId="EmptyAzureSqlDbProj",t.emptyAzureDbProjectTypeDisplayName=a(6,null),t.emptyAzureDbProjectTypeDescription=a(7,null),t.addItemAction=a(8,null),t.schemaCompareAction=a(9,null),t.buildAction=a(10,null),t.publishAction=a(11,null),t.changeTargetPlatformAction=a(12,null),t.Status=a(13,null),t.Time=a(14,null),t.Date=a(15,null),t.TargetPlatform=a(16,null),t.TargetServer=a(17,null),t.TargetDatabase=a(18,null),t.BuildHistory=a(19,null),t.PublishHistory=a(20,null),t.Success=a(21,null),t.Failed=a(22,null),t.InProgress=a(23,null),t.hr=a(24,null),t.min=a(25,null),t.sec=a(26,null),t.msec=a(27,null),t.at=a(28,null),t.revealFileInOsCommand="revealFileInOS",t.schemaCompareStartCommand="schemaCompare.start",t.schemaCompareRunComparisonCommand="schemaCompare.runComparison",t.vscodeOpenCommand="vscode.open",t.refreshDataWorkspaceCommand="dataworkspace.refresh",t.dataSourcesNodeName=a(29,null),t.databaseReferencesNodeName=a(30,null),t.sqlConnectionStringFriendly=a(31,null),t.yesString=a(32,null),t.openEulaString=a(33,null),t.noString=a(34,null),t.noStringDefault=a(35,null),t.okString=a(36,null),t.selectString=a(37,null),t.selectFileString=a(38,null),t.dacpacFiles=a(39,null),t.publishSettingsFiles=a(40,null),t.file=a(41,null),t.flat=a(42,null),t.objectType=a(43,null),t.schema=a(44,null),t.schemaObjectType=a(45,null),t.defaultProjectNameStarter=a(46,null),t.location=a(47,null),t.reloadProject=a(48,null),t.learnMore=a(49,null),t.sdkLearnMoreUrl="https://aka.ms/sqlprojsdk",t.azureDevOpsLink="https://docs.microsoft.com/azure/azure-sql/database/local-dev-experience-overview?view=azuresql",t.newObjectNamePrompt=function(e){return a(50,null,e)},t.deleteConfirmation=function(e){return a(51,null,e)},t.deleteConfirmationContents=function(e){return a(52,null,e)},t.deleteReferenceConfirmation=function(e){return a(53,null,e)},t.selectTargetPlatform=function(e){return a(54,null,e)},t.currentTargetPlatform=function(e,t){return a(55,null,e,t)},t.projectUpdatedToSdkStyle=function(e){return a(56,null,e)},t.convertToSdkStyleConfirmation=function(e){return a(57,null,e)},t.updatedToSdkStyleError=function(e){return a(58,null,e)},t.publishDialogName=a(59,null),t.publish=a(60,null),t.cancelButtonText=a(61,null),t.generateScriptButtonText=a(62,null),t.databaseNameLabel=a(63,null),t.targetConnectionLabel=a(64,null),t.dataSourceRadioButtonLabel=a(65,null),t.connectionRadioButtonLabel=a(66,null),t.dataSourceDropdownTitle=a(67,null),t.noDataSourcesText=a(68,null),t.loadProfilePlaceholderText=a(69,null),t.profileReadError=e=>a(70,null,o.getErrorMessage(e)),t.sqlCmdVariables=a(71,null),t.sqlCmdVariableColumn=a(72,null),t.sqlCmdValueColumn=a(73,null),t.loadSqlCmdVarsButtonTitle=a(74,null),t.profile=a(75,null),t.selectConnection=a(76,null),t.server=a(77,null),t.defaultUser=a(78,null),t.selectProfileToUse=a(79,null),t.selectProfile=a(80,null),t.dontUseProfile=a(81,null),t.browseForProfileWithIcon=`$(folder) ${a(82,null)}`,t.chooseAction=a(83,null),t.chooseSqlcmdVarsToModify=a(84,null),t.enterNewValueForVar=e=>a(85,null,e),t.resetAllVars=a(86,null),t.createNew=a(87,null),t.enterNewDatabaseName=a(88,null),t.newText=a(89,null),t.selectDatabase=a(90,null),t.done=a(91,null),t.nameMustNotBeEmpty=a(92,null),t.AdvancedOptionsButton=a(93,null),t.AdvancedPublishOptions=a(94,null),t.PublishOptions=a(95,null),t.ExcludeObjectTypeTab=a(96,null),t.ResetButton=a(97,null),t.OptionDescription=a(98,null),t.OptionName=a(99,null),t.OptionInclude=a(100,null),t.OptionNotFoundWarningMessage=function(e){return a(101,null,e)},t.SqlServerName="SQL server",t.AzureSqlServerName="Azure SQL server",t.SqlServerDockerImageName="Microsoft SQL Server",t.SqlServerDocker2022ImageName="Microsoft SQL Server 2022 (preview)",t.AzureSqlDbFullDockerImageName="Azure SQL Database emulator Full",t.AzureSqlDbLiteDockerImageName="Azure SQL Database emulator Lite",t.AzureSqlLogicalServerName="Azure SQL logical server",t.selectPublishOption=a(102,null),t.defaultQuickPickItem=a(103,null),t.dockerImagesPlaceHolder=function(e){return a(104,null,e)},t.publishToExistingServer=function(e){return a(105,null,e)},t.publishToDockerContainer=function(e){return a(106,null,e)},t.publishToAzureEmulator=a(107,null),t.publishToNewAzureServer=a(108,null),t.azureServerName=a(109,null),t.azureSubscription=a(110,null),t.resourceGroup=a(111,null),t.azureLocation=a(112,null),t.azureAccounts=a(113,null),t.enterPortNumber=function(e){return a(114,null,e)},t.serverPortNumber=function(e){return a(115,null,e)},t.serverPassword=function(e){return a(116,null,e)},t.confirmServerPassword=function(e){return a(117,null,e)},t.baseDockerImage=function(e){return a(118,null,e)},t.publishTo=a(119,null),t.enterConnectionStringEnvName=a(120,null),t.enterConnectionStringTemplate=a(121,null),t.enterUser=function(e){return a(122,null,e)},t.enterPassword=function(e){return a(123,null,e)},t.confirmPassword=function(e){return a(124,null,e)},t.selectBaseImage=function(e){return a(125,null,e)},t.selectImageTag=function(e){return a(126,null,e)},t.invalidSQLPasswordMessage=function(e){return a(127,null,e)},t.passwordNotMatch=function(e){return a(128,null,e)},t.portMustBeNumber=a(129,null),t.valueCannotBeEmpty=a(130,null),t.dockerImageLabelPrefix="source=sqldbproject",t.dockerImageNamePrefix="sqldbproject",t.dockerImageDefaultTag="latest",t.eulaAgreementTemplate=a(131,null),t.eulaAgreementText=function(e){return a(132,null,e)},t.eulaAgreementTitle=a(133,null),t.edgeEulaAgreementTitle=a(134,null),t.sqlServerEulaLink="https://aka.ms/mcr/osslegalnotice",t.sqlServerEdgeEulaLink="https://aka.ms/mcr/osslegalnotice",t.connectionNamePrefix="SQLDbProject",t.sqlServerDockerRegistry="mcr.microsoft.com",t.sqlServerDockerRepository="mssql/server",t.azureSqlEdgeDockerRepository="azure-sql-edge",t.commandsFolderName="commands",t.mssqlFolderName=".mssql",t.dockerFileName="Dockerfile",t.startCommandName="start.sh",t.defaultPortNumber="1433",t.defaultLocalServerName="localhost",t.defaultLocalServerAdminName="sa",t.defaultConnectionStringEnvVarName="SQLConnectionString",t.defaultConnectionStringTemplate="Data Source=@@SERVER@@,@@PORT@@;Initial Catalog=@@DATABASE@@;User id=@@USER@@;Password=@@SA_PASSWORD@@;",t.azureFunctionLocalSettingsFileName="local.settings.json",t.enterConnStringTemplateDescription=a(135,null),t.appSettingPrompt=a(136,null),t.enterConnectionStringEnvNameDescription=a(137,null),t.deployDbTaskName=a(138,null),t.publishProjectSucceed=a(139,null),t.publishingProjectMessage=a(140,null),t.cleaningDockerImagesMessage=a(141,null),t.dockerImageMessage=a(142,null),t.dockerImageEulaMessage=a(143,null),t.creatingDeploymentSettingsMessage=a(144,null),t.runningDockerMessage=a(145,null),t.dockerNotRunningError=function(e){return a(146,null,e||"")},t.dockerContainerNotRunningErrorMessage=a(147,null),t.dockerContainerFailedToRunErrorMessage=a(148,null),t.connectingToSqlServerMessage=a(149,null),t.serverCreated=a(150,null),t.deployProjectFailedMessage=a(151,null),t.containerAlreadyExistForProject=a(152,null),t.checkoutOutputMessage=a(153,null),t.creatingAzureSqlServer=function(e){return a(154,null,e)},t.azureSqlServerCreated=function(e){return a(155,null,e)},t.taskFailedError=function(e,t){return a(156,null,e,t)},t.publishToContainerFailed=function(e){return a(157,null,e)},t.publishToNewAzureServerFailed=function(e){return a(158,null,e)},t.deployAppSettingUpdateFailed=function(e){return a(159,null,e)},t.deployAppSettingUpdating=function(e){return a(160,null,e)},t.connectionFailedError=function(e){return a(161,null,e)},t.dockerContainerCreatedMessage=function(e){return a(162,null,e)},t.dockerLogMessage=function(e){return a(163,null,e)},t.retryWaitMessage=function(e,t){return a(164,null,e,t)},t.retryRunMessage=function(e,t,r){return a(165,null,e,t,r)},t.retrySucceedMessage=function(e,t){return a(166,null,e,t)},t.retryFailedMessage=function(e,t,r){return a(167,null,e,t,r)},t.retryMessage=function(e,t){return a(168,null,e,t)},t.addDatabaseReferenceDialogName=a(169,null),t.addDatabaseReferenceOkButtonText=a(170,null),t.referenceRadioButtonsGroupTitle=a(171,null),t.projectLabel=a(172,null),t.systemDatabase=a(173,null),t.dacpacText=a(174,null),t.selectDacpac=a(175,null),t.sameDatabase=a(176,null),t.differentDbSameServer=a(177,null),t.differentDbDifferentServer=a(178,null),t.systemDbLocationDropdownValues=[t.differentDbSameServer],t.locationDropdownValues=[t.sameDatabase,t.differentDbSameServer,t.differentDbDifferentServer],t.databaseName=a(179,null),t.databaseVariable=a(180,null),t.serverName=a(181,null),t.serverVariable=a(182,null),t.suppressMissingDependenciesErrors=a(183,null),t.exampleUsage=a(184,null),t.enterSystemDbName=a(185,null),t.databaseNameRequiredVariableOptional=a(186,null),t.databaseNameServerNameVariableRequired=a(187,null),t.otherServer="OtherServer",t.otherSeverVariable="OtherServer",t.databaseProject=a(188,null),t.dacpacNotOnSameDrive=e=>a(189,null,e),t.referenceType=a(190,null),t.createProjectFromDatabaseDialogName=a(191,null),t.createProjectDialogOkButtonText=a(192,null),t.sourceDatabase=a(193,null),t.targetProject=a(194,null),t.createProjectSettings=a(195,null),t.projectNameLabel=a(196,null),t.projectNamePlaceholderText=a(197,null),t.projectLocationLabel=a(198,null),t.projectLocationPlaceholderText=a(199,null),t.browseButtonText=a(200,null),t.selectFolderStructure=a(201,null),t.folderStructureLabel=a(202,null),t.WorkspaceFileExtension=".code-workspace",t.browseEllipsisWithIcon=`$(folder) ${a(203,null)}`,t.selectProjectLocation=a(204,null),t.sdkStyleProject=a(205,null),t.YesRecommended=a(206,null),t.SdkLearnMorePlaceholder=a(207,null),t.ProjectParentDirectoryNotExistError=e=>a(208,null,e),t.ProjectDirectoryAlreadyExistError=(e,t)=>a(209,null,e,t),t.updateProjectFromDatabaseDialogName=a(210,null),t.updateText=a(211,null),t.noSqlProjFile=a(212,null),t.noSchemaCompareExtension=a(213,null),t.projectToUpdatePlaceholderText=a(214,null),t.updateAction=a(215,null),t.compareActionRadioButtonLabel=a(216,null),t.updateActionRadioButtonLabel=a(217,null),t.actionLabel=a(218,null),t.applyConfirmation=a(219,null),t.applySuccess=a(220,null),t.equalComparison=a(221,null),t.applyError=function(e){return a(222,null,e)},t.updatingProjectFromDatabase=function(e,t){return a(223,null,e,t)},t.compareErrorMessage=function(e){return a(224,null,e||"Unknown")},t.multipleSqlProjFiles=a(225,null),t.noSqlProjFiles=a(226,null),t.noDataSourcesFile=a(227,null,t.dataSourcesFileName),t.missingVersion=a(228,null,t.dataSourcesFileName),t.unrecognizedDataSourcesVersion=a(229,null),t.unknownDataSourceType=a(230,null),t.invalidSqlConnectionString=a(231,null),t.extractTargetRequired=a(232,null),t.schemaCompareNotInstalled=a(233,null),t.buildFailedCannotStartSchemaCompare=a(234,null),t.updateProjectForRoundTrip=function(e){return a(235,null,e)},t.updateProjectDatabaseReferencesForRoundTrip=function(e){return a(236,null,e)},t.databaseReferenceTypeRequired=a(237,null),t.systemDatabaseReferenceRequired=a(238,null),t.dacpacFileLocationRequired=a(239,null),t.databaseLocationRequired=a(240,null),t.databaseNameRequired=a(241,null),t.invalidDataSchemaProvider=a(242,null),t.invalidDatabaseReference=a(243,null),t.databaseSelectionRequired=a(244,null),t.databaseReferenceAlreadyExists=a(245,null),t.outsideFolderPath=a(246,null),t.parentTreeItemUnknown=a(247,null),t.prePostDeployCount=a(248,null),t.invalidProjectReload=a(249,null),t.externalStreamingJobValidationPassed=a(250,null),t.projectAlreadyOpened=function(e){return a(251,null,e)},t.projectAlreadyExists=function(e,t){return a(252,null,e,t)},t.noFileExist=function(e){return a(253,null,e)},t.fileOrFolderDoesNotExist=function(e){return a(254,null,e)},t.cannotResolvePath=function(e){return a(255,null,e)},t.fileAlreadyExists=function(e){return a(256,null,e)},t.folderAlreadyExists=function(e){return a(257,null,e)},t.folderAlreadyExistsChooseNewLocation=function(e){return a(258,null,e)},t.invalidInput=function(e){return a(259,null,e)},t.invalidProjectPropertyValueInSqlProj=function(e){return a(260,null,e)},t.invalidProjectPropertyValueProvided=function(e){return a(261,null,e)},t.unableToCreatePublishConnection=function(e){return a(262,null,e)},t.circularProjectReference=function(e,t){return a(263,null,e,t)},t.errorFindingBuildFilesLocation=function(e){return a(264,null,o.getErrorMessage(e))},t.projBuildFailed=function(e){return a(265,null,e)},t.unexpectedProjectContext=function(e){return a(266,null,e)},t.unableToPerformAction=function(e,t){return a(267,null,e,t)},t.unableToFindObject=function(e,t){return a(268,null,e,t)},t.deployScriptExists=function(e){return a(269,null,e)},t.notValidVariableName=function(e){return a(270,null,e)},t.cantAddCircularProjectReference=function(e){return a(271,null,e)},t.unableToFindSqlCmdVariable=function(e){return a(272,null,e)},t.unableToFindDatabaseReference=function(e){return a(273,null,e)},t.invalidGuid=function(e){return a(274,null,e)},t.invalidTargetPlatform=function(e,t){return a(275,null,e,t.toString())},t.errorReadingProject=function(e,t){return a(276,null,e,t)},t.deleteAction=a(277,null),t.excludeAction=a(278,null),t.fileObject=a(279,null),t.folderObject=a(280,null),t.folderFriendlyName=a(281,null),t.scriptFriendlyName=a(282,null),t.tableFriendlyName=a(283,null),t.viewFriendlyName=a(284,null),t.storedProcedureFriendlyName=a(285,null),t.dataSourceFriendlyName=a(286,null),t.fileFormatFriendlyName=a(287,null),t.externalStreamFriendlyName=a(288,null),t.externalStreamingJobFriendlyName=a(289,null),t.preDeployScriptFriendlyName=a(290,null),t.postDeployScriptFriendlyName=a(291,null),t.DotnetInstallationConfirmation=a(292,null),t.NetCoreSupportedVersionInstallationConfirmation=function(e){return a(293,null,e)},t.UpdateDotnetLocation=a(294,null),t.projectsOutputChannel=a(295,null),t.Install=a(296,null),t.DoNotAskAgain=a(297,null),t.ItemGroup="ItemGroup",t.Build="Build",t.Folder="Folder",t.Include="Include",t.Remove="Remove",t.Import="Import",t.Project="Project",t.Condition="Condition",t.Target="Target",t.Name="Name",t.BeforeBuildTarget="BeforeBuild",t.Delete="Delete",t.Files="Files",t.PackageReference="PackageReference",t.Version="Version",t.PrivateAssets="PrivateAssets",t.SqlCmdVariable="SqlCmdVariable",t.DefaultValue="DefaultValue",t.Value="Value",t.ArtifactReference="ArtifactReference",t.SuppressMissingDependenciesErrors="SuppressMissingDependenciesErrors",t.DatabaseVariableLiteralValue="DatabaseVariableLiteralValue",t.DatabaseSqlCmdVariable="DatabaseSqlCmdVariable",t.ServerSqlCmdVariable="ServerSqlCmdVariable",t.DSP="DSP",t.Properties="Properties",t.RelativeOuterPath="..",t.ProjectReference="ProjectReference",t.TargetConnectionString="TargetConnectionString",t.PreDeploy="PreDeploy",t.PostDeploy="PostDeploy",t.None="None",t.True="True",t.False="False",t.Private="Private",t.ProjectGuid="ProjectGuid",t.PropertyGroup="PropertyGroup",t.Type="Type",t.ExternalStreamingJob="ExternalStreamingJob",t.Sdk="Sdk",t.DatabaseSource="DatabaseSource",t.VisualStudioVersion="VisualStudioVersion",t.SSDTExists="SSDTExists",t.BuildElements=a(298,null),t.FolderElements=a(299,null),t.PreDeployElements=a(300,null),t.PostDeployElements=a(301,null),t.NoneElements=a(302,null),t.ImportElements=a(303,null),t.ProjectReferenceNameElement=a(304,null),t.ProjectReferenceElement=a(305,null),t.DacpacReferenceElement=a(306,null),t.DefaultCollationProperty="DefaultCollation",t.DefaultCollation="SQL_Latin1_General_CP1_CI_AS",t.WellKnownDatabaseSources=["dsct-oracle-to-ms-sql"],t.NetCoreTargets="$(NETCoreTargetsPath)\\Microsoft.Data.Tools.Schema.SqlTasks.targets",t.SqlDbTargets="$(SQLDBExtensionsRefPath)\\Microsoft.Data.Tools.Schema.SqlTasks.targets",t.MsBuildtargets="$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\SSDT\\Microsoft.Data.Tools.Schema.SqlTasks.targets",t.NetCoreCondition="'$(NetCoreBuild)' == 'true'",t.NotNetCoreCondition="'$(NetCoreBuild)' != 'true'",t.SqlDbPresentCondition="'$(SQLDBExtensionsRefPath)' != ''",t.SqlDbNotPresentCondition="'$(SQLDBExtensionsRefPath)' == ''",t.RoundTripSqlDbPresentCondition="'$(NetCoreBuild)' != 'true' AND '$(SQLDBExtensionsRefPath)' != ''",t.RoundTripSqlDbNotPresentCondition="'$(NetCoreBuild)' != 'true' AND '$(SQLDBExtensionsRefPath)' == ''",t.DacpacRootPath="$(DacPacRootPath)",t.ProjJsonToClean="$(BaseIntermediateOutputPath)\\project.assets.json",t.VSVersionCondition="'$(VisualStudioVersion)' == ''",t.SsdtExistsCondition="'$(SSDTExists)' == ''",t.targetsExistsCondition="Exists('$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\SSDT\\Microsoft.Data.Tools.Schema.SqlTasks.targets')",t.NETFrameworkAssembly="Microsoft.NETFramework.ReferenceAssemblies",t.VersionNumber="1.0.0",t.All="All",t.SqlProjPathSeparator="\\",t.targetDatabaseName="TargetDatabaseName",t.targetConnectionString="TargetConnectionString",t.initialCatalogSetting="Initial Catalog",t.dataSourceSetting="Data Source",t.integratedSecuritySetting="Integrated Security",t.authenticationSetting="Authentication",t.activeDirectoryInteractive="active directory interactive",t.userIdSetting="User ID",t.passwordSetting="Password",t.integratedAuth="Integrated",t.azureMfaAuth="AzureMFA",t.sqlAuth="SqlAuth",t.azureAddAccount=a(307,null),(s=t.DatabaseProjectItemType||(t.DatabaseProjectItemType={})).project="databaseProject.itemType.project",s.legacyProject="databaseProject.itemType.legacyProject",s.folder="databaseProject.itemType.folder",s.file="databaseProject.itemType.file",s.externalStreamingJob="databaseProject.itemType.file.externalStreamingJob",s.table="databaseProject.itemType.file.table",s.referencesRoot="databaseProject.itemType.referencesRoot",s.reference="databaseProject.itemType.reference",s.dataSourceRoot="databaseProject.itemType.dataSourceRoot",t.autorestPostDeploymentScriptName="PostDeploymentScript.sql",t.nodeButNotAutorestFound=a(308,null),t.nodeNotFound=a(309,null),t.nodeButNotAutorestFoundPrompt=a(310,null),t.userSelectionInstallGlobally=a(311,null),t.userSelectionRunNpx=a(312,null),t.userSelectionCancelled=a(313,null),t.installGlobally=a(314,null),t.runViaNpx=a(315,null),t.selectSpecFile=a(316,null),t.generatingProjectFailed=function(e){return a(317,null,e)},t.noSqlFilesGenerated=a(318,null),t.multipleMostDeploymentScripts=function(e){return a(319,null,t.autorestPostDeploymentScriptName,e)},t.specSelectionText=a(320,null),t.autorestProjectName=a(321,null),t.generatingProjectFromAutorest=function(e){return a(322,null,e)},t.systemDbs=["master","msdb","tempdb","model"],t.sameDatabaseExampleUsage="SELECT * FROM [Schema1].[Table1]",t.differentDbSameServerExampleUsage=function(e){return`SELECT * FROM [${e}].[Schema1].[Table1]`},t.differentDbDifferentServerExampleUsage=function(e,t){return`SELECT * FROM [${e}].[${t}].[Schema1].[Table1]`},t.targetPlatformToVersion=new Map([["SQL Server 2012","110"],["SQL Server 2014","120"],["SQL Server 2016","130"],["SQL Server 2017","140"],["SQL Server 2019","150"],["SQL Server 2022","160"],["Azure SQL Database","AzureV12"],["Azure Synapse Dedicated SQL Pool","Dw"]]),t.AzureDwFolder="AzureDw",t.defaultTargetPlatform="SQL Server 2019",t.defaultDSP=t.targetPlatformToVersion.get(t.defaultTargetPlatform),t.getTargetPlatformFromVersion=function(e){return Array.from(t.targetPlatformToVersion.keys()).filter((r=>t.targetPlatformToVersion.get(r)===e))[0]},(i=t.PublishTargetType||(t.PublishTargetType={})).existingServer="existingServer",i.docker="docker",i.newAzureServer="newAzureServer",t.CollapseProjectNodesKey="collapseProjectNodes"},8534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const n=r(2087),o=r(9669);class a{static async getRequest(e,t=!1){if(t&&a.cache.has(e))return a.cache.get(e);const r=await o.default.get(e,{headers:{"Content-Type":"application/json"},validateStatus:()=>!0});if(200!==r.status){let e=[];throw e.push(r.status.toString()),e.push(r.statusText),r.data?.error&&e.push(`${r.data?.error?.code} : ${r.data?.error?.message}`),new Error(e.join(n.EOL))}return t&&a.cache.set(e,r.data),r.data}}t.HttpClient=a,a.cache=new Map},5894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconPathHelper=void 0;class r{static setExtensionContext(e){r.extensionContext=e,r.databaseProject=r.makeIcon("databaseProject"),r.colorfulSqlProject=r.makeIcon("colorfulSqlProject",!0),r.sqlEdgeProject=r.makeIcon("sqlEdgeProject",!0),r.azureSqlDbProject=r.makeIcon("azure",!0),r.dataSourceGroup=r.makeIcon("dataSourceGroup"),r.dataSourceSql=r.makeIcon("dataSource-sql"),r.referenceGroup=r.makeIcon("referenceGroup"),r.referenceDatabase=r.makeIcon("reference-database"),r.refresh=r.makeIcon("refresh",!0),r.folder_blue=r.makeIcon("folder_blue",!0),r.selectConnection=r.makeIcon("selectConnection",!0),r.connect=r.makeIcon("connect",!0),r.folder=r.makeIcon("folder"),r.add=r.makeIcon("add",!0),r.build=r.makeIcon("build",!0),r.publish=r.makeIcon("publish",!0),r.schemaCompare=r.makeIcon("schemaCompare",!0),r.targetPlatform=r.makeIcon("targetPlatform",!0),r.success=r.makeIcon("success",!0),r.error=r.makeIcon("error",!0),r.inProgress=r.makeIcon("inProgress",!0),r.dashboardSqlProj=r.makeIcon("dashboardSqlProj",!0)}static makeIcon(e,t=!1){return t?{dark:r.extensionContext.asAbsolutePath(`images/${e}.svg`),light:r.extensionContext.asAbsolutePath(`images/${e}.svg`)}:{dark:r.extensionContext.asAbsolutePath(`images/dark/${e}.svg`),light:r.extensionContext.asAbsolutePath(`images/light/${e}.svg`)}}}t.IconPathHelper=r},2178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}then(e,t){return this.promise.then(e,t)}}},1845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryActions=t.TelemetryViews=t.TelemetryReporter=void 0;const n=r(7437),o=(0,r(1027).getPackageInfo)();var a,i;t.TelemetryReporter=new n.default(o.name,o.version,o.aiKey),(i=t.TelemetryViews||(t.TelemetryViews={})).ProjectController="ProjectController",i.SqlProjectPublishDialog="SqlProjectPublishDialog",i.ProjectTree="ProjectTree",i.PublishOptionsDialog="PublishOptionsDialog",(a=t.TelemetryActions||(t.TelemetryActions={})).createNewProject="createNewProject",a.addDatabaseReference="addDatabaseReference",a.runStreamingJobValidation="runStreamingJobValidation",a.generateScriptClicked="generateScriptClicked",a.deleteObjectFromProject="deleteObjectFromProject",a.editProjectFile="editProjectFile",a.addItemFromTree="addItemFromTree",a.addExistingItem="addExistingItem",a.excludeFromProject="excludeFromProject",a.projectSchemaCompareCommandInvoked="projectSchemaCompareCommandInvoked",a.publishProject="publishProject",a.build="build",a.updateProjectForRoundtrip="updateProjectForRoundtrip",a.changePlatformType="changePlatformType",a.updateSystemDatabaseReferencesInProjFile="updateSystemDatabaseReferencesInProjFile",a.startAddSqlBinding="startAddSqlBinding",a.finishAddSqlBinding="finishAddSqlBinding",a.createProjectFromDatabase="createProjectFromDatabase",a.updateProjectFromDatabase="updateProjectFromDatabase",a.publishToContainer="publishToContainer",a.publishToNewAzureServer="publishToNewAzureServer",a.generateProjectFromOpenApiSpec="generateProjectFromOpenApiSpec",a.publishOptionsOpened="publishOptionsOpened",a.resetOptions="resetOptions",a.optionsChanged="optionsChanged",a.profileLoaded="profileLoaded"},9799:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssStyles=void 0,function(e){let t;e.text={"user-select":"text",cursor:"text"},e.tableHeader={...e.text,"text-align":"left",border:"none","font-size":"12px","font-weight":"normal",color:"#666666"},e.tableRow={...e.text,"border-top":"solid 1px #ccc","border-bottom":"solid 1px #ccc","border-left":"none","border-right":"none","font-size":"12px"},e.fontWeightBold={"font-weight":"bold"},e.titleFontSize=13,e.publishDialogLabelWidth="205px",e.publishDialogTextboxWidth="190px",e.publishDialogDropdownWidth="192px",e.PublishingOptionsButtonWidth="100px",e.addDatabaseReferenceDialogLabelWidth="215px",e.addDatabaseReferenceInputboxWidth="220px",e.createProjectFromDatabaseLabelWidth="110px",e.createProjectFromDatabaseTextboxWidth="310px",e.updateProjectFromDatabaseLabelWidth="110px",e.updateProjectFromDatabaseTextboxWidth="310px",function(e){e.normal="normal",e.italics="italic"}(t=e.fontStyle||(e.fontStyle={}))}(t.cssStyles||(t.cssStyles={}))},1027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfNotConnected=t.findSqlVersionInTargetPlatform=t.findSqlVersionInImageName=t.getWellKnownDatabaseSources=t.getWellKnownDatabaseSource=t.getFoldersAlongPath=t.getFoldersToFile=t.getFoldersInFolder=t.getSqlFilesInFolder=t.globWithPattern=t.showInfoMessageWithOutputChannel=t.showErrorMessageWithOutputChannel=t.isValidSQLPassword=t.isEmptyString=t.validateSqlServerPortNumber=t.detectCommandInstallation=t.retry=t.createFolderIfNotExist=t.getAzdataApi=t.timeConversion=t.getPackageInfo=t.getDefaultPublishDeploymentOptions=t.defaultAzureAccountServiceFactory=t.defaultAzureResourceServiceFactory=t.getVscodeMssqlApi=t.getSchemaCompareService=t.getDacFxService=t.getDataWorkspaceExtensionApi=t.getSqlProjectsInWorkspace=t.getSqlProjectFilesInFolder=t.isValidSqlCmdVariableName=t.formatSqlCmdVariable=t.removeSqlCmdVariableFormatting=t.readSqlCmdVariables=t.convertSlashesForSqlProj=t.getPlatformSafeFileEntryPath=t.getQuotedPath=t.exists=t.ensureTrailingSlash=t.trimChars=t.trimUri=t.getErrorMessage=void 0;const n=r(7549),o=r(2087),a=r(6078),i=r(5622),s=r(3294),c=r(5674),l=r(2806),u=r(5747);function p(e){return e instanceof Error?"string"==typeof e.message?e.message:"":"string"==typeof e?e:`${JSON.stringify(e,void 0,"\t")}`}function d(e,t){let r=e,n=0;for(;t.includes(r[n]);)n++;for(r=r.substr(n),n=0;t.includes(r[r.length-n-1]);)n++;return r=r.substring(0,r.length-n),r}function m(e){return e.includes("\\")?e.split("\\").join("/"):e}function h(e){return e.includes("/")?e.split("/").join(a.SqlProjPathSeparator):e}function f(e){if(!e||""===e)return"";if(e.length>3){let t=(e=e.trim()).startsWith("$(")?2:0,r=e.endsWith(")")?1:0;(t>0||r>0)&&(e=e.substr(t,e.length-r-t))}return e.trim()}function g(){const e=x()?"Microsoft.data-workspace":"ms-mssql.data-workspace-vscode";return n.extensions.getExtension(e).exports}async function v(){if(x()){const e=n.extensions.getExtension("Microsoft.mssql");return(await e.activate()).schemaCompare}return(await b()).schemaCompare}async function b(){return n.extensions.getExtension("ms-mssql.mssql").activate()}let y;t.getErrorMessage=p,t.trimUri=function(e,t){let r=e.path.split("/"),n=t.path.split("/");if(i.isAbsolute(t.path)&&r.length>0&&n.length>0&&r[0].toLowerCase()!==n[0].toLowerCase())throw new Error(a.outsideFolderPath);for(;r.length>0&&n.length>0&&r[0].toLocaleLowerCase()===n[0].toLocaleLowerCase();)r=r.slice(1),n=n.slice(1);for(;r.length>1;)n.unshift(a.RelativeOuterPath),r=r.slice(1);return n.join("/")},t.trimChars=d,t.ensureTrailingSlash=function(e,t=a.SqlProjPathSeparator){return e.endsWith(t)?e:e+t},t.exists=async function(e){try{return await u.promises.access(e),!0}catch{return!1}},t.getQuotedPath=function(e){return"win32"===o.platform()?function(e){return'"'+(e=e.split("\\").join("\\\\").split('"').join(""))+'"'}(e):function(e){return'"'+(e=e.split("\\").join("/").split('"').join(""))+'"'}(e)},t.getPlatformSafeFileEntryPath=m,t.convertSlashesForSqlProj=h,t.readSqlCmdVariables=function(e,t){let r={};for(let n=0;n<e.documentElement.getElementsByTagName(a.SqlCmdVariable)?.length;n++){const o=e.documentElement.getElementsByTagName(a.SqlCmdVariable)[n],i=o.getAttribute(a.Include);t||void 0===o.getElementsByTagName(a.DefaultValue)[0]?r[i]=o.getElementsByTagName(a.Value)[0].childNodes[0].nodeValue:r[i]=o.getElementsByTagName(a.DefaultValue)[0].childNodes[0].nodeValue}return r},t.removeSqlCmdVariableFormatting=f,t.formatSqlCmdVariable=function(e){return e&&""!==e?((e=e.trim()).startsWith("$(")||e.endsWith(")")?e.startsWith("$(")&&!e.endsWith(")")&&(e=`${e})`):e=`$(${e})`,e):e},t.isValidSqlCmdVariableName=function(e){return!(!(e=f(e))||""===e.trim()||e.includes(" ")||e.includes("$")||e.includes("@")||e.includes("#")||e.includes('"')||e.includes("'")||e.includes("-"))},t.getSqlProjectFilesInFolder=async function(e){const t=s.escapePath(e.replace(/\\/g,"/")),r=i.posix.join(t,"**","*.sqlproj");return await s(r)},t.getSqlProjectsInWorkspace=function(){return g().getProjectsInWorkspace(a.sqlprojExtension)},t.getDataWorkspaceExtensionApi=g,t.getDacFxService=async function(){if(x()){const e=n.extensions.getExtension("Microsoft.mssql");return(await e.activate()).dacFx}return(await b()).dacFx},t.getSchemaCompareService=v,t.getVscodeMssqlApi=b,t.defaultAzureResourceServiceFactory=async function(){return(await b()).azureResourceService},t.defaultAzureAccountServiceFactory=async function(){return(await b()).azureAccountService},t.getDefaultPublishDeploymentOptions=async function(e){const t=await v(),r=await t.schemaCompareGetDefaultOptions();return e.databaseReferences.length>0&&(r.defaultDeploymentOptions.booleanOptionsDictionary.includeCompositeObjects.value=!0),r.defaultDeploymentOptions},t.getPackageInfo=function(e){e||(e=r(306));const t=r(3907),n=x();if(e&&(n||t))return{name:n?e.name:t.name,version:e.version,aiKey:e.aiKey}},t.timeConversion=function(e){const t=[],r=36e5,n=Math.trunc(e/r);n>0&&(t.push(`${n} ${a.hr}`),e-=n*r);const o=Math.trunc(e/6e4);o>0&&(t.push(`${o} ${a.min}`),e-=6e4*o);const i=Math.trunc(e/1e3);return i>0&&t.push(`${i} ${a.sec}`),0===n&&0===o&&0===i&&t.push(`${e} ${a.msec}`),t.join(", ")};try{y=r(3331),y?.version||(y=void 0)}catch{}function x(){return y}function S(e){const t=e.toUpperCase();return a.WellKnownDatabaseSources.find((e=>e.toUpperCase()===t))}t.getAzdataApi=x,t.createFolderIfNotExist=async function(e){try{await c.mkdir(e)}catch{}},t.retry=async function(e,t,r,n,o,i=10,s=2){for(let c=0;c<i;c++){o.appendLine(a.retryWaitMessage(s,e)),await new Promise((e=>setTimeout(e,1e3*s))),o.appendLine(a.retryRunMessage(c,i,e));try{let i=await t();const s=await r(i),c=await n(i);if(s.validated)return o.appendLine(a.retrySucceedMessage(e,c)),i;o.appendLine(a.retryFailedMessage(e,c,s.errorMessage))}catch(t){o.appendLine(a.retryMessage(e,p(t)))}}},t.detectCommandInstallation=async function(e){try{if(await l(e))return!0}catch(e){console.log(p(e))}return!1},t.validateSqlServerPortNumber=function(e){if(!e)return!1;const t=+e;return!isNaN(t)&&t>0&&t<65535},t.isEmptyString=function(e){return void 0===e||""===e},t.isValidSQLPassword=function(e,t="sa"){const r=e&&void 0!==t&&e.toUpperCase().includes(t.toUpperCase()),n=/[A-Z]/.test(e)?1:0,o=/[a-z]/.test(e)?1:0,a=/\d/.test(e)?1:0,i=/\W/.test(e)?1:0;return!r&&e.length>=8&&e.length<=128&&n+o+a+i>=3},t.showErrorMessageWithOutputChannel=async function(e,t,r){await n.window.showErrorMessage(e(p(t)),a.checkoutOutputMessage)===a.checkoutOutputMessage&&r.show()},t.showInfoMessageWithOutputChannel=async function(e,t){await n.window.showInformationMessage(e,a.checkoutOutputMessage)===a.checkoutOutputMessage&&t.show()},t.globWithPattern=async function(e){const t=e.replace(/\\/g,"/");return await s(t)},t.getSqlFilesInFolder=async function(e,t){e=e.replace(/\\/g,"/");const r=i.posix.join(e,"**","*.sql");if(t){const t=i.posix.join(e,"bin","**","*.sql"),n=i.posix.join(e,"obj","**","*.sql");return await s(r,{ignore:[t,n]})}return await s(r)},t.getFoldersInFolder=async function(e,t){const r=s.escapePath(e.replace(/\\/g,"/")),n=i.posix.join(r,"/**");if(t){const e=i.posix.join(r,"bin"),t=i.posix.join(r,"obj");return await s(n,{onlyDirectories:!0,ignore:[e,t]})}return await s(n,{onlyDirectories:!0})},t.getFoldersToFile=function(e,t){let r=[];const n=d(h(i.dirname(t).substring(e.length))," \\").split(a.SqlProjPathSeparator);let o=h(e)+a.SqlProjPathSeparator;for(let e of n)e&&(o+=e+a.SqlProjPathSeparator,r.push(m(o)));return r},t.getFoldersAlongPath=function(e,t){let r=[];const n=d(h(t.substring(e.length))," \\").split(a.SqlProjPathSeparator);let o=h(e)+a.SqlProjPathSeparator;for(let e of n)e&&(o+=e+a.SqlProjPathSeparator,r.push(m(o)));return r},t.getWellKnownDatabaseSource=S,t.getWellKnownDatabaseSources=function(e){const t=new Set;for(let r of e){const e=S(r);e&&t.add(e)}return Array.from(t)},t.findSqlVersionInImageName=function(e){const t=new RegExp("^([0-9]+)[-].+$");if(t.test(e)){const r=t.exec(e);if(r)return+r[1]}},t.findSqlVersionInTargetPlatform=function(e){const t=new RegExp("([0-9]+)$");if(t.test(e)){const r=t.exec(e);if(r)return+r[1]}},t.throwIfNotConnected=function(e){if(!e.connected)throw new Error(`${e.errorMessage} (${e.errorCode})`)}},5372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SqlDatabaseProjectTreeViewProvider=void 0;const n=r(7549),o=r(6078),a=r(4175),i=r(7920);t.SqlDatabaseProjectTreeViewProvider=class{constructor(){this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.roots=[],this.initialize()}initialize(){this.roots=[]}notifyTreeDataChanged(){this._onDidChangeTreeData.fire(void 0)}getTreeItem(e){return e.treeItem}getChildren(e){return void 0===e?this.roots:e.children}getParent(e){if(!e.parent)throw new Error(o.parentTreeItemUnknown);return e.parent}load(e){let t=[];for(const r of e)t.push(new i.ProjectRootTreeItem(r)),t.push(a.SpacerTreeItem);t[t.length-1]===a.SpacerTreeItem&&t.pop(),this.roots=t,this._onDidChangeTreeData.fire(void 0)}setTreeView(e){if(this.treeView)throw new Error("TreeView should not be set multiple times.");this.treeView=e}async focus(e){const t=this.roots.find((t=>t instanceof i.ProjectRootTreeItem&&t.project===e));t&&await(this.treeView?.reveal(t,{focus:!0,expand:!0}))}}},8018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7549),o=r(2102),a=r(5622),i=r(2572),s=r(5191),c=r(5894),l=r(6078),u=r(6650),p=r(2134),d=r(1027);t.default=class{constructor(e){this.context=e,this._outputChannel=n.window.createOutputChannel(l.projectsOutputChannel),this.projectsController=new i.ProjectsController(this._outputChannel),this.netcoreTool=new s.NetCoreTool(this._outputChannel)}get extensionContext(){return this.context}get projController(){return this.projectsController}deactivate(){}async activate(){const e=n.workspace.getConfiguration(s.DBProjectConfigurationKey)[s.NetCoreInstallLocationKey];return e&&!n.workspace.getConfiguration(s.DBProjectConfigurationKey)[s.DotnetInstallLocationKey]&&await n.workspace.getConfiguration(s.DBProjectConfigurationKey).update(s.DotnetInstallLocationKey,e,!0),await this.initializeDatabaseProjects(),new u.SqlDatabaseProjectProvider(this.projectsController)}async initializeDatabaseProjects(){this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.properties",(async e=>n.window.showErrorMessage(`Properties not yet implemented: ${e.element.uri.path}`)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.build",(async e=>this.projectsController.buildProject(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.publish",(async e=>this.projectsController.publishProject(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.schemaCompare",(async e=>this.projectsController.schemaCompare(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.schemaComparePublishProjectChanges",(async(e,t,r)=>await this.projectsController.schemaComparePublishProjectChanges(e,t,r)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.updateProjectFromDatabase",(async e=>{await this.projectsController.updateProjectFromDatabase(e)}))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.createProjectFromDatabase",(async e=>this.projectsController.createProjectFromDatabase(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.generateProjectFromOpenApiSpec",(async e=>this.projectsController.generateProjectFromOpenApiSpec(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newScript",(async e=>this.projectsController.addItemPromptFromNode(e,"script")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newPreDeploymentScript",(async e=>this.projectsController.addItemPromptFromNode(e,"preDeployScript")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newPostDeploymentScript",(async e=>this.projectsController.addItemPromptFromNode(e,"postDeployScript")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newTable",(async e=>this.projectsController.addItemPromptFromNode(e,"table")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newView",(async e=>this.projectsController.addItemPromptFromNode(e,"view")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newStoredProcedure",(async e=>this.projectsController.addItemPromptFromNode(e,"storedProcedure")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newExternalStreamingJob",(async e=>this.projectsController.addItemPromptFromNode(e,"externalStreamingJob")))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newItem",(async e=>this.projectsController.addItemPromptFromNode(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.addExistingItem",(async e=>this.projectsController.addExistingItemPrompt(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.newFolder",(async e=>this.projectsController.addFolderPrompt(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.addDatabaseReference",(async e=>this.projectsController.addDatabaseReference(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.openContainingFolder",(async e=>this.projectsController.openContainingFolder(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.editProjectFile",(async e=>this.projectsController.editProjectFile(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.convertToSdkStyleProject",(async e=>this.projectsController.convertToSdkStyleProject(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.delete",(async e=>this.projectsController.delete(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.exclude",(async e=>this.projectsController.exclude(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.changeTargetPlatform",(async e=>this.projectsController.changeTargetPlatform(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.validateExternalStreamingJob",(async e=>this.projectsController.validateExternalStreamingJob(e)))),this.context.subscriptions.push(n.commands.registerCommand("sqlDatabaseProjects.openInDesigner",(async e=>{if(e?.element instanceof p.TableFileNode){const t=e.element,r=t.root,n=t.fileSystemUri.fsPath,o=r.project.projectFilePath,i=r.project.getProjectTargetVersion();await(0,d.getAzdataApi)().designers.openTableDesigner("MSSQL",{title:t.friendlyName,tooltip:`${o} - ${t.friendlyName}`,id:n,isNewTable:!1,tableScriptPath:n,projectFilePath:o,allScripts:r.project.files.filter((e=>0===e.type&&a.extname(e.fsUri.fsPath).toLowerCase()===l.sqlFileExtension)).map((e=>e.fsUri.fsPath)),targetVersion:i},{ProjectTargetVersion:i})}}))),c.IconPathHelper.setExtensionContext(this.extensionContext),await o.loadTemplates(a.join(this.context.extensionPath,"resources","templates"))}dispose(){this.deactivate()}}},2572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsController=t.TaskExecutionMode=void 0;const n=r(6078),o=r(2087),a=r(5622),i=r(1027),s=r(2884),c=r(2102),l=r(7549),u=r(5747),p=r(5444),d=r(4935),m=r(2134),h=r(7920),f=r(5191),g=r(4914),v=r(5932),b=r(774),y=r(122),x=r(17),S=r(5603),_=r(1845),E=r(5894),w=r(891),P=r(3773),T=r(7978),D=r(5892),C=r(4191),A=r(9108),j=r(9859),I=r(6742),N=r(5566),O=r(2734);var R;!function(e){e[e.execute=0]="execute",e[e.script=1]="script",e[e.executeAndScript=2]="executeAndScript"}(R=t.TaskExecutionMode||(t.TaskExecutionMode={})),t.ProjectsController=class{constructor(e){this._outputChannel=e,this.buildInfo=[],this.publishInfo=[],this.projFileWatchers=new Map,this.netCoreTool=new f.NetCoreTool(this._outputChannel),this.buildHelper=new g.BuildHelper,this.azureSqlClient=new N.AzureSqlClient,this.deployService=new D.DeployService(this.azureSqlClient,this._outputChannel),this.connectionService=new O.ConnectionService(this._outputChannel),this.autorestHelper=new C.AutorestHelper(this._outputChannel)}getDashboardPublishData(e){const t=[];for(let r=this.publishInfo.length-1;r>=0;r--)if(this.publishInfo[r].projectFile===e){let e,o;this.publishInfo[r].status===w.Status.success?(e=E.IconPathHelper.success,o=n.Success):this.publishInfo[r].status===w.Status.failed?(e=E.IconPathHelper.error,o=n.Failed):(e=E.IconPathHelper.inProgress,o=n.InProgress);let a=[{text:o,icon:e},this.publishInfo[r].startDate,this.publishInfo[r].timeToCompleteAction,this.publishInfo[r].target,this.publishInfo[r].targetServer,this.publishInfo[r].targetDatabase];t.push(a)}return t}getDashboardBuildData(e){const t=[];for(let r=this.buildInfo.length-1;r>=0;r--)if(this.buildInfo[r].projectFile===e){let e,o;this.buildInfo[r].status===w.Status.success?(e=E.IconPathHelper.success,o=n.Success):this.buildInfo[r].status===w.Status.failed?(e=E.IconPathHelper.error,o=n.Failed):(e=E.IconPathHelper.inProgress,o=n.InProgress);let a=[{text:o,icon:e},this.buildInfo[r].startDate,this.buildInfo[r].timeToCompleteAction,this.buildInfo[r].target];t.push(a)}return t}refreshProjectsTree(e){e.treeDataProvider.notifyTreeDataChanged()}async createNewProject(e){if(_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.createNewProject).withAdditionalProperties({template:e.projectTypeId,sdkStyle:e.sdkStyle.toString(),targetPlatform:e.targetPlatform?.toString()??""}).send(),e.projectGuid&&!s.isUUID(e.projectGuid))throw new Error(n.invalidGuid(e.projectGuid));if(e.targetPlatform&&!n.targetPlatformToVersion.get(e.targetPlatform))throw new Error(n.invalidTargetPlatform(e.targetPlatform,Array.from(n.targetPlatformToVersion.keys())));const t=e.targetPlatform?n.targetPlatformToVersion.get(e.targetPlatform):n.defaultDSP,r={PROJECT_NAME:e.newProjName,PROJECT_GUID:e.projectGuid??s.generateUuid().toUpperCase(),PROJECT_DSP:t};let o=e.sdkStyle?c.macroExpansion(c.newSdkSqlProjectTemplate,r):c.macroExpansion(c.newSqlProjectTemplate,r),l=e.newProjName;l.toLowerCase().endsWith(n.sqlprojExtension)||(l+=n.sqlprojExtension);const p=a.join(e.folderUri.fsPath,a.parse(l).name,l);if(await i.exists(p))throw new Error(n.projectAlreadyExists(l,a.parse(p).dir));const d=a.dirname(p);return await u.promises.mkdir(d,{recursive:!0}),await u.promises.writeFile(p,o),await this.addTemplateFiles(p,e.projectTypeId),p}async buildProject(e){const t=this.getProjectFromContext(e),r=new Date,o=`${r.toLocaleDateString()} ${n.at} ${r.toLocaleTimeString()}`;let a=new w.DashboardData(t.projectFilePath,w.Status.inProgress,t.getProjectTargetVersion(),o);this.buildInfo.push(a),this.buildInfo.length-1==10&&this.buildInfo.shift(),await this.buildHelper.createBuildDirFolder();const s={commandTitle:"Build",workingDirectory:t.projectFolderPath,argument:this.buildHelper.constructBuildArguments(t.projectFilePath,this.buildHelper.extensionBuildDirPath,t.isSdkStyleProject)};try{await this.netCoreTool.runDotnetCommand(s);const e=(new Date).getTime()-r.getTime(),n=this.buildInfo.findIndex((e=>e.startDate===o));return this.buildInfo[n].status=w.Status.success,this.buildInfo[n].timeToCompleteAction=i.timeConversion(e),_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.build).withAdditionalMeasurements({duration:e}).withAdditionalProperties({databaseSource:i.getWellKnownDatabaseSources(t.getDatabaseSourceValues()).join(";")}).send(),t.dacpacOutputPath}catch(e){const a=(new Date).getTime()-r.getTime(),s=this.buildInfo.findIndex((e=>e.startDate===o));this.buildInfo[s].status=w.Status.failed,this.buildInfo[s].timeToCompleteAction=i.timeConversion(a),_.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.build).withAdditionalMeasurements({duration:a}).withAdditionalProperties({databaseSource:i.getWellKnownDatabaseSources(t.getDatabaseSourceValues()).join(";")}).send();const c=i.getErrorMessage(e);return e instanceof f.DotNetError?console.error(c):l.window.showErrorMessage(n.projBuildFailed(c)),""}}async publishToNewAzureServer(e,t){try{_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishToNewAzureServer);const r=this.getProjectFromContext(e);if(t?.deploySettings&&t?.sqlDbSetting){i.showInfoMessageWithOutputChannel(n.creatingAzureSqlServer(t?.sqlDbSetting?.serverName),this._outputChannel);const e=await this.deployService.createNewAzureSqlServer(t);if(e){t.deploySettings.connectionUri=e;const o=await this.publishOrScriptProject(r,t.deploySettings,!0);o&&o.success?(t.sqlDbSetting&&await this.connectionService.getConnection(t.sqlDbSetting,!0,t.sqlDbSetting.dbName),l.window.showInformationMessage(n.publishProjectSucceed)):i.showErrorMessageWithOutputChannel(n.publishToNewAzureServerFailed,o?.errorMessage||"",this._outputChannel)}else i.showErrorMessageWithOutputChannel(n.publishToNewAzureServerFailed,n.deployProjectFailedMessage,this._outputChannel)}}catch(e){i.showErrorMessageWithOutputChannel(n.publishToNewAzureServerFailed,e,this._outputChannel),_.TelemetryReporter.sendErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishToNewAzureServer)}}async publishToDockerContainer(e,t){const r=this.getProjectFromContext(e),o=t.dockerSettings.dockerBaseImage.replace(/\//gi,"_");try{_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishToContainer).withAdditionalProperties({dockerBaseImage:o}).send(),i.showInfoMessageWithOutputChannel(n.publishingProjectMessage,this._outputChannel);const e=await this.deployService.deployToContainer(t,r);if(e&&(t.sqlProjectPublishSettings.connectionUri=e),t.sqlProjectPublishSettings.connectionUri){const e=await this.publishOrScriptProject(r,t.sqlProjectPublishSettings,!0);e&&e.success?(await this.connectionService.getConnection(t.dockerSettings,!0,t.dockerSettings.dbName),l.window.showInformationMessage(n.publishProjectSucceed)):i.showErrorMessageWithOutputChannel(n.publishToContainerFailed,e?.errorMessage||"",this._outputChannel)}else i.showErrorMessageWithOutputChannel(n.publishToContainerFailed,n.deployProjectFailedMessage,this._outputChannel)}catch(e){i.showErrorMessageWithOutputChannel(n.publishToContainerFailed,e,this._outputChannel),_.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishToContainer).withAdditionalProperties({dockerBaseImage:o}).send()}}async publishProject(e){const t=this.getProjectFromContext(e);if(i.getAzdataApi()){let e=this.getPublishDialog(t);return e.publish=async(e,t)=>this.publishOrScriptProject(e,t,!0),e.publishToContainer=async(e,t)=>this.publishToDockerContainer(e,t),e.generateScript=async(e,t)=>this.publishOrScriptProject(e,t,!1),e.readPublishProfile=async e=>(0,v.readPublishProfile)(e),e.openDialog(),e.waitForClose()}return this.publishDatabase(t)}async publishDatabase(e){const t=await(0,P.launchPublishTargetOption)(e);if(t)if(t===n.PublishTargetType.docker){const t=await(0,T.getPublishToDockerSettings)(e);if(!t)return;await this.publishToDockerContainer(e,t)}else if(t===n.PublishTargetType.newAzureServer)try{const t=await(0,T.launchCreateAzureServerQuickPick)(e,this.azureSqlClient);t?.deploySettings&&t?.sqlDbSetting&&await this.publishToNewAzureServer(e,t)}catch(e){i.showErrorMessageWithOutputChannel(n.publishToNewAzureServerFailed,e,this._outputChannel)}else{let t=await(0,P.getPublishDatabaseSettings)(e);if(t){const r=await l.window.showQuickPick([n.generateScriptButtonText,n.publish],{title:n.chooseAction,ignoreFocusOut:!0});if(!r)return;await this.publishOrScriptProject(e,t,r===n.publish)}}}async publishOrScriptProject(e,t,r){const s={},c={},l=(new Date).getTime(),p=await this.buildProject(e),d=(new Date).getTime();if(c.buildDuration=d-l,s.buildSucceeded=(""!==p).toString(),s.databaseSource=i.getWellKnownDatabaseSources(e.getDatabaseSourceValues()).join(";"),!p)return void _.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishProject).withAdditionalProperties(s).withAdditionalMeasurements(c).send();const m=a.join(o.tmpdir(),`${a.parse(p).name}_${(new Date).getTime()}${n.sqlprojExtension}`);await u.promises.copyFile(p,m);const h=await i.getDacFxService();let f;s.profileUsed=(t.profileUsed??!1).toString();const g=new Date,v=g.getTime(),b=`${g.toLocaleDateString()} ${n.at} ${g.toLocaleTimeString()}`;let y=new w.PublishData(e.projectFilePath,w.Status.inProgress,e.getProjectTargetVersion(),b,t.databaseName,t.serverName);this.publishInfo.push(y),this.publishInfo.length-1==10&&this.publishInfo.shift();try{const e=i.getAzdataApi();r?(s.publishAction="deploy",f=e?await h.deployDacpac(m,t.databaseName,!0,t.connectionUri,e.TaskExecutionMode.execute,t.sqlCmdVariables,t.deploymentOptions):await h.deployDacpac(m,t.databaseName,!0,t.connectionUri,R.execute,t.sqlCmdVariables,t.deploymentOptions)):(s.publishAction="generateScript",f=e?await h.generateDeployScript(m,t.databaseName,t.connectionUri,e.TaskExecutionMode.script,t.sqlCmdVariables,t.deploymentOptions):await h.generateDeployScript(m,t.databaseName,t.connectionUri,R.script,t.sqlCmdVariables,t.deploymentOptions))}catch(e){const t=(new Date).getTime(),r=t-v;s.actionDuration=r.toString(),s.totalDuration=(t-l).toString(),_.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishProject).withAdditionalProperties(s).send();const n=this.publishInfo.findIndex((e=>e.startDate===b));throw this.publishInfo[n].status=w.Status.failed,this.publishInfo[n].timeToCompleteAction=i.timeConversion(r),e}const x=(new Date).getTime(),S=x-v;s.actionDuration=S.toString(),s.totalDuration=(x-l).toString(),s.sqlcmdVariablesCount=Object.keys(e.sqlCmdVariables).length.toString(),s.projectTargetPLatform=e.getProjectTargetVersion();const E=this.publishInfo.findIndex((e=>e.startDate===b));return this.publishInfo[E].status=f.success?w.Status.success:w.Status.failed,this.publishInfo[E].timeToCompleteAction=i.timeConversion(S),_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.publishProject).withAdditionalProperties(s).send(),f}async schemaCompare(e,t){try{if(!l.extensions.getExtension(n.schemaCompareExtensionId))throw new Error(n.schemaCompareNotInstalled);{let r;r=e?this.getProjectFromContext(e).projectFilePath:e;try{_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.projectSchemaCompareCommandInvoked),await l.commands.executeCommand(n.schemaCompareStartCommand,r,t,void 0)}catch(e){throw new Error(n.buildFailedCannotStartSchemaCompare)}}}catch(e){const t={},r=i.getErrorMessage(e);r!==n.buildFailedCannotStartSchemaCompare&&r!==n.schemaCompareNotInstalled||(t.errorMessage=r),_.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.projectSchemaCompareCommandInvoked).withAdditionalProperties(t).send(),l.window.showErrorMessage(i.getErrorMessage(e))}}async getProjectScriptFiles(e){return(await d.Project.openProject(e)).files.filter((e=>e.fsUri.fsPath.endsWith(n.sqlFileExtension))).map((e=>e.fsUri.fsPath))}async getProjectDatabaseSchemaProvider(e){return(await d.Project.openProject(e)).getProjectTargetVersion()}async schemaComparePublishProjectChanges(e,t,r){const o=l.extensions.getExtension("Microsoft.mssql"),s=(await o.activate()).schemaCompare,c=a.dirname(t);let u;switch(r){case n.file:u=1;break;case n.flat:u=2;break;case n.objectType:u=3;break;case n.schema:u=4;break;case n.schemaObjectType:default:u=5}const p=await s.schemaComparePublishProjectChanges(e,c,u,i.getAzdataApi().TaskExecutionMode.execute);if(!p.errorMessage){const e=await d.Project.openProject(t);let r=[];p.addedFiles.forEach((e=>r.push(l.Uri.file(e)))),await e.addToProject(r);let n=[];p.deletedFiles.forEach((e=>n.push(l.Uri.file(e))));let o=[];n.forEach((e=>o.push(new I.FileProjectEntry(e,e.path.replace(c+"\\",""),0)))),o.forEach((async t=>await e.exclude(t))),await this.buildProject(e)}return p}async addFolderPrompt(e){const t=this.getProjectFromContext(e),r=this.getRelativePath(e.element),o=a.join(t.projectFolderPath,r),s=await this.promptForNewObjectName(new c.ProjectScriptType("folder",n.folderFriendlyName,""),t,o);if(!s)return;const u=a.join(r,s);try{const r=a.join(o,s);if(await i.exists(r)||this.isReservedFolder(r,t.projectFolderPath))throw new Error(n.folderAlreadyExists(a.parse(r).name));await t.addFolderItem(u),this.refreshProjectsTree(e)}catch(e){l.window.showErrorMessage(i.getErrorMessage(e))}}isReservedFolder(e,t){const r=void 0!==d.reservedProjectFolders.find((t=>t===a.parse(e).name)),n=a.parse(e).dir===t;return r&&n}async addItemPromptFromNode(e,t){await this.addItemPrompt(this.getProjectFromContext(e),this.getRelativePath(e.element),{itemType:t},e.treeDataProvider)}async addItemPrompt(e,t,r,o){let s=r?.itemType;if(!s){const e=[];for(const t of c.projectScriptTypes())e.push({label:t.friendlyName});if(s=(await l.window.showQuickPick(e,{canPickMany:!1}))?.label,!s)return}const u=c.get(s),p=a.join(e.projectFolderPath,t);let d=await this.promptForNewObjectName(u,e,p,n.sqlFileExtension,r?.defaultName);if(d=d?.trim(),!d)return;const m=c.macroExpansion(u.templateScript,{OBJECT_NAME:d}),h=a.join(t,d+n.sqlFileExtension),f={itemType:u.type},g={};"preDeployScript"===u.type?g.numPredeployScripts=e.preDeployScripts.length:"postDeployScript"===u.type&&(g.numPostdeployScripts=e.postDeployScripts.length);try{const t=await e.addScriptItem(h,m,u.type);_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.addItemFromTree).withAdditionalProperties(f).withAdditionalMeasurements(g).send(),await l.commands.executeCommand(n.vscodeOpenCommand,t.fsUri),o?.notifyTreeDataChanged()}catch(e){l.window.showErrorMessage(i.getErrorMessage(e)),_.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.addItemFromTree).withAdditionalProperties(f).withAdditionalMeasurements(g).send()}}async addExistingItemPrompt(e){const t=this.getProjectFromContext(e),r=await l.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,openLabel:n.selectString,title:n.selectFileString});if(r)try{_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.addExistingItem),await t.addExistingItem(r[0].fsPath),this.refreshProjectsTree(e)}catch(e){l.window.showErrorMessage(i.getErrorMessage(e)),_.TelemetryReporter.sendErrorEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.addExistingItem)}}async exclude(e){const t=e.element,r=this.getProjectFromContext(t),o=this.getFileProjectEntry(r,t);o?(_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.excludeFromProject),await r.exclude(o)):(_.TelemetryReporter.sendErrorEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.excludeFromProject),l.window.showErrorMessage(n.unableToPerformAction(n.excludeAction,t.projectUri.path))),this.refreshProjectsTree(e)}async delete(e){const t=e.element,r=this.getProjectFromContext(t);let o;if(o=t instanceof y.DatabaseReferenceTreeItem?n.deleteReferenceConfirmation(t.friendlyName):t instanceof m.FolderNode?n.deleteConfirmationContents(t.friendlyName):n.deleteConfirmation(t.friendlyName),await l.window.showWarningMessage(o,{modal:!0},n.yesString)!==n.yesString)return;let a=!1;if(t instanceof y.DatabaseReferenceTreeItem){const e=this.getDatabaseReference(r,t);e&&(await r.deleteDatabaseReference(e),a=!0)}else if(t instanceof m.FileNode||m.FolderNode){const e=this.getFileProjectEntry(r,t);e&&(await r.deleteFileFolder(e),a=!0)}a?(_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.deleteObjectFromProject).withAdditionalProperties({objectType:t.constructor.name}).send(),this.refreshProjectsTree(e)):(_.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.deleteObjectFromProject).withAdditionalProperties({objectType:t.constructor.name}).send(),l.window.showErrorMessage(n.unableToPerformAction(n.deleteAction,t.projectUri.path)))}getFileProjectEntry(e,t){const r=t.root,n=t||t;if(r&&n){const t=e.files.concat(e.preDeployScripts).concat(e.postDeployScripts).concat(e.noneDeployScripts),o=i.trimChars(i.getPlatformSafeFileEntryPath(i.trimUri(r.fileSystemUri,n.fileSystemUri)),"/");return t.find((e=>i.trimChars(i.getPlatformSafeFileEntryPath(e.relativePath),"/")===o))}return e.files.find((e=>i.getPlatformSafeFileEntryPath(e.relativePath)===i.getPlatformSafeFileEntryPath(i.trimUri(t.root.projectUri,t.projectUri))))}getDatabaseReference(e,t){const r=t.root,n=t;if(r&&n)return e.databaseReferences.find((e=>e.databaseName===n.treeItem.label))}async openContainingFolder(e){const t=this.getProjectFromContext(e);await l.commands.executeCommand(n.revealFileInOsCommand,l.Uri.file(t.projectFilePath))}async editProjectFile(e){const t=this.getProjectFromContext(e);try{await l.commands.executeCommand(n.vscodeOpenCommand,l.Uri.file(t.projectFilePath)),_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.editProjectFile);const r=l.workspace.createFileSystemWatcher(t.projectFilePath);this.projFileWatchers.set(t.projectFilePath,r),r.onDidChange((async()=>{if(await l.window.showInformationMessage(n.reloadProject,n.yesString,n.noString)===n.yesString)return this.reloadProject(e)}));const o=l.workspace.onDidCloseTextDocument((e=>{this.projFileWatchers.has(e.uri.fsPath)&&(this.projFileWatchers.get(e.uri.fsPath).dispose(),this.projFileWatchers.delete(e.uri.fsPath),o.dispose())}))}catch(e){l.window.showErrorMessage(i.getErrorMessage(e))}}async reloadProject(e){const t=this.getProjectFromContext(e);if(!t)throw new Error(n.invalidProjectReload);await t.readProjFile(),this.refreshProjectsTree(e)}async changeTargetPlatform(e){const t=this.getProjectFromContext(e),r=(await l.window.showQuickPick(Array.from(n.targetPlatformToVersion.keys()).map((e=>({label:e}))),{canPickMany:!1,placeHolder:n.selectTargetPlatform(n.getTargetPlatformFromVersion(t.getProjectTargetVersion()))}))?.label;r&&(await t.changeTargetPlatform(n.targetPlatformToVersion.get(r)),l.window.showInformationMessage(n.currentTargetPlatform(t.projectFileName,n.getTargetPlatformFromVersion(t.getProjectTargetVersion()))))}async convertToSdkStyleProject(e){const t=this.getProjectFromContext(e);await l.window.showWarningMessage(n.convertToSdkStyleConfirmation(t.projectFileName),{modal:!0},n.yesString).then((async r=>{if(r===n.yesString){const r=await t.convertProjectToSdkStyle();this.reloadProject(e),r?(this.reloadProject(e),await l.window.showInformationMessage(n.projectUpdatedToSdkStyle(t.projectFileName),n.learnMore)===n.learnMore&&l.env.openExternal(l.Uri.parse(n.sdkLearnMoreUrl))):l.window.showErrorMessage(n.updatedToSdkStyleError(t.projectFileName))}}))}async addDatabaseReference(e){const t=this.getProjectFromContext(e);if(i.getAzdataApi()){const r=this.getAddDatabaseReferenceDialog(t);return r.addReference=async(t,r)=>await this.addDatabaseReferenceCallback(t,r,e),await r.openDialog(),r}{const r=await(0,j.addDatabaseReferenceQuickpick)(t);return void(r&&await this.addDatabaseReferenceCallback(t,r,e))}}async addDatabaseReferenceCallback(e,t,r){try{if(void 0!==t.projectName){const r=t,o=await i.getSqlProjectsInWorkspace(),s=await d.Project.openProject(o.filter((e=>a.parse(e.fsPath).name===r.projectName))[0].fsPath),c=a.relative(e.projectFolderPath,s?.projectFilePath);r.projectRelativePath=l.Uri.file(c),r.projectGuid=s?.projectGuid;const u=s?.databaseReferences.filter((e=>e instanceof I.SqlProjectReferenceProjectEntry))??[];for(let t of u)if(t.projectName===e.projectFileName)return void l.window.showErrorMessage(n.cantAddCircularProjectReference(s?.projectFileName));await e.addProjectReference(r)}else if(void 0!==t.systemDb)await e.addSystemDatabaseReference(t);else{const r=t;r.dacpacFileLocation=l.Uri.file(a.relative(e.projectFolderPath,r.dacpacFileLocation.fsPath)),await e.addDatabaseReference(r)}this.refreshProjectsTree(r)}catch(e){l.window.showErrorMessage(i.getErrorMessage(e))}}async validateExternalStreamingJob(e){const t=this.getProjectFromContext(e);let r=t.dacpacOutputPath;const o=await i.exists(r),a={preExistingDacpac:o.toString()};o||(r=await this.buildProject(t));const s=(await u.promises.readFile(e.element.fileSystemUri.fsPath)).toString(),c=await i.getDacFxService(),p=(new Date).getTime(),d=await c.validateStreamingJob(r,s),m=(new Date).getTime()-p;return a.success=d.success.toString(),d.success?l.window.showInformationMessage(n.externalStreamingJobValidationPassed):l.window.showErrorMessage(d.errorMessage),_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectTree,_.TelemetryActions.runStreamingJobValidation).withAdditionalProperties(a).withAdditionalMeasurements({duration:m}).send(),d}async selectAutorestSpecFile(){if(!await l.window.showQuickPick([n.browseEllipsisWithIcon],{title:n.selectSpecFile,ignoreFocusOut:!0}))return;const e={};e[n.specSelectionText]=n.openApiSpecFileExtensions;let t=await l.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,openLabel:n.selectString,filters:e,title:n.selectSpecFile});return t?t[0].fsPath:void 0}async selectAutorestProjectLocation(e,t){let r=t?a.join(t.fsPath,e):"",o=t?.fsPath||"";for(;;){let s="";if(r&&await i.exists(r))s=n.folderAlreadyExistsChooseNewLocation(r);else{if(r)break;s=n.selectProjectLocation}if(!await l.window.showQuickPick([n.browseEllipsisWithIcon],{title:s,ignoreFocusOut:!0}))return;const c=await l.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:n.selectString,defaultUri:t??l.workspace.workspaceFolders?.[0]?.uri,title:n.selectProjectLocation});if(!c)return;o=c[0].fsPath,r=a.join(o,e)}return{newProjectFolder:r,outputFolder:o,projectName:e}}async generateAutorestFiles(e,t){return await u.promises.mkdir(t,{recursive:!0}),l.window.withProgress({location:l.ProgressLocation.Notification,title:n.generatingProjectFromAutorest(a.basename(e)),cancellable:!1},(async(r,n)=>this.autorestHelper.generateAutorestFiles(e,t)))}async openProjectInWorkspace(e){const t=i.getDataWorkspaceExtensionApi();await t.validateWorkspace(),await t.addProjectsToWorkspace([l.Uri.file(e)]),t.showProjectsView()}async promptForAutorestProjectName(e){let t=await l.window.showInputBox({ignoreFocusOut:!0,prompt:n.autorestProjectName,value:e,validateInput:e=>e.trim()?void 0:n.nameMustNotBeEmpty});if(void 0!==t)return t=t.trim(),t}async generateProjectFromOpenApiSpec(e){try{_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.generateProjectFromOpenApiSpec);const t=e?.openApiSpecFile?.fsPath||await this.selectAutorestSpecFile();if(!t)return;const r=await this.promptForAutorestProjectName(e?.defaultProjectName||a.basename(t,a.extname(t)));if(!r)return;const o=await this.selectAutorestProjectLocation(r,e?.defaultOutputLocation);if(!o)return;if(!await this.generateAutorestFiles(t,o.newProjectFolder))return;const i=await this.getSqlFileList(o.newProjectFolder);if(!i||0===i.length)return l.window.showInformationMessage(n.noSqlFilesGenerated),void this._outputChannel.show();const s=await this.createNewProject({newProjName:o.projectName,folderUri:l.Uri.file(o.outputFolder),projectTypeId:n.emptySqlDatabaseProjectTypeId,sdkStyle:!!e?.isSDKStyle}),c=await d.Project.openProject(s);await c.addToProject(i.filter((e=>!e.fsPath.endsWith(n.autorestPostDeploymentScriptName))));const u=this.findPostDeploymentScript(i);return u&&await c.addScriptItem(a.relative(c.projectFolderPath,u.fsPath),void 0,"postDeployScript"),!0!==e?.doNotOpenInWorkspace&&await this.openProjectInWorkspace(s),c}catch(e){return l.window.showErrorMessage(n.generatingProjectFailed(i.getErrorMessage(e))),_.TelemetryReporter.sendErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.generateProjectFromOpenApiSpec),void this._outputChannel.show()}}findPostDeploymentScript(e){const t=e.filter((e=>e.fsPath.endsWith(n.autorestPostDeploymentScriptName)));switch(t.length){case 0:return;case 1:return t[0];default:throw new Error(n.multipleMostDeploymentScripts(t.length))}}async getSqlFileList(e){if(!await i.exists(e))return;const t=await u.promises.readdir(e,{withFileTypes:!0}),r=t.filter((e=>e.isDirectory())).map((t=>a.join(e,t.name))),o=t.filter((e=>!e.isDirectory()&&a.extname(e.name)===n.sqlFileExtension)).map((t=>l.Uri.file(a.join(e,t.name))));for(const e of r)o.push(...await this.getSqlFileList(e)??[]);return o}getPublishDialog(e){return new p.PublishDatabaseDialog(e)}getAddDatabaseReferenceDialog(e){return new b.AddDatabaseReferenceDialog(e)}async addTemplateFiles(e,t){if(t!==n.emptySqlDatabaseProjectTypeId&&""!==e&&t===n.edgeSqlDatabaseProjectTypeId){const t=await d.Project.openProject(e);await this.createFileFromTemplate(t,c.get("table"),"DataTable.sql",{OBJECT_NAME:"DataTable"}),await this.createFileFromTemplate(t,c.get("dataSource"),"EdgeHubInputDataSource.sql",{OBJECT_NAME:"EdgeHubInputDataSource",LOCATION:"edgehub://"}),await this.createFileFromTemplate(t,c.get("dataSource"),"SqlOutputDataSource.sql",{OBJECT_NAME:"SqlOutputDataSource",LOCATION:"sqlserver://tcp:.,1433"}),await this.createFileFromTemplate(t,c.get("fileFormat"),"StreamFileFormat.sql",{OBJECT_NAME:"StreamFileFormat"}),await this.createFileFromTemplate(t,c.get("externalStream"),"EdgeHubInputStream.sql",{OBJECT_NAME:"EdgeHubInputStream",DATA_SOURCE_NAME:"EdgeHubInputDataSource",LOCATION:"input",OPTIONS:",\n\tFILE_FORMAT = StreamFileFormat"}),await this.createFileFromTemplate(t,c.get("externalStream"),"SqlOutputStream.sql",{OBJECT_NAME:"SqlOutputStream",DATA_SOURCE_NAME:"SqlOutputDataSource",LOCATION:"TSQLStreaming.dbo.DataTable",OPTIONS:""}),await this.createFileFromTemplate(t,c.get("externalStreamingJob"),"EdgeStreamingJob.sql",{OBJECT_NAME:"EdgeStreamingJob"})}}async createFileFromTemplate(e,t,r,n){const o=c.macroExpansion(t.templateScript,n);await e.addScriptItem(r,o,t.type)}getProjectFromContext(e){if("element"in e)return e.element.root.project;if(e instanceof d.Project)return e;if(e.root instanceof h.ProjectRootTreeItem)return e.root.project;throw new Error(n.unexpectedProjectContext(e.projectUri.path))}async promptForNewObjectName(e,t,r,o,s){const c=s??e.friendlyName.replace(/\s+/g,"");let u=0;do{u++}while(u<Number.MAX_SAFE_INTEGER&&await i.exists(a.join(r,`${c}${u}${o??""}`)));return await l.window.showInputBox({prompt:n.newObjectNamePrompt(e.friendlyName),value:`${c}${u}`,ignoreFocusOut:!0})}getRelativePath(e){return e instanceof m.FolderNode?i.trimUri(e.root.projectUri,e.projectUri):""}async createProjectFromDatabase(e){const t=this.getConnectionProfileFromContext(e);if(i.getAzdataApi()){let e=this.getCreateProjectFromDatabaseDialog(t);return e.createProjectFromDatabaseCallback=async e=>await this.createProjectFromDatabaseCallback(e),await e.openDialog(),e}{if(e){const r=e,n=(await i.getVscodeMssqlApi()).getDatabaseNameFromTreeNode(r);t.database=n}const r=await(0,A.createNewProjectFromDatabaseWithQuickpick)(t);return void(r&&await this.createProjectFromDatabaseCallback(r))}}getCreateProjectFromDatabaseDialog(e){return new x.CreateProjectFromDatabaseDialog(e)}async createProjectFromDatabaseCallback(e){try{const t=e.filePath,r=await this.createNewProject({newProjName:e.projName,folderUri:l.Uri.file(t),projectTypeId:e.sdkStyle?n.emptySqlDatabaseSdkProjectTypeId:n.emptySqlDatabaseProjectTypeId,sdkStyle:e.sdkStyle});e.filePath=a.dirname(r),this.setFilePath(e);const o=await d.Project.openProject(r),s=new Date;await this.createProjectFromDatabaseApiCall(e);const c=(new Date).getTime()-s.getTime();_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.createProjectFromDatabase).withAdditionalMeasurements({durationMs:c}).send();let u=1===e.extractTarget?[l.Uri.file(e.filePath)]:await this.generateList(e.filePath);e.sdkStyle||await o.addToProject(u);const p=i.getDataWorkspaceExtensionApi();p.showProjectsView(),await p.addProjectsToWorkspace([l.Uri.file(r)])}catch(e){l.window.showErrorMessage(i.getErrorMessage(e)),_.TelemetryReporter.sendErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.createProjectFromDatabase)}}setFilePath(e){1===e.extractTarget&&(e.filePath=a.join(e.filePath,`${e.projName}.sql`))}getConnectionProfileFromContext(e){if(e)return e?.connectionProfile??e.connectionInfo??e}async createProjectFromDatabaseApiCall(e){const t=await i.getDacFxService(),r=i.getAzdataApi();r?await t.createProjectFromDatabase(e.database,e.filePath,e.projName,e.version,e.connectionUri,e.extractTarget,r.TaskExecutionMode.execute):await t.createProjectFromDatabase(e.database,e.filePath,e.projName,e.version,e.connectionUri,e.extractTarget,R.execute)}async updateProjectFromDatabase(e){let t,r;try{"connectionProfile"in e&&(t=this.getConnectionProfileFromContext(e))}catch{}try{"treeDataProvider"in e&&(r=this.getProjectFromContext(e))}catch{}const n=this.getUpdateProjectFromDatabaseDialog(t,r);return n.updateProjectFromDatabaseCallback=async e=>await this.updateProjectFromDatabaseCallback(e),await n.openDialog(),n}getUpdateProjectFromDatabaseDialog(e,t){return new S.UpdateProjectFromDatabaseDialog(e,t)}async updateProjectFromDatabaseCallback(e){try{const t=new Date;await this.updateProjectFromDatabaseApiCall(e);const r=(new Date).getTime()-t.getTime();_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.updateProjectFromDatabase).withAdditionalMeasurements({durationMs:r}).send()}catch(e){l.window.showErrorMessage(i.getErrorMessage(e)),_.TelemetryReporter.sendErrorEvent(_.TelemetryViews.ProjectController,_.TelemetryActions.updateProjectFromDatabase)}}async updateProjectFromDatabaseApiCall(e){if(0===e.action)await l.commands.executeCommand(n.schemaCompareRunComparisonCommand,e.sourceEndpointInfo,e.targetEndpointInfo,!0,void 0);else{if(1!==e.action)throw new Error(`Unknown UpdateProjectAction: ${e.action}`);await l.window.showWarningMessage(n.applyConfirmation,{modal:!0},n.yesString).then((async t=>{t===n.yesString&&(await l.window.withProgress({location:l.ProgressLocation.Notification,title:n.updatingProjectFromDatabase(a.basename(e.targetEndpointInfo.projectFilePath),e.sourceEndpointInfo.databaseName),cancellable:!1},(async(t,r)=>this.schemaCompareAndUpdateProject(e.sourceEndpointInfo,e.targetEndpointInfo))),l.commands.executeCommand(n.refreshDataWorkspaceCommand),i.getDataWorkspaceExtensionApi().showProjectsView())}))}}async schemaCompareAndUpdateProject(e,t){const r=l.extensions.getExtension("Microsoft.mssql"),o=(await r.activate()).schemaCompare,a=await o.schemaCompareGetDefaultOptions(),c=s.generateUuid();t.targetScripts=await this.getProjectScriptFiles(t.projectFilePath),t.dataSchemaProvider=await this.getProjectDatabaseSchemaProvider(t.projectFilePath),_.TelemetryReporter.sendActionEvent(_.TelemetryViews.ProjectController,"SchemaComparisonStarted");const u=await o.schemaCompare(c,e,t,i.getAzdataApi().TaskExecutionMode.execute,a.defaultDeploymentOptions);if(!u||!u.success)return _.TelemetryReporter.createErrorEvent(_.TelemetryViews.ProjectController,"SchemaComparisonFailed").withAdditionalProperties({operationId:u.operationId}).send(),void await l.window.showErrorMessage(n.compareErrorMessage(u?.errorMessage));if(_.TelemetryReporter.createActionEvent(_.TelemetryViews.ProjectController,"SchemaComparisonFinished").withAdditionalProperties({endTime:Date.now().toString(),operationId:u.operationId}).send(),u.areEqual)return void l.window.showInformationMessage(n.equalComparison);const p=await this.schemaComparePublishProjectChanges(c,t.projectFilePath,t.folderStructure);p.success?l.window.showInformationMessage(n.applySuccess):l.window.showErrorMessage(n.applyError(p.errorMessage))}async generateList(e){let t=[];if(!await i.exists(e)){if(!await i.exists(e+n.sqlFileExtension))return l.window.showErrorMessage(n.cannotResolvePath(e)),t;e+=n.sqlFileExtension}const r=[e];do{const e=r.pop();if(e){const n=await u.promises.stat(e);n.isDirectory()?(t.push(l.Uri.file(e)),(await u.promises.readdir(e)).forEach((t=>r.push(a.join(e,t))))):n.isFile()&&t.push(l.Uri.file(e))}}while(0!==r.length);return t}}},774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptDacpacLocation=t.getSystemDatabase=t.getSystemDbOptions=t.AddDatabaseReferenceDialog=t.ReferenceType=void 0;const n=r(7549),o=r(5622),a=r(6078),i=r(1027),s=r(9799),c=r(5894),l=r(2178),u=r(1845),p=r(6742);var d;function m(e){const t=e.getProjectTargetVersion().toLowerCase();return t.includes("azure")||t.includes("dw")?[a.master]:[a.master,a.msdb]}function h(e){return e===a.master?p.SystemDatabase.master:p.SystemDatabase.msdb}async function f(){return await n.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,defaultUri:n.workspace.workspaceFolders?n.workspace.workspaceFolders[0].uri:void 0,openLabel:a.selectString,title:a.selectDacpac,filters:{[a.dacpacFiles]:["dacpac"]}})}!function(e){e[e.project=0]="project",e[e.systemDb=1]="systemDb",e[e.dacpac=2]="dacpac"}(d=t.ReferenceType||(t.ReferenceType={})),t.AddDatabaseReferenceDialog=class{constructor(e){this.project=e,this.toDispose=[],this.initDialogComplete=new l.Deferred,this.dialog=i.getAzdataApi().window.createModelViewDialog(a.addDatabaseReferenceDialogName,"addDatabaseReferencesDialog"),this.addDatabaseReferenceTab=i.getAzdataApi().window.createTab(a.addDatabaseReferenceDialogName),this.dialog.registerCloseValidator((async()=>this.validate()))}validate(){return this.currentReferenceType!==d.dacpac||o.parse(this.project.projectFilePath).root===o.parse(this.dacpacTextbox.value).root||(this.dialog.message={text:a.dacpacNotOnSameDrive(this.project.projectFilePath),level:i.getAzdataApi().window.MessageLevel.Error},!1)}async openDialog(){this.initializeDialog(),this.dialog.okButton.label=a.addDatabaseReferenceOkButtonText,this.dialog.okButton.enabled=!1,this.toDispose.push(this.dialog.okButton.onClick((async()=>await this.addReferenceClick()))),this.dialog.cancelButton.label=a.cancelButtonText,i.getAzdataApi().window.openDialog(this.dialog),await this.initDialogComplete.promise}dispose(){this.toDispose.forEach((e=>e.dispose()))}initializeDialog(){this.initializeTab(),this.dialog.content=[this.addDatabaseReferenceTab]}initializeTab(){this.addDatabaseReferenceTab.registerContent((async e=>{this.view=e,this.projectFormComponent=await this.createProjectDropdown();const t=this.createRadioButtons();this.systemDatabaseFormComponent=this.createSystemDatabaseDropdown(),this.dacpacFormComponent=this.createDacpacTextbox();const r=this.createLocationDropdown(),n=this.createVariableSection();this.suppressMissingDependenciesErrorsCheckbox=e.modelBuilder.checkBox().withProps({label:a.suppressMissingDependenciesErrors}).component();const o=this.createExampleUsage();this.formBuilder=e.modelBuilder.formContainer().withFormItems([{title:"",components:[t,this.currentReferenceType===d.project?this.projectFormComponent:this.systemDatabaseFormComponent,r,n,o,{component:this.suppressMissingDependenciesErrorsCheckbox}]}],{horizontal:!1}).withLayout({width:"100%"});let i=this.formBuilder.component();await e.initializeModel(i),this.updateEnabledInputBoxes(),this.currentReferenceType===d.project?await(this.projectRadioButton?.focus()):await(this.systemDatabaseRadioButton?.focus()),this.initDialogComplete.resolve()}))}async addReferenceClick(){let e;e=this.currentReferenceType===d.project?{projectName:this.projectDropdown?.value,projectGuid:"",projectRelativePath:void 0,databaseName:this.databaseNameTextbox?.value,databaseVariable:this.databaseVariableTextbox?.value,serverName:this.serverNameTextbox?.value,serverVariable:this.serverVariableTextbox?.value,suppressMissingDependenciesErrors:this.suppressMissingDependenciesErrorsCheckbox?.checked}:this.currentReferenceType===d.systemDb?{databaseName:this.databaseNameTextbox?.value,systemDb:h(this.systemDatabaseDropdown?.value),suppressMissingDependenciesErrors:this.suppressMissingDependenciesErrorsCheckbox?.checked}:{databaseName:this.databaseNameTextbox?.value,dacpacFileLocation:n.Uri.file(this.dacpacTextbox?.value),databaseVariable:i.removeSqlCmdVariableFormatting(this.databaseVariableTextbox?.value),serverName:this.serverNameTextbox?.value,serverVariable:i.removeSqlCmdVariableFormatting(this.serverVariableTextbox?.value),suppressMissingDependenciesErrors:this.suppressMissingDependenciesErrorsCheckbox?.checked},u.TelemetryReporter.createActionEvent(u.TelemetryViews.ProjectTree,u.TelemetryActions.addDatabaseReference).withAdditionalProperties({referenceType:this.currentReferenceType.toString()}).send(),await this.addReference(this.project,e),this.dispose()}createRadioButtons(){this.projectRadioButton=this.view.modelBuilder.radioButton().withProps({name:"referenceType",label:a.projectLabel}).component(),this.projectRadioButton.onDidClick((()=>{this.projectRadioButtonClick()})),this.systemDatabaseRadioButton=this.view.modelBuilder.radioButton().withProps({name:"referenceType",label:a.systemDatabase}).component(),this.systemDatabaseRadioButton.onDidClick((()=>{this.systemDbRadioButtonClick()}));const e=this.view.modelBuilder.radioButton().withProps({name:"referenceType",label:a.dacpacText}).component();return e.onDidClick((()=>{this.dacpacRadioButtonClick()})),this.projectDropdown?.values?.length?(this.projectRadioButton.checked=!0,this.currentReferenceType=d.project):(this.systemDatabaseRadioButton.checked=!0,this.currentReferenceType=d.systemDb,this.projectRadioButton.enabled=!1),{component:this.view.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).withItems([this.projectRadioButton,this.systemDatabaseRadioButton,e]).withProps({ariaRole:"radiogroup",ariaLabel:a.referenceRadioButtonsGroupTitle}).component(),title:a.referenceRadioButtonsGroupTitle}}projectRadioButtonClick(){this.formBuilder.removeFormItem(this.dacpacFormComponent),this.formBuilder.removeFormItem(this.systemDatabaseFormComponent),this.formBuilder.insertFormItem(this.projectFormComponent,2),this.locationDropdown.values=a.locationDropdownValues,this.currentReferenceType=d.project,this.updateEnabledInputBoxes(),this.tryEnableAddReferenceButton(),this.updateExampleUsage()}systemDbRadioButtonClick(){this.formBuilder.removeFormItem(this.dacpacFormComponent),this.formBuilder.removeFormItem(this.projectFormComponent),this.formBuilder.insertFormItem(this.systemDatabaseFormComponent,2),this.locationDropdown.values=a.systemDbLocationDropdownValues,this.locationDropdown.value=a.differentDbSameServer,this.currentReferenceType=d.systemDb,this.updateEnabledInputBoxes(),this.tryEnableAddReferenceButton(),this.updateExampleUsage()}dacpacRadioButtonClick(){this.formBuilder.removeFormItem(this.systemDatabaseFormComponent),this.formBuilder.removeFormItem(this.projectFormComponent),this.formBuilder.insertFormItem(this.dacpacFormComponent,2),this.locationDropdown.values=a.locationDropdownValues,this.currentReferenceType=d.dacpac,this.updateEnabledInputBoxes(),this.tryEnableAddReferenceButton(),this.updateExampleUsage()}async createProjectDropdown(){this.projectDropdown=this.view.modelBuilder.dropDown().withProps({ariaLabel:a.databaseProject}).component(),this.projectDropdown.onValueChanged((()=>{this.setDefaultDatabaseValues()}));let e=await i.getSqlProjectsInWorkspace();return e=e.filter((e=>e.fsPath!==this.project.projectFilePath)),this.projectDropdown.values=e.map((e=>o.parse(e.fsPath).name)),{component:this.projectDropdown,title:a.databaseProject}}createSystemDatabaseDropdown(){return this.systemDatabaseDropdown=this.view.modelBuilder.dropDown().withProps({values:m(this.project),ariaLabel:a.databaseNameLabel}).component(),this.systemDatabaseDropdown.onValueChanged((()=>{this.setDefaultDatabaseValues()})),{component:this.systemDatabaseDropdown,title:a.databaseNameLabel}}createDacpacTextbox(){this.dacpacTextbox=this.view.modelBuilder.inputBox().withProps({ariaLabel:a.dacpacText,placeHolder:a.selectDacpac,width:"400px"}).component(),this.dacpacTextbox.onTextChanged((()=>{this.setDefaultDatabaseValues(),this.tryEnableAddReferenceButton(),this.updateExampleUsage()}));const e=this.createLoadDacpacButton(),t=this.view.modelBuilder.flexContainer().withItems([this.dacpacTextbox],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return t.insertItem(e,1),{component:t,title:a.dacpacText}}createLoadDacpacButton(){const e=this.view.modelBuilder.button().withProps({ariaLabel:a.selectDacpac,iconPath:c.IconPathHelper.folder_blue,height:"18px",width:"18px"}).component();return e.onDidClick((async()=>{let e=await f();e&&0!==e.length&&(this.dacpacTextbox.value=e[0].fsPath)})),e}createLocationDropdown(){return this.locationDropdown=this.view.modelBuilder.dropDown().withProps({ariaLabel:a.location,values:this.currentReferenceType===d.systemDb?a.systemDbLocationDropdownValues:a.locationDropdownValues}).component(),this.locationDropdown.value=a.differentDbSameServer,this.locationDropdown.onValueChanged((()=>{this.updateEnabledInputBoxes(),this.tryEnableAddReferenceButton(),this.updateExampleUsage()})),{component:this.locationDropdown,title:a.location}}updateEnabledInputBoxes(){const e=this.currentReferenceType===d.systemDb;this.locationDropdown?.value===a.sameDatabase?(this.databaseNameTextbox.enabled=!1,this.databaseVariableTextbox.enabled=!1,this.serverNameTextbox.enabled=!1,this.serverVariableTextbox.enabled=!1,this.databaseNameTextbox.value="",this.databaseVariableTextbox.value="",this.serverNameTextbox.value="",this.serverVariableTextbox.value=""):this.locationDropdown?.value===a.differentDbSameServer?(this.databaseNameTextbox.enabled=!0,this.databaseVariableTextbox.enabled=!e,this.serverNameTextbox.enabled=!1,this.serverVariableTextbox.enabled=!1,this.databaseVariableTextbox.value=e?"":this.databaseVariableTextbox.value,this.serverNameTextbox.value="",this.serverVariableTextbox.value="",this.setDefaultDatabaseValues()):this.locationDropdown?.value===a.differentDbDifferentServer&&(this.databaseNameTextbox.enabled=!0,this.databaseVariableTextbox.enabled=!0,this.serverNameTextbox.enabled=!0,this.serverVariableTextbox.enabled=!0,this.setDefaultDatabaseValues(),this.serverNameTextbox.value=a.otherServer,this.serverVariableTextbox.value=a.otherSeverVariable)}setDefaultDatabaseValues(){if(this.databaseNameTextbox.enabled)switch(this.currentReferenceType){case d.project:this.databaseNameTextbox.value=this.projectDropdown?.value,this.databaseVariableTextbox.value=`${this.projectDropdown?.value}`;break;case d.systemDb:this.databaseNameTextbox.value=this.systemDatabaseDropdown?.value;break;case d.dacpac:{const e=this.dacpacTextbox.value?o.parse(this.dacpacTextbox.value).name:"";this.databaseNameTextbox.value=e,this.databaseVariableTextbox.value=e?`${e}`:"";break}}}createVariableSection(){this.databaseNameTextbox=this.createInputBox(a.databaseName,!0,!0);const e=this.view.modelBuilder.flexContainer().withItems([this.createLabel(a.databaseName,!0),this.databaseNameTextbox],{flex:"0 0 auto"}).withLayout({flexFlow:"row",alignItems:"center"}).component();this.databaseVariableTextbox=this.createInputBox(a.databaseVariable,!1,!1);const t=this.view.modelBuilder.flexContainer().withItems([this.createLabel(a.databaseVariable),this.databaseVariableTextbox],{flex:"0 0 auto"}).withLayout({flexFlow:"row",alignItems:"center"}).component();this.serverNameTextbox=this.createInputBox(a.serverName,!1,!0);const r=this.view.modelBuilder.flexContainer().withItems([this.createLabel(a.serverName,!0),this.serverNameTextbox],{flex:"0 0 auto"}).withLayout({flexFlow:"row",alignItems:"center"}).component();this.serverVariableTextbox=this.createInputBox(a.serverVariable,!1,!0);const n=this.view.modelBuilder.flexContainer().withItems([this.createLabel(a.serverVariable,!0),this.serverVariableTextbox],{flex:"0 0 auto"}).withLayout({flexFlow:"row",alignItems:"center"}).component(),o=this.view.modelBuilder.flexContainer().withItems([e,t,r,n]).withLayout({flexFlow:"column"}).withProps({CSSStyles:{"margin-bottom":"25px"}}).component();return this.setDefaultDatabaseValues(),{component:o,title:""}}createLabel(e,t=!1){return this.view.modelBuilder.text().withProps({value:e,width:s.cssStyles.addDatabaseReferenceDialogLabelWidth,requiredIndicator:t}).component()}createInputBox(e,t,r){const n=this.view.modelBuilder.inputBox().withProps({ariaLabel:e,enabled:t,width:s.cssStyles.addDatabaseReferenceInputboxWidth,required:r}).component();return n.onTextChanged((()=>{this.tryEnableAddReferenceButton(),this.updateExampleUsage()})),n}createExampleUsage(){return this.exampleUsage=this.view.modelBuilder.text().withProps({value:this.currentReferenceType===d.project?a.databaseNameRequiredVariableOptional:a.systemDatabaseReferenceRequired,CSSStyles:{"user-select":"text"}}).component(),{component:this.view.modelBuilder.flexContainer().withItems([this.exampleUsage],{CSSStyles:{width:"415px",height:"80px",padding:"0 10px",border:"1px solid #8a8886","font-style":"italic"}}).component(),title:a.exampleUsage}}updateExampleUsage(){let e="",t=s.cssStyles.fontStyle.normal;switch(this.locationDropdown.value){case a.sameDatabase:e=a.sameDatabaseExampleUsage;break;case a.differentDbSameServer:if(this.databaseNameTextbox?.value){const t=this.databaseVariableTextbox?.value?i.formatSqlCmdVariable(this.databaseVariableTextbox?.value):this.databaseNameTextbox.value;e=a.differentDbSameServerExampleUsage(t)}else e=this.currentReferenceType===d.systemDb?a.enterSystemDbName:a.databaseNameRequiredVariableOptional,t=s.cssStyles.fontStyle.italics;break;case a.differentDbDifferentServer:if(this.databaseNameTextbox?.value&&this.serverNameTextbox?.value&&this.serverVariableTextbox?.value){const t=i.formatSqlCmdVariable(this.serverVariableTextbox.value),r=this.databaseVariableTextbox?.value?i.formatSqlCmdVariable(this.databaseVariableTextbox?.value):this.databaseNameTextbox.value;e=a.differentDbDifferentServerExampleUsage(t,r)}else e=a.databaseNameServerNameVariableRequired,t=s.cssStyles.fontStyle.italics}if(!this.validSqlCmdVariables()){let t=i.isValidSqlCmdVariableName(this.databaseVariableTextbox?.value)?this.serverVariableTextbox.value:this.databaseVariableTextbox.value;t=i.removeSqlCmdVariableFormatting(t),e=a.notValidVariableName(t)}this.exampleUsage.value=e,this.exampleUsage?.updateCssStyles({"font-style":t})}validSqlCmdVariables(){return!(this.databaseVariableTextbox?.enabled&&this.databaseVariableTextbox?.value&&!i.isValidSqlCmdVariableName(this.databaseVariableTextbox?.value)||this.serverVariableTextbox?.enabled&&this.serverVariableTextbox?.value&&!i.isValidSqlCmdVariableName(this.serverVariableTextbox?.value))}tryEnableAddReferenceButton(){switch(this.currentReferenceType){case d.project:this.dialog.okButton.enabled=this.projectRequiredFieldsFilled();break;case d.systemDb:this.dialog.okButton.enabled=!!this.databaseNameTextbox?.value;break;case d.dacpac:this.dialog.okButton.enabled=this.dacpacRequiredFieldsFilled()}}dacpacRequiredFieldsFilled(){return!!this.dacpacTextbox?.value&&this.validSqlCmdVariables()&&(this.locationDropdown?.value===a.sameDatabase||this.locationDropdown?.value===a.differentDbSameServer&&this.differentDatabaseSameServerRequiredFieldsFilled()||this.locationDropdown?.value===a.differentDbDifferentServer&&this.differentDatabaseDifferentServerRequiredFieldsFilled())}projectRequiredFieldsFilled(){return!!this.projectDropdown?.value&&(this.locationDropdown?.value===a.sameDatabase||this.locationDropdown?.value===a.differentDbSameServer&&this.differentDatabaseSameServerRequiredFieldsFilled()||this.locationDropdown?.value===a.differentDbDifferentServer&&this.differentDatabaseDifferentServerRequiredFieldsFilled())}differentDatabaseSameServerRequiredFieldsFilled(){return!!this.databaseNameTextbox?.value}differentDatabaseDifferentServerRequiredFieldsFilled(){return!!this.databaseNameTextbox?.value&&!!this.serverNameTextbox?.value&&!!this.serverVariableTextbox?.value}},t.getSystemDbOptions=m,t.getSystemDatabase=h,t.promptDacpacLocation=f},9859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDatabaseReferenceQuickpick=void 0;const n=r(5622),o=r(7549),a=r(6078),i=r(1027),s=r(774);async function c(){return o.window.showQuickPick(a.locationDropdownValues,{title:a.location,ignoreFocusOut:!0})}async function l(e){return o.window.showInputBox({title:a.databaseName,value:e,validateInput:e=>e?void 0:a.nameMustNotBeEmpty,ignoreFocusOut:!0})}async function u(){return await o.window.showQuickPick([a.noStringDefault,a.yesString],{title:a.suppressMissingDependenciesErrors,ignoreFocusOut:!0})===a.yesString}async function p(e,t){const r={};if(e!==a.sameDatabase){const e=await l(t);if(!e)return;r.dbName=e;const n=await async function(e){return await o.window.showInputBox({title:a.databaseVariable,value:e,validateInput:e=>(0,i.isValidSqlCmdVariableName)(e)?"":a.notValidVariableName(e),ignoreFocusOut:!0})??""}(e);r.dbVariable=n}if(e===a.differentDbDifferentServer){const e=await async function(){return o.window.showInputBox({title:a.serverName,value:a.otherServer,validateInput:e=>e?void 0:a.nameMustNotBeEmpty,ignoreFocusOut:!0})}();if(!e)return;r.serverName=e;const t=await async function(){return await o.window.showInputBox({title:a.serverVariable,value:a.otherSeverVariable,validateInput:e=>(0,i.isValidSqlCmdVariableName)(e)?"":a.notValidVariableName(e),ignoreFocusOut:!0})??""}();if(!t)return;r.serverVariable=t}return r}t.addDatabaseReferenceQuickpick=async function(e){const t=(await(0,i.getSqlProjectsInWorkspace)()).filter((t=>t.fsPath!==e.projectFilePath)),r=t.length>0?[a.projectLabel,a.systemDatabase,a.dacpacText]:[a.systemDatabase,a.dacpacText],d=await o.window.showQuickPick(r,{title:a.referenceType,ignoreFocusOut:!0});if(d)switch(d){case a.projectLabel:return async function(e){const t=e.map((e=>({label:n.parse(e.fsPath).name,uri:e}))),r=await o.window.showQuickPick(t,{title:a.databaseProject,ignoreFocusOut:!0});if(!r)return;const i=await c();if(!i)return;const s={projectName:r.label,projectGuid:"",projectRelativePath:void 0,databaseName:void 0,databaseVariable:void 0,serverName:void 0,serverVariable:void 0,suppressMissingDependenciesErrors:!1},l=await p(i,r.label);if(!l)return;s.databaseName=l.dbName,s.databaseVariable=l.dbVariable,s.serverName=l.serverName,s.serverVariable=l.serverVariable;const d=await u();return s.suppressMissingDependenciesErrors=d,s}(t);case a.systemDatabase:return async function(e){const t=await o.window.showQuickPick((0,s.getSystemDbOptions)(e),{title:a.systemDatabase,ignoreFocusOut:!0});if(!t)return;const r=await l(t),n=await u();return{databaseName:r,systemDb:(0,s.getSystemDatabase)(t),suppressMissingDependenciesErrors:n}}(e);case a.dacpacText:return async function(){const e=await c();if(!e)return;if(!await o.window.showQuickPick([a.browseEllipsisWithIcon],{title:a.selectDacpac,ignoreFocusOut:!0}))return;const t=(await(0,s.promptDacpacLocation)())?.[0];if(!t)return;const r=await p(e,n.parse(t.fsPath).name);if(!r)return;const l=await u();return{databaseName:r.dbName,dacpacFileLocation:t,databaseVariable:(0,i.removeSqlCmdVariableFormatting)(r.dbVariable),serverName:r.serverName,serverVariable:(0,i.removeSqlCmdVariableFormatting)(r.serverVariable),suppressMissingDependenciesErrors:l}}();default:return void console.log(`Unknown reference type ${d}`)}}},17:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapExtractTargetEnum=t.CreateProjectFromDatabaseDialog=void 0;const n=r(7549),o=r(6078),a=r(2527),i=r(5622),s=r(5894),c=r(9799),l=r(2178),u=r(2935),p=r(1027);function d(e){if(!e)throw new Error(o.extractTargetRequired);switch(e){case o.file:return 1;case o.flat:return 2;case o.objectType:return 3;case o.schema:return 4;case o.schemaObjectType:return 5;default:throw new Error(o.invalidInput(e))}}t.CreateProjectFromDatabaseDialog=class{constructor(e){this.profile=e,this.toDispose=[],this.initDialogComplete=new l.Deferred,this.dialog=(0,p.getAzdataApi)().window.createModelViewDialog(o.createProjectFromDatabaseDialogName,"createProjectFromDatabaseDialog"),this.createProjectFromDatabaseTab=(0,p.getAzdataApi)().window.createTab(o.createProjectFromDatabaseDialogName),this.dialog.registerCloseValidator((async()=>this.validate()))}async openDialog(){this.initializeDialog(),this.dialog.okButton.label=o.createProjectDialogOkButtonText,this.dialog.okButton.enabled=!1,this.toDispose.push(this.dialog.okButton.onClick((async()=>await this.handleCreateButtonClick()))),this.dialog.cancelButton.label=o.cancelButtonText;let e=!1;if(this.profile&&(e=!!(await(0,p.getAzdataApi)().connection.getConnections(!0)).find((e=>e.connectionId===this.profile.id)),!e)){const t=await(0,p.getAzdataApi)().connection.connect(this.profile,!0,!1);if(e=t.connected,!t.connected){const t=await(0,p.getAzdataApi)().connection.openConnectionDialog(void 0,this.profile);e=!!t,e&&(this.profile.id=t.connectionId,this.profile.databaseName=t.options.databaseName,this.profile.serverName=t.options.server,this.profile.userName=t.options.user)}}(0,p.getAzdataApi)().window.openDialog(this.dialog),await this.initDialogComplete.promise,e&&await this.updateConnectionComponents((0,u.getConnectionName)(this.profile),this.profile.id,this.profile.databaseName),this.tryEnableCreateButton()}dispose(){this.toDispose.forEach((e=>e.dispose()))}initializeDialog(){this.initializeCreateProjectFromDatabaseTab(),this.dialog.content=[this.createProjectFromDatabaseTab]}initializeCreateProjectFromDatabaseTab(){this.createProjectFromDatabaseTab.registerContent((async e=>{const t=this.createConnectionRow(e),r=this.createDatabaseRow(e),n=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();n.addItems([t,r]);const a=this.createProjectNameRow(e),i=this.createProjectLocationRow(e),s=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();s.addItems([a,i]);const l=this.createFolderStructureRow(e),u=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();u.addItems([l]),this.sdkStyleCheckbox=e.modelBuilder.checkBox().withProps({checked:!0,label:o.sdkStyleProject}).component();const p=e.modelBuilder.hyperlink().withProps({label:o.learnMore,url:o.sdkLearnMoreUrl}).component(),d=e.modelBuilder.flexContainer().withLayout({flexFlow:"row",alignItems:"baseline"}).withItems([this.sdkStyleCheckbox,p],{CSSStyles:{flex:"0 0 auto","margin-right":"10px"}}).component();this.formBuilder=e.modelBuilder.formContainer().withFormItems([{title:o.sourceDatabase,components:[{component:n}]},{title:o.targetProject,components:[{component:s}]},{title:o.createProjectSettings,components:[{component:u},{component:d}]}],{horizontal:!1,titleFontSize:c.cssStyles.titleFontSize}).withLayout({width:"100%",padding:"10px 10px 0 20px"});let m=this.formBuilder.component();await e.initializeModel(m),await(this.selectConnectionButton?.focus()),this.initDialogComplete?.resolve()}))}createConnectionRow(e){const t=this.createSourceConnectionComponent(e),r=this.createSelectConnectionButton(e),n=e.modelBuilder.text().withProps({value:o.server,requiredIndicator:!0,width:c.cssStyles.createProjectFromDatabaseLabelWidth}).component(),a=e.modelBuilder.flexContainer().withItems([n,t],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-5px","margin-top":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return a.addItem(r,{CSSStyles:{"margin-right":"0px","margin-bottom":"-5px","margin-top":"-10px"}}),a}createDatabaseRow(e){this.sourceDatabaseDropDown=e.modelBuilder.dropDown().withProps({ariaLabel:o.databaseNameLabel,required:!0,width:c.cssStyles.createProjectFromDatabaseTextboxWidth}).component(),this.sourceDatabaseDropDown.onValueChanged((()=>{this.setProjectName(),this.tryEnableCreateButton()}));const t=e.modelBuilder.text().withProps({value:o.databaseNameLabel,requiredIndicator:!0,width:c.cssStyles.createProjectFromDatabaseLabelWidth}).component();return e.modelBuilder.flexContainer().withItems([t,this.sourceDatabaseDropDown],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component()}setProjectName(){this.projectNameTextBox.value=a.defaultProjectNameFromDb(this.sourceDatabaseDropDown.value)}createSourceConnectionComponent(e){return this.sourceConnectionTextBox=e.modelBuilder.inputBox().withProps({value:"",placeHolder:o.selectConnection,width:c.cssStyles.createProjectFromDatabaseTextboxWidth,enabled:!1}).component(),this.sourceConnectionTextBox.onTextChanged((()=>{this.tryEnableCreateButton()})),this.sourceConnectionTextBox}createSelectConnectionButton(e){return this.selectConnectionButton=e.modelBuilder.button().withProps({ariaLabel:o.selectConnection,iconPath:s.IconPathHelper.selectConnection,height:"16px",width:"16px"}).component(),this.selectConnectionButton.onDidClick((async()=>{let e,t=await(0,p.getAzdataApi)().connection.openConnectionDialog();this.connectionId=t.connectionId,e=(0,u.getConnectionName)(t),await this.updateConnectionComponents(e,this.connectionId,t.options.database)})),this.selectConnectionButton}async updateConnectionComponents(e,t,r){if(this.sourceConnectionTextBox.value=e,this.sourceConnectionTextBox.updateProperty("title",e),t){let e;this.sourceDatabaseDropDown.loading=!0;try{e=(await(0,p.getAzdataApi)().connection.listDatabases(t)).filter((e=>!o.systemDbs.includes(e)))}catch(t){e=[r],console.warn(t)}this.sourceDatabaseDropDown.values=e,this.sourceDatabaseDropDown.loading=!1,this.connectionId=t}r&&r!==o.master&&(this.sourceDatabaseDropDown.value=r),this.selectConnectionButton.iconPath=s.IconPathHelper.connect}createProjectNameRow(e){this.projectNameTextBox=e.modelBuilder.inputBox().withProps({ariaLabel:o.projectNamePlaceholderText,placeHolder:o.projectNamePlaceholderText,required:!0,width:c.cssStyles.createProjectFromDatabaseTextboxWidth}).component(),this.projectNameTextBox.onTextChanged((()=>{this.projectNameTextBox.value=this.projectNameTextBox.value?.trim(),this.projectNameTextBox.updateProperty("title",this.projectNameTextBox.value),this.tryEnableCreateButton()}));const t=e.modelBuilder.text().withProps({value:o.projectNameLabel,requiredIndicator:!0,width:c.cssStyles.createProjectFromDatabaseLabelWidth}).component();return e.modelBuilder.flexContainer().withItems([t,this.projectNameTextBox],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-5px","margin-top":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component()}createProjectLocationRow(e){const t=this.createBrowseFolderButton(e);this.projectLocationTextBox=e.modelBuilder.inputBox().withProps({value:"",ariaLabel:o.location,placeHolder:o.projectLocationPlaceholderText,width:c.cssStyles.createProjectFromDatabaseTextboxWidth}).component(),this.projectLocationTextBox.onTextChanged((()=>{this.projectLocationTextBox.updateProperty("title",this.projectLocationTextBox.value),this.tryEnableCreateButton()}));const r=e.modelBuilder.text().withProps({value:o.location,requiredIndicator:!0,width:c.cssStyles.createProjectFromDatabaseLabelWidth}).component(),n=e.modelBuilder.flexContainer().withItems([r,this.projectLocationTextBox],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return n.addItem(t,{CSSStyles:{"margin-right":"0px","margin-bottom":"-10px"}}),n}createBrowseFolderButton(e){const t=e.modelBuilder.button().withProps({ariaLabel:o.browseButtonText,iconPath:s.IconPathHelper.folder_blue,height:"18px",width:"18px"}).component();return t.onDidClick((async()=>{let e=await n.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:o.selectString,defaultUri:a.defaultProjectSaveLocation()});e&&0!==e.length&&(this.projectLocationTextBox.value=e[0].fsPath,this.projectLocationTextBox.updateProperty("title",e[0].fsPath))})),t}createFolderStructureRow(e){this.folderStructureDropDown=e.modelBuilder.dropDown().withProps({values:[o.file,o.flat,o.objectType,o.schema,o.schemaObjectType],value:o.schemaObjectType,ariaLabel:o.folderStructureLabel,required:!0,width:c.cssStyles.createProjectFromDatabaseTextboxWidth}).component(),this.folderStructureDropDown.onValueChanged((()=>{this.tryEnableCreateButton()}));const t=e.modelBuilder.text().withProps({value:o.folderStructureLabel,requiredIndicator:!0,width:c.cssStyles.createProjectFromDatabaseLabelWidth}).component();return e.modelBuilder.flexContainer().withItems([t,this.folderStructureDropDown],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-top":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component()}tryEnableCreateButton(){this.sourceConnectionTextBox.value&&this.sourceDatabaseDropDown.value&&this.projectNameTextBox.value&&this.projectLocationTextBox.value?this.dialog.okButton.enabled=!0:this.dialog.okButton.enabled=!1}async handleCreateButtonClick(){const e=(0,p.getAzdataApi)(),t={connectionUri:await e.connection.getUriForConnection(this.connectionId),database:this.sourceDatabaseDropDown.value,projName:this.projectNameTextBox.value,filePath:this.projectLocationTextBox.value,version:"1.0.0.0",extractTarget:d(this.folderStructureDropDown.value),sdkStyle:this.sdkStyleCheckbox?.checked};e.window.closeDialog(this.dialog),await this.createProjectFromDatabaseCallback(t),this.dispose()}async validate(){try{return await(0,p.exists)(this.projectLocationTextBox.value)?await(0,p.exists)(i.join(this.projectLocationTextBox.value,this.projectNameTextBox.value))?(this.showErrorMessage(o.ProjectDirectoryAlreadyExistError(this.projectNameTextBox.value,this.projectLocationTextBox.value)),!1):!1!==await(0,p.getDataWorkspaceExtensionApi)().validateWorkspace():(this.showErrorMessage(o.ProjectParentDirectoryNotExistError(this.projectLocationTextBox.value)),!1)}catch(e){return this.showErrorMessage(e?.message?e.message:e),!1}}showErrorMessage(e){this.dialog.message={text:e,level:(0,p.getAzdataApi)().window.MessageLevel.Error}}},t.mapExtractTargetEnum=d},9108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewProjectFromDatabaseWithQuickpick=void 0;const n=r(7549),o=r(5622),a=r(6078),i=r(1027),s=r(2527),c=r(17);t.createNewProjectFromDatabaseWithQuickpick=async function(e){const t=await(0,i.getVscodeMssqlApi)();let r=e??await t.promptForConnection(!0);if(!r)return;let l,u="";for(;!l;)try{u=await t.connect(r),l=(await t.listDatabases(u)).filter((e=>!a.systemDbs.includes(e)))}catch(e){if(r=await t.promptForConnection(!0),!r)return}if(r.database&&r.database!==a.master){const e=l.indexOf(r.database);e>=0&&l.splice(e,1),l.unshift(r.database)}const p=await n.window.showQuickPick(l,{title:a.selectDatabase,ignoreFocusOut:!0});if(!p)return;const d=await n.window.showInputBox({title:a.projectNamePlaceholderText,value:(0,s.defaultProjectNameFromDb)(p),validateInput:e=>e?void 0:a.nameMustNotBeEmpty,ignoreFocusOut:!0});if(!d)return;const m=(0,s.defaultProjectSaveLocation)(),h=[a.browseEllipsisWithIcon];m&&h.push(m.fsPath);let f="",g=a.projectLocationPlaceholderText;for(;;){const e=await n.window.showQuickPick(h,{title:g,ignoreFocusOut:!0});if(!e)return;if(e===a.browseEllipsisWithIcon){const e=await n.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:a.selectString,title:a.selectProjectLocation,defaultUri:m});if(!e){g=a.projectLocationPlaceholderText;continue}f=e[0].fsPath}else f=e;if(!await(0,i.exists)(o.join(f,d)))break;g=a.folderAlreadyExistsChooseNewLocation(d)}const v=await n.window.showQuickPick([a.file,a.flat,a.objectType,a.schema,a.schemaObjectType],{title:a.selectFolderStructure,ignoreFocusOut:!0});if(!v)return;let b;const y={iconPath:new n.ThemeIcon("link-external"),tooltip:a.learnMore},x=n.window.createQuickPick();x.items=[{label:a.YesRecommended},{label:a.noString}],x.title=a.sdkStyleProject,x.ignoreFocusOut=!0;const S=[];try{x.buttons=[y],x.placeholder=a.SdkLearnMorePlaceholder;const e=new Promise((e=>{S.push(x.onDidHide((()=>{e(void 0)})),x.onDidChangeSelection((t=>{e(t[0].label===a.YesRecommended)}))),S.push(x.onDidTriggerButton((async()=>{await n.env.openExternal(n.Uri.parse(a.sdkLearnMoreUrl))})))}));x.show(),b=await e,x.hide()}finally{S.forEach((e=>e.dispose()))}return void 0!==b?{connectionUri:u,database:p,projName:d,filePath:f,version:"1.0.0.0",extractTarget:(0,c.mapExtractTargetEnum)(v),sdkStyle:b}:void 0}},7978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPublishToDockerSettings=t.launchCreateAzureServerQuickPick=t.launchDeployAppIntegrationQuickpick=void 0;const n=r(7549),o=r(6078),a=r(1027),i=r(2935),s=r(5736),c=r(3773),l=r(5622),u=r(5674);t.launchDeployAppIntegrationQuickpick=async function(e){let t="";const r=l.join(e.projectFolderPath,o.azureFunctionLocalSettingsFileName),i=await u.pathExists(r);if(i){let e={},r={placeHolder:o.appSettingPrompt};e[o.yesString]=!0,e[o.noString]=!1;let i=await n.window.showQuickPick(Object.keys(e).map((e=>({label:e}))),r);if(!i)return;if(void 0!==i&&e[i.label]&&(t=await n.window.showInputBox({title:o.enterConnectionStringEnvName,ignoreFocusOut:!0,value:o.defaultConnectionStringEnvVarName,validateInput:e=>a.isEmptyString(e)?o.valueCannotBeEmpty:void 0,placeHolder:o.enterConnectionStringEnvNameDescription}),!t))return}return{envVariableName:t,appSettingFile:i?r:void 0,appSettingType:i?s.AppSettingType.AzureFunction:s.AppSettingType.None}},t.launchCreateAzureServerQuickPick=async function(e,t){const r=i.getPublishServerName(e.getProjectTargetVersion()),s=await t.getAccounts(),l=s.map((e=>e.displayInfo?.displayName||""));let u;l.unshift(o.azureAddAccount);let p=await n.window.showQuickPick(l,{title:o.azureAccounts,ignoreFocusOut:!0});if(!p)return;if(u=p===o.azureAddAccount?await t.getAccount():s.find((e=>e.displayInfo.displayName===p)),!u)return;const d=await t.getSessions(u),m=await n.window.showQuickPick(d.map((e=>e.subscription.displayName||"")),{title:o.azureSubscription,ignoreFocusOut:!0});if(!m)return;const h=d.find((e=>e.subscription.displayName===m));if(!h?.subscription?.subscriptionId)return;const f=await t.getResourceGroups(h),g=await n.window.showQuickPick(f.map((e=>e.name||"")),{title:o.resourceGroup,ignoreFocusOut:!0});if(!g)return;const v=f.find((e=>e.name===g));if(!v)return;let b=await t.getLocations(h);if(v.location){const e=b.find((e=>e.name===v.location));e&&(b=b.filter((t=>t.name!==e.name)),b.unshift(e))}let y=await n.window.showQuickPick(b.map((e=>e.name||"")),{title:o.azureLocation,ignoreFocusOut:!0,placeHolder:v?.location});if(!y)return;let x="";if(x=await n.window.showInputBox({title:o.azureServerName,ignoreFocusOut:!0,value:x,password:!1}),!x)return;let S="";if(S=await n.window.showInputBox({title:o.enterUser(r),ignoreFocusOut:!0,value:S,password:!1}),!S)return;let _="";if(_=await n.window.showInputBox({title:o.enterPassword(r),ignoreFocusOut:!0,value:_,validateInput:e=>a.isValidSQLPassword(e)?void 0:o.invalidSQLPasswordMessage(r),password:!0}),!_)return;let E="";return E=await n.window.showInputBox({title:o.confirmPassword(r),ignoreFocusOut:!0,value:E,validateInput:e=>e!==_?o.passwordNotMatch(r):void 0,password:!0}),E?{deploySettings:await(0,c.getPublishDatabaseSettings)(e,!1),sqlDbSetting:{tenantId:h.tenantId,accountId:h.account.key.id,serverName:x,userName:S,password:_,port:1433,dbName:"",session:h,resourceGroupName:v.name||"",location:y}}:void 0},t.getPublishToDockerSettings=async function(e){const t=e.getProjectTargetVersion(),r=i.getPublishServerName(t);let s=await n.window.showInputBox({title:o.enterPortNumber(r),ignoreFocusOut:!0,value:o.defaultPortNumber,validateInput:e=>a.validateSqlServerPortNumber(e)?void 0:o.portMustBeNumber});if(!s)return;let l="";if(l=await n.window.showInputBox({title:o.enterPassword(r),ignoreFocusOut:!0,value:l,validateInput:e=>a.isValidSQLPassword(e)?void 0:o.invalidSQLPasswordMessage(r),password:!0}),!l)return;let u="";if(u=await n.window.showInputBox({title:o.confirmPassword(r),ignoreFocusOut:!0,value:u,validateInput:e=>e!==l?o.passwordNotMatch(r):void 0,password:!0}),!u)return;const p=i.getDockerBaseImages(t),d=await n.window.showQuickPick(p.map((e=>e.displayName)),{title:o.selectBaseImage(r),ignoreFocusOut:!0,placeHolder:i.getDockerImagePlaceHolder(t)});if(!d)return;const m=p.find((e=>e.displayName===d));if(!m)return;if(!await async function(e){let t=!1;const r=e?.agreementInfo;if(r){const e={iconPath:new n.ThemeIcon("link-external"),tooltip:o.openEulaString},a=n.window.createQuickPick();a.items=[{label:o.yesString},{label:o.noString}],a.title=i.getAgreementDisplayText(r),a.ignoreFocusOut=!0,a.buttons=[e];const s=[];try{const e=new Promise((e=>{s.push(a.onDidHide((()=>{e(!1)})),a.onDidTriggerButton((async()=>{await n.env.openExternal(n.Uri.parse(r.link.url))})),a.onDidChangeSelection((t=>{e(t[0].label===o.yesString)})))}));a.show(),t=await e,a.hide()}finally{s.forEach((e=>e.dispose()))}return t}return!1}(m))return;let h=(await i.getImageTags(m,t)).map((e=>({label:e})));if(m.defaultTag){const e=h.findIndex((e=>e.label===m.defaultTag));e>-1&&h.splice(e,1),h.unshift({label:m.defaultTag,description:o.defaultQuickPickItem})}const f=await n.window.showQuickPick(h,{title:o.selectImageTag(r),ignoreFocusOut:!0});if(!f)return;let g=m.name;f&&f.label!==o.dockerImageDefaultTag&&(g=`${g}:${f.label}`);const v={serverName:o.defaultLocalServerName,userName:o.defaultLocalServerAdminName,dbName:e.projectFileName,password:l,port:+s,dockerBaseImage:g,dockerBaseImageEula:m.agreementInfo.link.url};let b=await(0,c.getPublishDatabaseSettings)(e,!1);return b?(b.serverName=v.serverName,v.dbName=b.databaseName,{dockerSettings:v,sqlProjectPublishSettings:b}):void 0}},5444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptForPublishProfile=t.PublishDatabaseDialog=void 0;const n=r(7549),o=r(6078),a=r(1027),i=r(6502),s=r(5894),c=r(9799),l=r(2935),u=r(1845),p=r(2178),d=r(4625);function m(e){return n.window.showOpenDialog({title:o.selectProfile,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,defaultUri:n.Uri.file(e),filters:{[o.publishSettingsFiles]:["publish.xml"]}})}t.PublishDatabaseDialog=class{constructor(e){this.project=e,this.existingServerSelected=!0,this.profileUsed=!1,this.publishOptionsModified=!1,this.completionPromise=new p.Deferred,this.toDispose=[],this.dialog=a.getAzdataApi().window.createModelViewDialog(o.publishDialogName,"sqlProjectPublishDialog"),this.toDispose.push(this.dialog.onClosed((e=>this.completionPromise.resolve()))),this.publishTab=a.getAzdataApi().window.createTab(o.publishDialogName)}openDialog(){this.initializeDialog(),this.dialog.okButton.label=o.publish,this.dialog.okButton.enabled=!1,this.toDispose.push(this.dialog.okButton.onClick((async()=>await this.publishClick()))),this.dialog.cancelButton.label=o.cancelButtonText;let e=a.getAzdataApi().window.createButton(o.generateScriptButtonText);this.toDispose.push(e.onClick((async()=>await this.generateScriptClick()))),e.enabled=!1,this.dialog.customButtons=[],this.dialog.customButtons.push(e),a.getAzdataApi().window.openDialog(this.dialog)}set publishToExistingServer(e){this.existingServerSelected=e}waitForClose(){return this.completionPromise.promise}dispose(){this.toDispose.forEach((e=>e.dispose()))}initializeDialog(){this.initializePublishTab(),this.dialog.content=[this.publishTab]}initializePublishTab(){this.publishTab.registerContent((async e=>{const t=this.createPublishTypeRadioButtons(e);this.createRadioButtons(e),this.createLocalDbInfoRow(e),this.dataSourcesFormComponent=this.createDataSourcesFormComponent(e),this.sqlCmdVariablesTable=this.createSqlCmdTable(e),this.loadSqlCmdVarsButton=this.createLoadSqlCmdVarsButton(e),this.sqlCmdVariablesFormComponentGroup={components:[{title:"",component:this.loadSqlCmdVarsButton},{title:"",component:this.sqlCmdVariablesTable}],title:o.sqlCmdVariables};const r=await this.getDefaultDeploymentOptions();this.setDeploymentOptions(r);const n=this.createProfileRow(e);this.connectionRow=this.createConnectionRow(e),this.databaseRow=this.createDatabaseRow(e);const a=this.createOptionsButton(e),i=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();i.addItems([n,this.databaseRow]),this.formBuilder=e.modelBuilder.formContainer().withFormItems([{title:"",components:[{component:t,title:""},{component:this.connectionRow,title:""},{component:i,title:""},{component:a,title:""}]}],{horizontal:!1,titleFontSize:c.cssStyles.titleFontSize}).withLayout({width:"100%"}),Object.keys(this.project.sqlCmdVariables).length>0&&this.formBuilder.addFormItem(this.sqlCmdVariablesFormComponentGroup);let s=this.formBuilder.component();await e.initializeModel(s)}))}async getConnectionUri(){try{let e;if(this.connectionIsDataSource){const t=this.dataSourcesDropDown.value.dataSource,r=t.getConnectionProfile();if(t.integratedSecurity){const t=await a.getAzdataApi().connection.connect(r,!1,!1);a.throwIfNotConnected(t),e=t.connectionId}else e=(await a.getAzdataApi().connection.openConnectionDialog(void 0,r)).connectionId}else{if(!this.connectionId)throw new Error("Connection not defined.");e=this.connectionId}return await a.getAzdataApi().connection.getUriForConnection(e)}catch(e){throw new Error(o.unableToCreatePublishConnection+": "+a.getErrorMessage(e))}}async publishClick(){if(this.existingServerSelected){const e={databaseName:this.targetDatabaseName,serverName:this.getServerName(),connectionUri:await this.getConnectionUri(),sqlCmdVariables:this.getSqlCmdVariablesForPublish(),deploymentOptions:await this.getDeploymentOptions(),profileUsed:this.profileUsed};a.getAzdataApi().window.closeDialog(this.dialog),await this.publish(this.project,e)}else{let e=this.getBaseDockerImageName();const t=(0,l.getDockerBaseImages)(this.project.getProjectTargetVersion()).find((t=>t.name===e));e=(0,l.getDefaultDockerImageWithTag)(this.project.getProjectTargetVersion(),e,t);const r={dockerSettings:{dbName:this.targetDatabaseName,dockerBaseImage:e,dockerBaseImageEula:t?.agreementInfo?.link?.url||"",password:this.serverAdminPasswordTextBox?.value||"",port:+(this.serverPortTextBox?.value||o.defaultPortNumber),serverName:o.defaultLocalServerName,userName:o.defaultLocalServerAdminName},sqlProjectPublishSettings:{databaseName:this.targetDatabaseName,serverName:o.defaultLocalServerName,connectionUri:"",sqlCmdVariables:this.getSqlCmdVariablesForPublish(),deploymentOptions:await this.getDeploymentOptions(),profileUsed:this.profileUsed}};a.getAzdataApi().window.closeDialog(this.dialog),await this.publishToContainer(this.project,r)}this.dispose()}async generateScriptClick(){u.TelemetryReporter.sendActionEvent(u.TelemetryViews.SqlProjectPublishDialog,u.TelemetryActions.generateScriptClicked);const e=this.getSqlCmdVariablesForPublish(),t={databaseName:this.targetDatabaseName,serverName:this.getServerName(),connectionUri:await this.getConnectionUri(),sqlCmdVariables:e,deploymentOptions:await this.getDeploymentOptions(),profileUsed:this.profileUsed};a.getAzdataApi().window.closeDialog(this.dialog),await(this.generateScript?.(this.project,t)),this.dispose()}async getDeploymentOptions(){return this.deploymentOptions||(this.deploymentOptions=await a.getDefaultPublishDeploymentOptions(this.project)),this.deploymentOptions}getSqlCmdVariablesForPublish(){return{...this.sqlCmdVars}}get targetDatabaseName(){return this.existingServerSelected?this.targetDatabaseDropDown?.value??"":this.targetDatabaseTextBox?.value||""}set targetDatabaseName(e){this.targetDatabaseDropDown.values=[],this.targetDatabaseDropDown.values?.push(e),this.targetDatabaseDropDown.value=e,this.targetDatabaseTextBox&&(this.targetDatabaseTextBox.value=e)}getBaseDockerImageName(){return this.baseDockerImageDropDown?.value?.name??""}getDefaultDatabaseName(){return this.project.projectFileName}getServerName(){return this.serverName}createRadioButtons(e){return this.connectionsRadioButton=e.modelBuilder.radioButton().withProps({name:"connection",label:o.connectionRadioButtonLabel}).component(),this.connectionsRadioButton.checked=!0,this.connectionsRadioButton.onDidClick((()=>{this.formBuilder.removeFormItem(this.dataSourcesFormComponent),this.connectionIsDataSource=!1,this.targetDatabaseDropDown.value=this.getDefaultDatabaseName()})),this.dataSourcesRadioButton=e.modelBuilder.radioButton().withProps({name:"connection",label:o.dataSourceRadioButtonLabel}).component(),this.dataSourcesRadioButton.onDidClick((()=>{this.formBuilder.insertFormItem(this.dataSourcesFormComponent,2),this.connectionIsDataSource=!0,this.setDatabaseToSelectedDataSourceDatabase()})),e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).withItems([this.connectionsRadioButton,this.dataSourcesRadioButton]).withProps({ariaRole:"radiogroup"}).component()}createPublishTypeRadioButtons(e){const t=(0,l.getPublishServerName)(this.project.getProjectTargetVersion()),r=e.modelBuilder.text().withProps({value:o.publishTo,width:c.cssStyles.publishDialogLabelWidth}).component();this.existingServerRadioButton=e.modelBuilder.radioButton().withProps({name:"publishType",label:o.publishToExistingServer(t)}).component(),this.existingServerRadioButton.checked=!0,this.existingServerRadioButton.onDidChangeCheckedState((t=>{this.onPublishTypeChange(t,e)})),this.dockerServerRadioButton=e.modelBuilder.radioButton().withProps({name:"publishType",label:o.publishToDockerContainer(t)}).component(),this.dockerServerRadioButton.onDidChangeCheckedState((t=>{this.onPublishTypeChange(!t,e)}));const n=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).withItems([this.existingServerRadioButton,this.dockerServerRadioButton]).withProps({ariaRole:"radiogroup"}).component();return e.modelBuilder.flexContainer().withLayout({flexFlow:"row",alignItems:"baseline"}).withItems([r,n],{CSSStyles:{flex:"0 0 auto","margin-right":"10px"}}).component()}onPublishTypeChange(e,t){this.existingServerSelected=e,this.createDatabaseRow(t),this.tryEnableGenerateScriptAndOkButtons(),e?(this.connectionRow&&this.formBuilder.insertFormItem({title:"",component:this.connectionRow},2),this.localDbSection&&this.formBuilder.removeFormItem({title:"",component:this.localDbSection})):(this.connectionRow&&this.formBuilder.removeFormItem({title:"",component:this.connectionRow}),this.localDbSection&&this.formBuilder.insertFormItem({title:"",component:this.localDbSection},2))}createTargetConnectionComponent(e){return this.targetConnectionTextBox=e.modelBuilder.inputBox().withProps({value:"",ariaLabel:o.targetConnectionLabel,placeHolder:o.selectConnection,width:c.cssStyles.publishDialogTextboxWidth,enabled:!1}).component(),this.targetConnectionTextBox.onTextChanged((()=>{this.tryEnableGenerateScriptAndOkButtons()})),this.targetConnectionTextBox}createDataSourcesFormComponent(e){if(this.project.dataSources.length>0)return this.createDataSourcesDropdown(e);{const t=e.modelBuilder.text().withProps({value:o.noDataSourcesText}).component();return{title:o.dataSourceDropdownTitle,component:t}}}createDataSourcesDropdown(e){let t=[];return this.project.dataSources.filter((e=>e instanceof i.SqlConnectionDataSource)).forEach((e=>{const r=e.database,n=`${e.name}`;t.push({displayName:n,name:e.name,dataSource:e,database:r})})),this.dataSourcesDropDown=e.modelBuilder.dropDown().withProps({values:t}).component(),this.dataSourcesDropDown.onValueChanged((()=>{this.setDatabaseToSelectedDataSourceDatabase(),this.tryEnableGenerateScriptAndOkButtons()})),{title:o.dataSourceDropdownTitle,component:this.dataSourcesDropDown}}setDatabaseToSelectedDataSourceDatabase(){this.dataSourcesDropDown.value?.database&&(this.targetDatabaseDropDown.value=this.dataSourcesDropDown.value.database)}createProfileRow(e){const t=this.createLoadProfileButton(e);this.loadProfileTextBox=e.modelBuilder.inputBox().withProps({placeHolder:o.loadProfilePlaceholderText,ariaLabel:o.profile,width:c.cssStyles.publishDialogTextboxWidth,enabled:!1}).component();const r=e.modelBuilder.text().withProps({value:o.profile,width:c.cssStyles.publishDialogLabelWidth}).component(),n=e.modelBuilder.flexContainer().withItems([r,this.loadProfileTextBox],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return n.insertItem(t,2,{CSSStyles:{"margin-right":"0px"}}),n}createConnectionRow(e){this.targetConnectionTextBox=this.createTargetConnectionComponent(e);const t=this.createSelectConnectionButton(e),r=e.modelBuilder.text().withProps({value:o.server,requiredIndicator:!0,width:c.cssStyles.publishDialogLabelWidth}).component(),n=e.modelBuilder.flexContainer().withItems([r,this.targetConnectionTextBox],{flex:"0 0 auto",CSSStyles:{margin:"-8px 10px -15px 0"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return n.insertItem(t,2,{CSSStyles:{"margin-right":"0px"}}),n}createLocalDbInfoRow(e){const t=(0,l.getPublishServerName)(this.project.getProjectTargetVersion());this.serverPortTextBox=e.modelBuilder.inputBox().withProps({value:o.defaultPortNumber,ariaLabel:o.serverPortNumber(t),placeHolder:o.serverPortNumber(t),width:c.cssStyles.publishDialogTextboxWidth,enabled:!0,inputType:"number",validationErrorMessage:o.portMustBeNumber}).withValidation((e=>a.validateSqlServerPortNumber(e.value))).component(),this.serverPortTextBox.onTextChanged((()=>{this.tryEnableGenerateScriptAndOkButtons()}));const r=this.createFormRow(e,o.serverPortNumber(t),this.serverPortTextBox);this.serverAdminPasswordTextBox=e.modelBuilder.inputBox().withProps({value:"",ariaLabel:o.serverPassword(t),placeHolder:o.serverPassword(t),width:c.cssStyles.publishDialogTextboxWidth,enabled:!0,inputType:"password",validationErrorMessage:o.invalidSQLPasswordMessage(t)}).withValidation((e=>!a.isEmptyString(e.value)&&a.isValidSQLPassword(e.value||""))).component();const n=this.createFormRow(e,o.serverPassword(t),this.serverAdminPasswordTextBox);this.serverConfigAdminPasswordTextBox=e.modelBuilder.inputBox().withProps({value:"",ariaLabel:o.confirmServerPassword(t),placeHolder:o.confirmServerPassword(t),width:c.cssStyles.publishDialogTextboxWidth,enabled:!0,inputType:"password",validationErrorMessage:o.passwordNotMatch(t)}).withValidation((e=>e.value===this.serverAdminPasswordTextBox?.value)).component(),this.serverAdminPasswordTextBox.onTextChanged((()=>{this.tryEnableGenerateScriptAndOkButtons(),this.serverConfigAdminPasswordTextBox&&(this.serverConfigAdminPasswordTextBox.value="")})),this.serverConfigAdminPasswordTextBox.onTextChanged((()=>{this.tryEnableGenerateScriptAndOkButtons()}));const i=this.createFormRow(e,o.confirmServerPassword(t),this.serverConfigAdminPasswordTextBox),s=(0,l.getDockerBaseImages)(this.project.getProjectTargetVersion()),u=s.map((e=>({name:e.name,displayName:e.displayName})));if(this.project.getProjectTargetVersion()===o.targetPlatformToVersion.get("SQL Server 2022")){const e=u.findIndex((e=>e.displayName===o.SqlServerDockerImageName));e>=0&&(u[e].displayName=o.SqlServerDocker2022ImageName)}this.baseDockerImageDropDown=e.modelBuilder.dropDown().withProps({values:u,ariaLabel:o.baseDockerImage(t),width:c.cssStyles.publishDialogTextboxWidth,enabled:!0}).component();const p=s[0].agreementInfo,d=this.createFormRow(e,o.baseDockerImage(t),this.baseDockerImageDropDown);this.eulaCheckBox=e.modelBuilder.checkBox().withProps({ariaLabel:(0,l.getAgreementDisplayText)(p),required:!0}).component(),this.eulaCheckBox.onChanged((()=>{this.tryEnableGenerateScriptAndOkButtons()}));const m=e.modelBuilder.flexContainer().withLayout({flexFlow:"row",alignItems:"center"}).component();return this.localDbSection=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component(),this.localDbSection.addItems([r,n,i,d,m]),this.baseDockerImageDropDown.onValueChanged((()=>{this.eulaCheckBox&&(this.eulaCheckBox.checked=!1);const t=(0,l.getDockerBaseImages)(this.project.getProjectTargetVersion()).find((e=>e.name===this.baseDockerImageDropDown?.value.name));if(t?.agreementInfo.link){const r=e.modelBuilder.text().withProps({value:o.eulaAgreementTemplate,links:[t.agreementInfo.link],requiredIndicator:!0}).component();m&&this.eulaCheckBox&&(m?.clearItems(),m?.addItems([this.eulaCheckBox,r],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px"}}))}})),this.localDbSection}createFormRow(e,t,r){const n=e.modelBuilder.text().withProps({value:t,requiredIndicator:!0,width:c.cssStyles.publishDialogLabelWidth}).component();return e.modelBuilder.flexContainer().withItems([n,r],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component()}createDatabaseRow(e){let t;this.existingServerSelected?(void 0===this.targetDatabaseDropDown&&(this.targetDatabaseDropDown=e.modelBuilder.dropDown().withProps({values:[this.getDefaultDatabaseName()],value:this.getDefaultDatabaseName(),ariaLabel:o.databaseNameLabel,required:!0,width:c.cssStyles.publishDialogDropdownWidth,editable:!0,fireOnTextChange:!0}).component(),this.targetDatabaseDropDown.onValueChanged((()=>{this.tryEnableGenerateScriptAndOkButtons()}))),t=this.targetDatabaseDropDown):(void 0===this.targetDatabaseTextBox&&(this.targetDatabaseTextBox=e.modelBuilder.inputBox().withProps({ariaLabel:o.databaseNameLabel,required:!0,width:c.cssStyles.publishDialogDropdownWidth,value:this.getDefaultDatabaseName()}).component()),t=this.targetDatabaseTextBox);const r=e.modelBuilder.text().withProps({value:o.databaseNameLabel,requiredIndicator:!0,width:c.cssStyles.publishDialogLabelWidth}).component(),n={flex:"0 0 auto",CSSStyles:{"margin-right":"10px"}};return void 0===this.databaseRow?this.databaseRow=e.modelBuilder.flexContainer().withItems([r,t],n).withLayout({flexFlow:"row",alignItems:"center"}).component():(this.databaseRow.clearItems(),this.databaseRow.addItems([r,t],n)),this.databaseRow}createSqlCmdTable(e){this.sqlCmdVars={...this.project.sqlCmdVariables};const t=e.modelBuilder.declarativeTable().withProps({ariaLabel:o.sqlCmdVariables,dataValues:this.convertSqlCmdVarsToTableFormat(this.sqlCmdVars),columns:[{displayName:o.sqlCmdVariableColumn,valueType:a.getAzdataApi().DeclarativeDataType.string,width:"50%",isReadOnly:!0,headerCssStyles:c.cssStyles.tableHeader,rowCssStyles:c.cssStyles.tableRow},{displayName:o.sqlCmdValueColumn,valueType:a.getAzdataApi().DeclarativeDataType.string,width:"50%",isReadOnly:!1,headerCssStyles:c.cssStyles.tableHeader,rowCssStyles:c.cssStyles.tableRow}],width:"420px"}).component();return t.onDataChanged((()=>{this.sqlCmdVars={},t.dataValues?.forEach((e=>{this.sqlCmdVars[e[0].value]=e[1].value})),this.tryEnableGenerateScriptAndOkButtons()})),t}createLoadSqlCmdVarsButton(e){let t=e.modelBuilder.button().withProps({label:o.loadSqlCmdVarsButtonTitle,title:o.loadSqlCmdVarsButtonTitle,ariaLabel:o.loadSqlCmdVarsButtonTitle,width:"210px",iconPath:s.IconPathHelper.refresh,height:"18px",CSSStyles:{"font-size":"13px"}}).component();return t.onDidClick((async()=>{this.sqlCmdVars={...this.project.sqlCmdVariables};const e=this.convertSqlCmdVarsToTableFormat(this.sqlCmdVars);await this.sqlCmdVariablesTable.updateProperties({dataValues:e}),this.tryEnableGenerateScriptAndOkButtons()})),t}createSelectConnectionButton(e){let t=e.modelBuilder.button().withProps({ariaLabel:o.selectConnection,iconPath:s.IconPathHelper.selectConnection,height:"16px",width:"16px"}).component();return t.onDidClick((async()=>{let e=await a.getAzdataApi().connection.openConnectionDialog();this.connectionId=e.connectionId,this.serverName=e.options.server;let r=(0,l.getConnectionName)(e);await this.updateConnectionComponents(r,this.connectionId),e.options.database&&e.options.database!==o.master&&(this.targetDatabaseDropDown.value=e.options.database),t.iconPath=s.IconPathHelper.connect})),t}async updateConnectionComponents(e,t){if(this.targetConnectionTextBox.value=e,await this.targetConnectionTextBox.updateProperty("title",e),t){const e=(await a.getAzdataApi().connection.listDatabases(t)).filter((e=>!o.systemDbs.includes(e)));this.targetDatabaseDropDown.values=e}}createLoadProfileButton(e){let t=e.modelBuilder.button().withProps({ariaLabel:o.loadProfilePlaceholderText,iconPath:s.IconPathHelper.folder_blue,height:"18px",width:"18px"}).component();return t.onDidClick((async()=>{const e=await m(this.project.projectFolderPath);if(e&&0!==e.length&&this.readPublishProfile){const t=await this.readPublishProfile(e[0]);this.targetDatabaseName="",this.connectionId=t.connectionId,this.serverName=t.serverName,await this.updateConnectionComponents(t.connection,this.connectionId),t.databaseName&&(this.targetDatabaseName=t.databaseName),this.setDeploymentOptions(t.options),Object.keys(t.sqlCmdVariables).length?0===Object.keys(this.project.sqlCmdVariables).length&&0===Object.keys(this.sqlCmdVars).length&&this.formBuilder?.addFormItem(this.sqlCmdVariablesFormComponentGroup):0===Object.keys(this.project.sqlCmdVariables).length&&this.formBuilder?.removeFormItem(this.sqlCmdVariablesFormComponentGroup);for(let e in t.sqlCmdVariables)this.sqlCmdVars[e]=t.sqlCmdVariables[e];this.deploymentOptions=t.options;const r=this.convertSqlCmdVarsToTableFormat(this.getSqlCmdVariablesForPublish());await this.sqlCmdVariablesTable.updateProperties({dataValues:r}),this.loadProfileTextBox.value=e[0].fsPath,await this.loadProfileTextBox.updateProperty("title",e[0].fsPath)}})),t}convertSqlCmdVarsToTableFormat(e){let t=[];for(let r in e)t.push([{value:r},{value:e[r]}]);return t}tryEnableGenerateScriptAndOkButtons(){let e=!1,t=!1;this.existingServerRadioButton?.checked?(this.targetConnectionTextBox.value&&this.targetDatabaseDropDown.value||this.connectionIsDataSource&&this.targetDatabaseDropDown.value)&&this.allSqlCmdVariablesFilled()&&(e=!0,t=!0):a.validateSqlServerPortNumber(this.serverPortTextBox?.value)&&!a.isEmptyString(this.serverAdminPasswordTextBox?.value)&&a.isValidSQLPassword(this.serverAdminPasswordTextBox?.value||"",o.defaultLocalServerAdminName)&&this.serverAdminPasswordTextBox?.value===this.serverConfigAdminPasswordTextBox?.value&&this.eulaCheckBox?.checked&&(e=!0),this.dialog.okButton.enabled=e,this.dialog.customButtons[0].enabled=t}allSqlCmdVariablesFilled(){for(let e in this.sqlCmdVars)if(""===this.sqlCmdVars[e]||void 0===this.sqlCmdVars[e])return!1;return!0}createOptionsButton(e){this.optionsButton=e.modelBuilder.button().withProps({label:o.AdvancedOptionsButton,secondary:!0,width:c.cssStyles.PublishingOptionsButtonWidth}).component();const t=e.modelBuilder.flexContainer().withItems([this.optionsButton],{CSSStyles:{flex:"0 0 auto",margin:"-8px 0 0 307px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return this.toDispose.push(this.optionsButton.onDidClick((async()=>{u.TelemetryReporter.sendActionEvent(u.TelemetryViews.SqlProjectPublishDialog,u.TelemetryActions.publishOptionsOpened),this.publishOptionsDialog=new d.PublishOptionsDialog(this.deploymentOptions,this),this.publishOptionsDialog.openDialog()}))),t}async getDefaultDeploymentOptions(){const e=await a.getDefaultPublishDeploymentOptions(this.project);return e&&void 0!==e.excludeObjectTypes&&(e.excludeObjectTypes.value=[]),e}setDeploymentOptions(e){this.deploymentOptions=e}},t.promptForPublishProfile=m},3773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launchPublishTargetOption=t.getPublishDatabaseSettings=void 0;const n=r(7549),o=r(6078),a=r(5932),i=r(5444),s=r(1027),c=r(2935);t.getPublishDatabaseSettings=async function(e,t=!0){const r=n.window.createQuickPick();r.items=[{label:o.dontUseProfile},{label:o.browseForProfileWithIcon}],r.ignoreFocusOut=!0,r.title=o.selectProfileToUse;const c=new Promise(((t,n)=>{r.onDidHide((()=>{n()})),r.onDidChangeSelection((async n=>{if(n[0].label===o.browseForProfileWithIcon){const n=await(0,i.promptForPublishProfile)(e.projectFolderPath);if(!n)return r.selectedItems=[],void(r.activeItems=[]);let o=n[0];try{r.busy=!0,r.enabled=!1;const e=await(0,a.readPublishProfile)(o);t(e)}catch(e){r.selectedItems=[],r.activeItems=[],r.busy=!1,r.enabled=!0}}else t(void 0)}))}));let l,u,p,d;r.show();try{l=await c}catch(e){return}if(r.hide(),t){const e=await(0,s.getVscodeMssqlApi)();for(;!p;){if(u=await e.promptForConnection(!0),!u)return;try{try{d=await e.connect(u)}catch(t){if(!t?.connectionUri)throw t;await e.promptForFirewallRule(t.connectionUri,u),d=await e.connect(u)}p=await e.listDatabases(d)}catch(e){}}}else p=[];const m=p.filter((e=>!o.systemDbs.includes(e))).map((e=>({label:e})));m.unshift({label:`$(add) ${o.createNew}`,isCreateNew:!0});const h=l?.databaseName||e.projectFileName,f=p.findIndex((e=>e===h));let g;for(-1===f?m.unshift({label:h,description:o.newText}):(m.splice(f,1),m.unshift({label:h}));!g;){const e=await n.window.showQuickPick(m,{title:o.selectDatabase,ignoreFocusOut:!0});if(!e)return;g=e.label,e.isCreateNew&&(g=await n.window.showInputBox({title:o.enterNewDatabaseName,ignoreFocusOut:!0,validateInput:e=>e?void 0:o.nameMustNotBeEmpty})??"")}let v=Object.assign({},e.sqlCmdVariables,l?.sqlCmdVariables);if(Object.keys(v).length>0)for(;;){const t=Object.keys(v).map((e=>({label:e,description:v[e],key:e})));t.push({label:`$(refresh) ${o.resetAllVars}`,isResetAllVars:!0}),t.unshift({label:`$(check) ${o.done}`,isDone:!0});const r=await n.window.showQuickPick(t,{title:o.chooseSqlcmdVarsToModify,ignoreFocusOut:!0});if(!r)break;if(r.key){const e=await n.window.showInputBox({title:o.enterNewValueForVar(r.key),value:v[r.key],ignoreFocusOut:!0});e&&(v[r.key]=e)}else if(r.isResetAllVars)v=Object.assign({},e.sqlCmdVariables,l?.sqlCmdVariables);else if(r.isDone)break}return{databaseName:g,serverName:u?.server||"",connectionUri:d||"",sqlCmdVariables:v,deploymentOptions:l?.options??await(0,s.getDefaultPublishDeploymentOptions)(e),profileUsed:!!l}},t.launchPublishTargetOption=async function(e){const t=e.getProjectTargetVersion(),r=(0,c.getPublishServerName)(t),a=t===o.targetPlatformToVersion.get("Azure SQL Database")?o.AzureSqlLogicalServerName:o.SqlServerName,i=t===o.targetPlatformToVersion.get("Azure SQL Database")?[o.publishToAzureEmulator,o.publishToNewAzureServer,o.publishToExistingServer(a)]:[o.publishToDockerContainer(r),o.publishToExistingServer(a)],s=await n.window.showQuickPick(i,{title:o.selectPublishOption,ignoreFocusOut:!0});if(s)switch(s){case o.publishToExistingServer(r):return o.PublishTargetType.existingServer;case o.publishToDockerContainer(r):case o.publishToAzureEmulator:return o.PublishTargetType.docker;case o.publishToNewAzureServer:return o.PublishTargetType.newAzureServer;default:return o.PublishTargetType.existingServer}}},4625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublishOptionsDialog=void 0;const n=r(6078),o=r(1027),a=r(8102),i=r(1845);t.PublishOptionsDialog=class{constructor(e,t){this.publish=t,this.disposableListeners=[],this.optionsChanged=!1,this.isResetOptionsClicked=!1,this.optionsModel=new a.DeployOptionsModel(e)}initializeDialog(){this.optionsTab=o.getAzdataApi().window.createTab(n.PublishOptions),this.excludeObjectTypesOptionsTab=o.getAzdataApi().window.createTab(n.ExcludeObjectTypeTab),this.initializeDeploymentOptionsDialogTab(),this.initializeExcludeObjectTypesOptionsDialogTab(),this.dialog.content=[this.optionsTab,this.excludeObjectTypesOptionsTab]}openDialog(){this.dialog=o.getAzdataApi().window.createModelViewDialog(n.AdvancedPublishOptions),this.initializeDialog(),this.dialog.okButton.label=n.okString,this.dialog.okButton.onClick((()=>this.execute())),this.dialog.cancelButton.label=n.cancelButtonText,this.dialog.cancelButton.onClick((()=>this.cancel()));let e=o.getAzdataApi().window.createButton(n.ResetButton);e.onClick((async()=>await this.reset())),e.enabled=this.publish.publishOptionsModified,this.dialog.customButtons=[e],o.getAzdataApi().window.openDialog(this.dialog)}initializeDeploymentOptionsDialogTab(){this.optionsTab?.registerContent((async e=>{const t=e.modelBuilder.loadingComponent().withProps({CSSStyles:{"margin-top":"50%"}}).component();this.optionsFlexBuilder=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component(),this.optionsFlexBuilder.addItem(t),await e.initializeModel(this.optionsFlexBuilder),this.descriptionHeading=e.modelBuilder.table().withProps({data:[],columns:[{value:n.OptionDescription,headerCssClass:"no-borders",toolTip:n.OptionDescription}]}).component(),this.descriptionText=e.modelBuilder.text().withProps({value:" "}).component(),this.optionsTable=e.modelBuilder.table().component(),await this.updateOptionsTable(),this.disposableListeners.push(this.optionsTable.onRowSelected((async()=>{const e=this.optionsTable?.selectedRows[0],t=this.optionsTable?.data[e][1];await(this.descriptionText?.updateProperties({value:this.optionsModel.getOptionDescription(t)}))}))),this.disposableListeners.push(this.optionsTable.onCellAction((e=>{const t=e;if(t&&void 0!==t.row){const e=this.optionsTable?.data[t.row][1];this.optionsModel.setOptionValue(e,t.checked),this.optionsChanged=!0,this.dialog.customButtons[0].enabled=!0}}))),this.optionsFlexBuilder.addItem(this.optionsTable,{CSSStyles:{overflow:"scroll",height:"65vh","padding-top":"2px"}}),this.optionsFlexBuilder.addItem(this.descriptionHeading,{CSSStyles:{"font-weight":"bold",height:"30px"}}),this.optionsFlexBuilder.addItem(this.descriptionText,{CSSStyles:{padding:"4px","margin-right":"10px",overflow:"scroll",height:"10vh"}}),t.loading=!1,await e.initializeModel(this.optionsFlexBuilder),await this.optionsTable.focus()}))}initializeExcludeObjectTypesOptionsDialogTab(){this.excludeObjectTypesOptionsTab?.registerContent((async e=>{this.excludeObjectTypesOptionsTable=e.modelBuilder.table().component(),await this.updateExcludeObjectsTable(),this.disposableListeners.push(this.excludeObjectTypesOptionsTable.onCellAction((e=>{const t=e;if(t&&void 0!==t.row){const e=this.excludeObjectTypesOptionsTable?.data[t.row][1];this.optionsModel.setExcludeObjectTypesOptionValue(e,t.checked),this.optionsChanged=!0,this.dialog.customButtons[0].enabled=!0}}))),this.excludeObjectTypesOptionsFlexBuilder=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component(),this.excludeObjectTypesOptionsFlexBuilder.addItem(this.excludeObjectTypesOptionsTable,{CSSStyles:{overflow:"scroll",height:"80vh","padding-top":"2px"}}),await e.initializeModel(this.excludeObjectTypesOptionsFlexBuilder)}))}async updateOptionsTable(){const e=this.optionsModel.getOptionsData();await(this.optionsTable?.updateProperties({data:e,columns:[{value:n.OptionInclude,type:o.getAzdataApi().ColumnType.checkBox,action:o.getAzdataApi().ActionOnCellCheckboxCheck.customAction,headerCssClass:"display-none",cssClass:"no-borders align-with-header",width:50},{value:n.OptionName,headerCssClass:"display-none",cssClass:"no-borders align-with-header",width:50}],ariaRowCount:e.length}))}async updateExcludeObjectsTable(){const e=this.optionsModel.getExcludeObjectTypesOptionsData();await(this.excludeObjectTypesOptionsTable?.updateProperties({data:e,columns:[{value:n.OptionInclude,type:o.getAzdataApi().ColumnType.checkBox,action:o.getAzdataApi().ActionOnCellCheckboxCheck.customAction,headerCssClass:"display-none",cssClass:"no-borders align-with-header",width:50},{value:n.OptionName,headerCssClass:"display-none",cssClass:"no-borders align-with-header",width:50}],ariaRowCount:e.length}))}execute(){this.optionsModel.setDeploymentOptions(),this.optionsModel.setExcludeObjectTypesToDeploymentOptions(),this.publish.setDeploymentOptions(this.optionsModel.deploymentOptions),this.disposeListeners(),this.optionsChanged&&i.TelemetryReporter.sendActionEvent(i.TelemetryViews.PublishOptionsDialog,i.TelemetryActions.optionsChanged),this.publish.publishOptionsModified=!(this.isResetOptionsClicked&&!this.optionsChanged)&&(this.optionsChanged||this.publish.publishOptionsModified)}cancel(){this.disposeListeners()}async reset(){const e=await this.publish.getDefaultDeploymentOptions();this.optionsModel.deploymentOptions=e,this.optionsModel.setOptionsToValueNameLookup(),this.optionsModel.setExcludeObjectTypesLookup(),await this.updateOptionsTable(),this.optionsFlexBuilder?.removeItem(this.optionsTable),this.optionsFlexBuilder?.insertItem(this.optionsTable,0,{CSSStyles:{overflow:"scroll",height:"65vh","padding-top":"2px"}}),i.TelemetryReporter.sendActionEvent(i.TelemetryViews.PublishOptionsDialog,i.TelemetryActions.resetOptions),await this.updateExcludeObjectsTable(),this.excludeObjectTypesOptionsFlexBuilder?.removeItem(this.excludeObjectTypesOptionsTable),this.excludeObjectTypesOptionsFlexBuilder?.addItem(this.excludeObjectTypesOptionsTable,{CSSStyles:{overflow:"scroll",height:"80vh","padding-top":"2px"}}),this.isResetOptionsClicked=!0,this.optionsChanged=!1}disposeListeners(){this.disposableListeners.forEach((e=>e.dispose()))}}},5603:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateProjectFromDatabaseDialog=void 0;const n=r(7549),o=r(6078),a=r(2527),i=r(2178),s=r(9799),c=r(5894),l=r(1027),u=r(5622);t.UpdateProjectFromDatabaseDialog=class{constructor(e,t){this.project=t,this.toDispose=[],this.initDialogPromise=new i.Deferred,this.populatedInputsPromise=new i.Deferred,e&&"connectionName"in e&&(this.profile=e),this.dialog=(0,l.getAzdataApi)().window.createModelViewDialog(o.updateProjectFromDatabaseDialogName,"updateProjectFromDatabaseDialog"),this.updateProjectFromDatabaseTab=(0,l.getAzdataApi)().window.createTab(o.updateProjectFromDatabaseDialogName),this.dialog.registerCloseValidator((async()=>this.validate())),this.toDispose.push(this.dialog.onClosed((e=>this.initDialogPromise.resolve())))}async openDialog(){let e=await(0,l.getAzdataApi)().connection.getCurrentConnection();e&&(this.connectionId=e.connectionId),this.initializeDialog(),this.dialog.okButton.label=o.updateText,this.dialog.okButton.enabled=!1,this.toDispose.push(this.dialog.okButton.onClick((async()=>await this.handleUpdateButtonClick()))),this.dialog.cancelButton.label=o.cancelButtonText,(0,l.getAzdataApi)().window.openDialog(this.dialog),await this.initDialogPromise,this.tryEnableUpdateButton()}dispose(){this.toDispose.forEach((e=>e.dispose()))}initializeDialog(){this.initializeUpdateProjectFromDatabaseTab(),this.dialog.content=[this.updateProjectFromDatabaseTab]}initializeUpdateProjectFromDatabaseTab(){this.updateProjectFromDatabaseTab.registerContent((async e=>{const t=this.createServerRow(e),r=this.createDatabaseRow(e);await this.populateServerDropdown();const n=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();n.addItems([t,r]);const a=this.createProjectLocationRow(e),i=this.createFolderStructureRow(e),c=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();c.addItems([a,i]);const l=await this.createActionRow(e),u=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();u.addItems([l]),this.formBuilder=e.modelBuilder.formContainer().withFormItems([{title:o.sourceDatabase,components:[{component:n}]},{title:o.targetProject,components:[{component:c}]},{title:o.updateAction,components:[{component:u}]}],{horizontal:!1,titleFontSize:s.cssStyles.titleFontSize}).withLayout({width:"100%",padding:"10px 10px 0 20px"});let p=this.formBuilder.component();await e.initializeModel(p),await(this.connectionButton?.focus()),this.initDialogPromise.resolve()}))}createServerRow(e){this.createServerComponent(e);const t=e.modelBuilder.text().withProps({value:o.server,requiredIndicator:!0,width:s.cssStyles.updateProjectFromDatabaseLabelWidth}).component(),r=e.modelBuilder.flexContainer().withItems([t,this.serverDropdown],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-5px","margin-top":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return r.addItem(this.connectionButton,{CSSStyles:{"margin-right":"0px","margin-bottom":"-5px","margin-top":"-10px"}}),r}createDatabaseRow(e){this.createDatabaseComponent(e);const t=e.modelBuilder.text().withProps({value:o.databaseNameLabel,requiredIndicator:!0,width:s.cssStyles.updateProjectFromDatabaseLabelWidth}).component();return e.modelBuilder.flexContainer().withItems([t,this.databaseDropdown],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component()}createServerComponent(e){this.serverDropdown=e.modelBuilder.dropDown().withProps({editable:!0,fireOnTextChange:!0,width:s.cssStyles.updateProjectFromDatabaseTextboxWidth}).component(),this.createConnectionButton(e),this.serverDropdown.onValueChanged((()=>{this.tryEnableUpdateButton()}))}createDatabaseComponent(e){this.databaseDropdown=e.modelBuilder.dropDown().withProps({editable:!0,fireOnTextChange:!0,width:s.cssStyles.updateProjectFromDatabaseTextboxWidth}).component(),this.databaseDropdown.onValueChanged((()=>{this.tryEnableUpdateButton()}))}async populateServerDropdown(){this.serverDropdown.loading=!0;const e=await this.getServerValues();e&&e.length>0&&await this.serverDropdown.updateProperties({values:e,value:e[0]}),this.serverDropdown.loading=!1,this.serverDropdown.value&&await this.populateDatabaseDropdown(),this.tryEnableUpdateButton(),this.populatedInputsPromise.resolve()}async populateDatabaseDropdown(){const e=this.serverDropdown.value.connection;this.databaseDropdown.loading=!0,await this.databaseDropdown.updateProperties({values:[],value:void 0});let t=[];try{t=await this.getDatabaseValues(e.connectionId);const r=t.filter((e=>o.systemDbs.includes(e)));t=t.filter((e=>!o.systemDbs.includes(e))).concat(r)}catch(r){t=[e.databaseName],console.warn(r)}t&&t.length>0&&await this.databaseDropdown.updateProperties({values:t,value:t[0]}),this.databaseDropdown.loading=!1}async getServerValues(){let e=await(0,l.getAzdataApi)().connection.getConnections(!0);if(!e||0===e.length)return;this.connectionButton.iconPath=c.IconPathHelper.connect,e.reverse();let t=-1,r=-1,n=e.map((e=>{t++;let n=e.options.user;n||(n=o.defaultUser);let a=e.options.server,i=`${a} (${n})`;return e.options.connectionName&&(i=e.options.connectionName),e.connectionId===this.connectionId&&(r=t),{connection:e,displayName:i,name:a}}));if(r>=1){let e=n[0];n[0]=n[r],n[r]=e}return n=n.reduce(((e,t)=>(e.find((e=>e.displayName===t.displayName))||e.push(t),e)),[]),n}async getDatabaseValues(e){let t=-1,r=-1,n=(await(0,l.getAzdataApi)().connection.listDatabases(e)).sort(((e,t)=>e.localeCompare(t))).map((e=>(r++,this.profile&&this.profile.databaseName&&this.profile.databaseName===e&&(t=r),e)));if(t>=0){let e=n[0];n[0]=n[t],n[t]=e}return n}createConnectionButton(e){this.connectionButton=e.modelBuilder.button().withProps({ariaLabel:o.selectConnection,iconPath:c.IconPathHelper.selectConnection,height:"20px",width:"20px"}).component(),this.connectionButton.onDidClick((async()=>{await this.connectionButtonClick(),this.connectionButton.iconPath=c.IconPathHelper.connect}))}async connectionButtonClick(){let e=await(0,l.getAzdataApi)().connection.openConnectionDialog();e&&(this.connectionId=e.connectionId,await this.populateServerDropdown())}createProjectLocationRow(e){const t=this.createBrowseFileButton(e),r=this.project?this.project.projectFilePath:"";this.projectFileTextBox=e.modelBuilder.inputBox().withProps({value:r,ariaLabel:o.projectLocationLabel,placeHolder:o.projectToUpdatePlaceholderText,width:s.cssStyles.updateProjectFromDatabaseTextboxWidth}).component(),this.projectFileTextBox.onTextChanged((async()=>{await this.projectFileTextBox.updateProperty("title",this.projectFileTextBox.value),this.tryEnableUpdateButton()}));const n=e.modelBuilder.text().withProps({value:o.projectLocationLabel,requiredIndicator:!0,width:s.cssStyles.updateProjectFromDatabaseLabelWidth}).component(),a=e.modelBuilder.flexContainer().withItems([n],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-5px","margin-top":"-7px"}}).component();return a.addItem(this.projectFileTextBox,{CSSStyles:{"margin-right":"10px"}}),a.addItem(t,{CSSStyles:{"margin-top":"2px"}}),a}createBrowseFileButton(e){const t=e.modelBuilder.button().withProps({ariaLabel:o.browseButtonText,iconPath:c.IconPathHelper.folder_blue,height:"18px",width:"18px"}).component();return t.onDidClick((async()=>{let e=await n.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,openLabel:o.selectString,defaultUri:a.defaultProjectSaveLocation(),filters:{Files:["sqlproj"]}});e&&0!==e.length&&(this.projectFileTextBox.value=e[0].fsPath,await this.projectFileTextBox.updateProperty("title",e[0].fsPath))})),t}createFolderStructureRow(e){this.folderStructureDropDown=e.modelBuilder.dropDown().withProps({values:[o.file,o.flat,o.objectType,o.schema,o.schemaObjectType],value:o.schemaObjectType,ariaLabel:o.folderStructureLabel,required:!0,width:s.cssStyles.updateProjectFromDatabaseTextboxWidth}).component(),this.folderStructureDropDown.onValueChanged((()=>{this.tryEnableUpdateButton()}));const t=e.modelBuilder.text().withProps({value:o.folderStructureLabel,requiredIndicator:!0,width:s.cssStyles.createProjectFromDatabaseLabelWidth}).component();return e.modelBuilder.flexContainer().withItems([t,this.folderStructureDropDown],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-bottom":"-10px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component()}async createActionRow(e){this.compareActionRadioButton=e.modelBuilder.radioButton().withProps({name:"action",label:o.compareActionRadioButtonLabel,checked:!0}).component(),this.updateActionRadioButton=e.modelBuilder.radioButton().withProps({name:"action",label:o.updateActionRadioButtonLabel}).component(),await this.compareActionRadioButton.updateProperties({checked:!0}),this.action=0,this.compareActionRadioButton.onDidClick((async()=>{this.action=0,this.tryEnableUpdateButton()})),this.updateActionRadioButton.onDidClick((async()=>{this.action=1,this.tryEnableUpdateButton()}));let t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).withItems([this.compareActionRadioButton,this.updateActionRadioButton]).withProps({ariaRole:"radiogroup"}).component();const r=e.modelBuilder.text().withProps({value:o.actionLabel,requiredIndicator:!0,width:s.cssStyles.updateProjectFromDatabaseLabelWidth}).component(),n=e.modelBuilder.flexContainer().withItems([r],{flex:"0 0 auto",CSSStyles:{"margin-right":"10px","margin-top":"-17px"}}).withLayout({flexFlow:"row",alignItems:"center"}).component();return n.addItem(t),n}tryEnableUpdateButton(){this.serverDropdown?.value&&this.databaseDropdown?.value&&this.projectFileTextBox?.value&&this.folderStructureDropDown?.value&&void 0!==this.action?this.dialog.okButton.enabled=!0:this.dialog.okButton.enabled=!1}async handleUpdateButtonClick(){const e=this.serverDropdown.value,t=await(0,l.getAzdataApi)().connection.getUriForConnection(e.connection.connectionId);let r=(await(0,l.getAzdataApi)().connection.getConnections(!0)).filter((t=>t.connectionId===e.connection.connectionId))[0];r.databaseName=this.databaseDropdown.value;const n=await(0,l.getAzdataApi)().connection.getCredentials(r.connectionId);n.hasOwnProperty("password")&&(r.password=r.options.password=n.password);const o={id:r.connectionId,userName:r.userName,password:r.password,serverName:r.serverName,databaseName:r.databaseName,connectionName:r.connectionName,providerName:r.providerId,groupId:r.groupId,groupFullName:r.groupFullName,authenticationType:r.authenticationType,savePassword:r.savePassword,saveProfile:r.saveProfile,options:r.options},a={sourceEndpointInfo:{endpointType:0,databaseName:this.databaseDropdown.value,serverDisplayName:e.displayName,serverName:e.name,connectionDetails:o,ownerUri:t,projectFilePath:"",folderStructure:"",targetScripts:[],dataSchemaProvider:"",packageFilePath:"",connectionName:e.connection.options.connectionName},targetEndpointInfo:{endpointType:2,projectFilePath:this.projectFileTextBox.value,folderStructure:this.folderStructureDropDown.value,targetScripts:[],dataSchemaProvider:"",connectionDetails:o,databaseName:"",serverDisplayName:"",serverName:"",ownerUri:"",packageFilePath:""},action:this.action};this.updateProjectFromDatabaseCallback(a),this.dispose()}async validate(){try{return!1!==await(0,l.getDataWorkspaceExtensionApi)().validateWorkspace()&&(await(0,l.exists)(u.dirname(this.projectFileTextBox.value))?await(0,l.exists)(this.projectFileTextBox.value)?!!n.extensions.getExtension(o.schemaCompareExtensionId)||(this.showErrorMessage(o.noSchemaCompareExtension),!1):(this.showErrorMessage(o.noSqlProjFile),!1):(this.showErrorMessage(o.ProjectParentDirectoryNotExistError(this.projectFileTextBox.value)),!1))}catch(e){return this.showErrorMessage(e?.message?e.message:e),!1}}showErrorMessage(e){this.dialog.message={text:e,level:(0,l.getAzdataApi)().window.MessageLevel.Error}}}},2935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultDockerImageWithTag=t.getDockerBaseImages=t.getImageTags=t.getDockerImagePlaceHolder=t.getPublishServerName=t.getAgreementDisplayText=t.getConnectionName=void 0;const n=r(6078),o=r(1027),a=r(8534);t.getConnectionName=function(e){let t;if(e.options.connectionName)t=e.options.connectionName;else{let r=e.options.user;r||(r=n.defaultUser),t=`${e.options.server} (${r})`}return t},t.getAgreementDisplayText=function(e){return n.eulaAgreementText(e.link.text)},t.getPublishServerName=function(e){return e===n.targetPlatformToVersion.get("Azure SQL Database")?n.AzureSqlServerName:n.SqlServerName},t.getDockerImagePlaceHolder=function(e){return e===n.targetPlatformToVersion.get("Azure SQL Database")?n.dockerImagesPlaceHolder(n.AzureSqlDbLiteDockerImageName):n.dockerImagesPlaceHolder("Azure SQL Edge")},t.getImageTags=async function(e,t){let r=[];const i=new Map;try{const s=await a.HttpClient.getRequest(e?.tagsUrl,!0);if(s?.tags){let e=0,a=e;s.tags.forEach((t=>{const r=o.findSqlVersionInImageName(t)||e;let n=i.has(r)?i.get(r):[];n=n??[],n=n?.concat(t),i.set(r,n),a=r&&r>a?r:a}));const c=o.findSqlVersionInTargetPlatform(n.getTargetPlatformFromVersion(t))||a;i.forEach(((t,n)=>{(n===e||n>=c)&&(r=r?.concat(t))})),r=r??[],r=r.sort(((e,t)=>e.indexOf(n.dockerImageDefaultTag)>0?-1:e.localeCompare(t)))}}catch(e){console.debug(`Failed to get docker image tags ${e}`)}return r},t.getDockerBaseImages=function(e){return e===n.targetPlatformToVersion.get("Azure SQL Database")?[{name:`${n.sqlServerDockerRegistry}/${n.sqlServerDockerRepository}`,displayName:n.AzureSqlDbFullDockerImageName,agreementInfo:{link:{text:n.eulaAgreementTitle,url:n.sqlServerEulaLink}},tagsUrl:`https://${n.sqlServerDockerRegistry}/v2/${n.sqlServerDockerRepository}/tags/list`,defaultTag:n.dockerImageDefaultTag},{name:`${n.sqlServerDockerRegistry}/${n.azureSqlEdgeDockerRepository}`,displayName:n.AzureSqlDbLiteDockerImageName,agreementInfo:{link:{text:n.edgeEulaAgreementTitle,url:n.sqlServerEdgeEulaLink}},tagsUrl:`https://${n.sqlServerDockerRegistry}/v2/${n.azureSqlEdgeDockerRepository}/tags/list`,defaultTag:n.dockerImageDefaultTag}]:[{name:`${n.sqlServerDockerRegistry}/${n.sqlServerDockerRepository}`,displayName:n.SqlServerDockerImageName,agreementInfo:{link:{text:n.eulaAgreementTitle,url:n.sqlServerEulaLink}},tagsUrl:`https://${n.sqlServerDockerRegistry}/v2/${n.sqlServerDockerRepository}/tags/list`,defaultTag:n.dockerImageDefaultTag},{name:`${n.sqlServerDockerRegistry}/${n.azureSqlEdgeDockerRepository}`,displayName:"Azure SQL Edge",agreementInfo:{link:{text:n.edgeEulaAgreementTitle,url:n.sqlServerEdgeEulaLink}},tagsUrl:`https://${n.sqlServerDockerRegistry}/v2/${n.azureSqlEdgeDockerRepository}/tags/list`,defaultTag:n.dockerImageDefaultTag}]},t.getDefaultDockerImageWithTag=function(e,t,r){if(r?.displayName===n.SqlServerDockerImageName)switch(e){case n.targetPlatformToVersion.get("SQL Server 2022"):t=`${t}:2022-latest`;break;case n.targetPlatformToVersion.get("SQL Server 2019"):t=`${t}:2019-latest`;break;case n.targetPlatformToVersion.get("SQL Server 2017"):t=`${t}:2017-latest`}return t}},2734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionService=void 0;const n=r(6078),o=r(1027),a=r(7549);t.ConnectionService=class{constructor(e){this._outputChannel=e,this.defaultSqlRetryTimeoutInSec=10,this.defaultSqlNumberOfRetries=3}async connectToDatabase(e,t,r){const n=o.getAzdataApi(),i=n?void 0:await o.getVscodeMssqlApi();if(n){const o={password:e.password,serverName:`${e.serverName},${e.port}`,database:r,savePassword:t,userName:e.userName,providerName:"MSSQL",saveProfile:!1,id:"",connectionName:e.profileName,options:[],authenticationType:"SqlLogin"};return await n.connection.connect(o,t,!1)}if(i){const n={password:e.password,server:`${e.serverName}`,port:e.port,database:r,savePassword:t,user:e.userName,authenticationType:"SqlLogin",encrypt:!1,connectTimeout:30,applicationName:"SQL Database Project",accountId:e.accountId,azureAccountToken:void 0,applicationIntent:void 0,attachDbFilename:void 0,connectRetryCount:void 0,connectRetryInterval:void 0,connectionString:void 0,currentLanguage:void 0,email:void 0,failoverPartner:void 0,loadBalanceTimeout:void 0,maxPoolSize:void 0,minPoolSize:void 0,multiSubnetFailover:void 0,multipleActiveResultSets:void 0,packetSize:void 0,persistSecurityInfo:void 0,pooling:void 0,replication:void 0,trustServerCertificate:void 0,typeSystemVersion:void 0,workstationId:void 0,profileName:e.profileName,expiresOn:void 0,tenantId:e.tenantId};let o="";try{o=await i.connect(n,t)}catch(e){if(!e?.connectionUri)throw e;await i.promptForFirewallRule(e.connectionUri,n)}return t&&o&&await a.commands.executeCommand("objectExplorer.focus"),o}}async validateConnection(e){const t=o.getAzdataApi();if(e){if(t){const t=e;if(t){const e=void 0!==t&&t.connected&&void 0!==t.connectionId;return{validated:e,errorMessage:e?"":n.connectionFailedError(t?.errorMessage)}}return{validated:!1,errorMessage:n.connectionFailedError("")}}return{validated:void 0!==e,errorMessage:n.connectionFailedError("")}}return{validated:!1,errorMessage:n.connectionFailedError("No result returned")}}async formatConnectionResult(e){const t=o.getAzdataApi(),r=void 0!==e&&t?e:void 0;return r?.connected?r.connectionId:e}async getConnection(e,t,r){const a=o.getAzdataApi();let i=await o.retry(n.connectingToSqlServerMessage,(async()=>await this.connectToDatabase(e,t,r)),this.validateConnection,this.formatConnectionResult,this._outputChannel,this.defaultSqlNumberOfRetries,e.connectionRetryTimeout||this.defaultSqlRetryTimeoutInSec);if(i){const e=i;return a?(o.throwIfNotConnected(e),a.connection.getUriForConnection(e.connectionId)):i}}}},891:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Status=t.PublishData=t.DashboardData=void 0;class r{constructor(e,t,r,n){this.projectFile=e,this.status=t,this.target=r,this.timeToCompleteAction="",this.startDate=n}}var n;t.DashboardData=r,t.PublishData=class extends r{constructor(e,t,r,n,o,a){super(e,t,r,n),this.targetDatabase=o,this.targetServer=a}},(n=t.Status||(t.Status={}))[n.success=0]="success",n[n.failed=1]="failed",n[n.inProgress=2]="inProgress"},9018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=t.NoDataSourcesFileError=t.DataSource=void 0;const n=r(5747),o=r(6078);t.DataSource=class{constructor(e){this.name=e}};class a extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=a.name}}t.NoDataSourcesFileError=a,t.load=async function(e){let t;try{t=await n.promises.readFile(e)}catch(e){throw new a(o.noDataSourcesFile)}const r=JSON.parse(t.toString());if(void 0===r.version)throw new Error(o.missingVersion);switch(r.version){case"0.0.0":break;default:throw new Error(o.unrecognizedDataSourcesVersion+r.version)}return[]}},6502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SqlConnectionDataSource=void 0;const n=r(9018),o=r(6078);class a extends n.DataSource{constructor(e,t){super(e),this.connectionStringComponents={},this.connectionString=t;const r=this.connectionString.split(";").filter((e=>""!==e));for(const e of r){const t=e.split("=");if(2!==t.length)throw new Error(o.invalidSqlConnectionString);this.connectionStringComponents[t[0].toLocaleLowerCase()]=t[1]}}static get type(){return"sql_connection_string"}get type(){return a.type}get typeFriendlyName(){return o.sqlConnectionStringFriendly}get server(){return this.getSetting(o.dataSourceSetting)}get database(){return this.getSetting(o.initialCatalogSetting)}get integratedSecurity(){return"true"===this.getSetting(o.integratedSecuritySetting)?.toLowerCase()}get azureMFA(){return this.getSetting(o.authenticationSetting)?.toLowerCase().includes(o.activeDirectoryInteractive)}get authType(){return this.azureMFA?o.azureMfaAuth:this.integratedSecurity?o.integratedAuth:o.sqlAuth}get username(){return this.getSetting(o.userIdSetting)}get password(){return this.getSetting(o.passwordSetting)}getSetting(e){return this.connectionStringComponents[e.toLocaleLowerCase()]}static fromJson(e){return new a(e.name,e.data.connectionString)}getConnectionProfile(){return{serverName:this.server,databaseName:this.database,connectionName:this.name,userName:this.username,password:this.password,authenticationType:this.authType,savePassword:!1,providerName:"MSSQL",saveProfile:!0,id:this.name+"-dataSource",options:[]}}}t.SqlConnectionDataSource=a},5566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureSqlClient=void 0;const n=r(1027);t.AzureSqlClient=class{constructor(e=n.defaultAzureAccountServiceFactory,t=n.defaultAzureResourceServiceFactory){this._azureAccountServiceFactory=e,this._azureResourceServiceFactory=t}async getAccounts(){const e=await this._azureAccountServiceFactory();return await e.getAccounts()}async getAccount(){const e=await this._azureAccountServiceFactory();return await e.addAccount()}async getLocations(e){const t=await this._azureResourceServiceFactory();return await t.getLocations(e)}async getSessions(e){const t=await this._azureAccountServiceFactory();return await t.getAccountSessions(e)}async createOrUpdateServer(e,t,r,n){const o=await this._azureResourceServiceFactory();return await o.createOrUpdateServer(e,t,r,n)}async getResourceGroups(e){const t=await this._azureResourceServiceFactory();return await t.getResourceGroups(e)}}},5736:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AppSettingType=void 0,(r=t.AppSettingType||(t.AppSettingType={}))[r.None=0]="None",r[r.AzureFunction=1]="AzureFunction"},5892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDockerImageSpec=t.DeployService=void 0;const n=r(2884),o=r(6078),a=r(1027),i=r(7549),s=r(3848),c=r(5566),l=r(2734);function u(e,t,r){r=r??n.generateUuid();const a=/[^a-zA-Z0-9_,\-]/g;let i=e.replace(a,"");const s=t.replace(":","-").replace(o.sqlServerDockerRegistry,"").replace(a,"");return i=i.substring(0,128-(o.dockerImageNamePrefix.length+s.length+2)),{label:`${o.dockerImageLabelPrefix}-${i}`.toLocaleLowerCase(),tag:`${o.dockerImageNamePrefix}-${i}-${s}`.toLocaleLowerCase(),containerName:`${o.dockerImageNamePrefix}-${i}-${r}`.toLocaleLowerCase()}}t.DeployService=class{constructor(e=new c.AzureSqlClient,t,r){this._azureSqlClient=e,this._outputChannel=t,this._shellExecutionHelper=r??new s.ShellExecutionHelper(this._outputChannel),this._connectionService=new l.ConnectionService(this._outputChannel)}async verifyDocker(){try{await this.executeCommand("docker version --format {{.Server.APIVersion}}")}catch(e){throw Error(o.dockerNotRunningError(a.getErrorMessage(e)))}}async createNewAzureSqlServer(e){if(!e?.sqlDbSetting)return;this.logToOutput(o.creatingAzureSqlServer(e?.sqlDbSetting?.serverName));const t=await this._azureSqlClient.createOrUpdateServer(e.sqlDbSetting.session,e?.sqlDbSetting.resourceGroupName,e?.sqlDbSetting.serverName,{location:e?.sqlDbSetting?.location,administratorLogin:e?.sqlDbSetting.userName,administratorLoginPassword:e?.sqlDbSetting.password});return t?(this._outputChannel.appendLine(o.serverCreated),e.sqlDbSetting.serverName=t,this.logToOutput(o.azureSqlServerCreated(e?.sqlDbSetting?.serverName)),await this._connectionService.getConnection(e.sqlDbSetting,!1,o.master)):void 0}async deployToContainer(e,t){return await this.executeTask(o.deployDbTaskName,(async()=>{await this.verifyDocker(),this.logToOutput(o.dockerImageMessage),this.logToOutput(e.dockerSettings.dockerBaseImage),this.logToOutput(o.dockerImageEulaMessage),this.logToOutput(e.dockerSettings.dockerBaseImageEula);const r=u(t.projectFileName,e.dockerSettings.dockerBaseImage);e.dockerSettings.profileName||(e.dockerSettings.profileName=r.containerName),await this.cleanDockerObjectsIfNeeded(r.label),this.logToOutput(o.creatingDeploymentSettingsMessage),this.logToOutput(o.runningDockerMessage);const n=await this.runDockerContainer(r,e.dockerSettings);this.logToOutput(`Docker container created. Id: ${n}`);const i=await a.retry("Validating the docker container",(async()=>this.executeCommand(`docker ps -q -a --filter label=${r.label} -q`)),(e=>Promise.resolve({validated:void 0!==e,errorMessage:o.dockerContainerNotRunningErrorMessage})),(e=>Promise.resolve(e)),this._outputChannel);if(i)return this.logToOutput(o.dockerContainerCreatedMessage(i)),await this._connectionService.getConnection(e.dockerSettings,!1,"master");this.logToOutput(o.dockerContainerFailedToRunErrorMessage),n&&await this.executeCommand(o.dockerLogMessage(n))}))}async runDockerContainer(e,t){const r=[t.password];return await this.executeCommand(`docker pull ${t.dockerBaseImage}`),await this.executeCommand(`docker run -p ${t.port}:1433 -e "MSSQL_SA_PASSWORD=${t.password}" -e "ACCEPT_EULA=Y" -e "MSSQL_PID=Developer" --label ${e.label} -d --name ${e.containerName} ${t.dockerBaseImage} `,r),await this.executeCommand(`docker ps -q -a --filter label=${e.label} -q`)}async executeTask(e,t){const r=a.getAzdataApi();return r?new Promise(((n,a)=>{let i=e;r.tasks.startBackgroundOperation({displayName:i,description:i,isCancelable:!1,operation:async i=>{try{let e=await t();i.updateStatus(r.TaskStatus.Succeeded),n(e)}catch(t){let n=o.taskFailedError(e,t?t.message:"");i.updateStatus(r.TaskStatus.Failed,n),a(n)}}})})):await t()}logToOutput(e){this._outputChannel.appendLine(e)}async executeCommand(e,t=[],r=3e5){return await this._shellExecutionHelper.runStreamedCommand(e,void 0,t,r)}async getCurrentDockerContainer(e){const t=await this.executeCommand(`docker ps -q -a --filter label=${e}`);return t?t.split(/\r?\n/):[]}async cleanDockerObjectsIfNeeded(e){this.logToOutput(o.cleaningDockerImagesMessage);const t=await this.getCurrentDockerContainer(e);t.length>0&&await i.window.showQuickPick([o.yesString,o.noString],{title:o.containerAlreadyExistForProject,ignoreFocusOut:!0})===o.yesString&&(this.logToOutput(o.cleaningDockerImagesMessage),await this.cleanDockerObjects(t,["docker stop","docker rm"]))}async cleanDockerObjects(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(n)for(let e=0;e<t.length;e++){const r=t[e];await this.executeCommand(`${r} ${n}`)}}}},t.getDockerImageSpec=u},8102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeployOptionsModel=void 0;const n=r(7549),o=r(6078);t.DeployOptionsModel=class{constructor(e){this.deploymentOptions=e,this.optionsValueNameLookup={},this.excludeObjectTypesLookup={},this.setOptionsToValueNameLookup(),this.setExcludeObjectTypesLookup()}setOptionsToValueNameLookup(){Object.entries(this.deploymentOptions.booleanOptionsDictionary).forEach((e=>{const t={optionName:e[0],checked:e[1].value};this.optionsValueNameLookup[e[1].displayName]=t}))}getOptionsData(){let e=[];return Object.entries(this.deploymentOptions.booleanOptionsDictionary).forEach((t=>{e.push([t[1].value,t[1].displayName])})),e.sort(((e,t)=>e[1].localeCompare(t[1])))}setDeploymentOptions(){Object.entries(this.optionsValueNameLookup).forEach((e=>{this.deploymentOptions.booleanOptionsDictionary[e[1].optionName].value=e[1].checked}))}setOptionValue(e,t){this.optionsValueNameLookup[e].checked=t}getOptionDescription(e){const t=this.optionsValueNameLookup[e];return void 0===t&&n.window.showWarningMessage(o.OptionNotFoundWarningMessage(e)),void 0!==t?this.deploymentOptions.booleanOptionsDictionary[t.optionName].description:""}setExcludeObjectTypesLookup(){Object.entries(this.deploymentOptions.objectTypesDictionary).forEach((e=>{const t={optionName:e[0],checked:this.getExcludeObjectTypeOptionCheckStatus(e[0])};this.excludeObjectTypesLookup[e[1]]=t}))}getExcludeObjectTypesOptionsData(){let e=[];return Object.entries(this.deploymentOptions.objectTypesDictionary).forEach((t=>{e.push([this.getExcludeObjectTypeOptionCheckStatus(t[0]),t[1]])})),e.sort(((e,t)=>e[1].localeCompare(t[1])))}getExcludeObjectTypeOptionCheckStatus(e){return void 0!==this.deploymentOptions.excludeObjectTypes.value?.find((t=>t.toLowerCase()===e.toLowerCase()))}setExcludeObjectTypesOptionValue(e,t){this.excludeObjectTypesLookup[e].checked=t}setExcludeObjectTypesToDeploymentOptions(){let e=[];Object.entries(this.excludeObjectTypesLookup).forEach((t=>{t[1].checked&&e.push(t[1].optionName)})),this.deploymentOptions.excludeObjectTypes.value=e}}},4935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reservedProjectFolders=t.Project=void 0;const n=r(5622),o=r(3969),a=r(6078),i=r(1027),s=r(1465),c=r(2087),l=r(2884),u=r(7549),p=r(5747),d=r(1845),m=r(6742);class h{constructor(e){this._files=[],this._dataSources=[],this._importedTargets=[],this._databaseReferences=[],this._sqlCmdVariables={},this._preDeployScripts=[],this._postDeployScripts=[],this._noneDeployScripts=[],this._isSdkStyleProject=!1,this.projFileXmlDoc=void 0,this._projectFilePath=e,this._projectFileName=n.basename(e,".sqlproj")}get dacpacOutputPath(){return n.join(this.projectFolderPath,"bin","Debug",`${this._projectFileName}.dacpac`)}get projectFolderPath(){return u.Uri.file(n.dirname(this._projectFilePath)).fsPath}get projectFilePath(){return this._projectFilePath}get projectFileName(){return this._projectFileName}get projectGuid(){return this._projectGuid}get files(){return this._files}get dataSources(){return this._dataSources}get importedTargets(){return this._importedTargets}get databaseReferences(){return this._databaseReferences}get sqlCmdVariables(){return this._sqlCmdVariables}get preDeployScripts(){return this._preDeployScripts}get postDeployScripts(){return this._postDeployScripts}get noneDeployScripts(){return this._noneDeployScripts}get isSdkStyleProject(){return this._isSdkStyleProject}static async openProject(e){const t=new h(e);return await t.readProjFile(),await t.updateProjectForRoundTrip(),t}async readProjFile(){this.resetProject();const e=await p.promises.readFile(this._projectFilePath);this.projFileXmlDoc=(new o.DOMParser).parseFromString(e.toString()),this._isSdkStyleProject=this.CheckForSdkStyleProject(),this._preDeployScripts=this.readPreDeployScripts(),this._postDeployScripts=this.readPostDeployScripts(),this._noneDeployScripts=this.readNoneDeployScripts(),this._files=await this.readFilesInProject(),this.files.push(...await this.readFolders()),this._databaseReferences=this.readDatabaseReferences(),this._importedTargets=this.readImportedTargets();try{this._sqlCmdVariables=i.readSqlCmdVariables(this.projFileXmlDoc,!1)}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.sqlCmdVariables,this.projectFilePath)),console.error(i.getErrorMessage(e))}try{this._projectGuid=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ProjectGuid)[0].childNodes[0].nodeValue}catch(e){this._projectGuid=l.generateUuid();const t=this.projFileXmlDoc.createElement(a.ProjectGuid),r=this.projFileXmlDoc.createTextNode(`{${this._projectGuid}}`);t.appendChild(r),this.projFileXmlDoc.documentElement.getElementsByTagName(a.PropertyGroup)[0]?.appendChild(t),await this.serializeToProjFile(this.projFileXmlDoc)}}async readFilesInProject(){const e=new Set,t=[];if(this._isSdkStyleProject)try{(await i.getSqlFilesInFolder(this.projectFolderPath,!0)).forEach((t=>{e.add(i.convertSlashesForSqlProj(i.trimUri(u.Uri.file(this.projectFilePath),u.Uri.file(t))))}))}catch(e){console.error(i.getErrorMessage(e))}for(let r=0;r<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;r++){const o=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[r];try{const r=o.getElementsByTagName(a.Build);for(let o=0;o<r.length;o++){const s=r[o].getAttribute(a.Include);if(s){const c=n.join(i.getPlatformSafeFileEntryPath(this.projectFolderPath),i.getPlatformSafeFileEntryPath(s));if(this._isSdkStyleProject&&!await i.exists(c))(await i.globWithPattern(c)).forEach((t=>{const r=i.convertSlashesForSqlProj(i.trimUri(u.Uri.file(this.projectFilePath),u.Uri.file(t)));e.add(r)}));else{e.add(s);const n=r[o].getAttribute(a.Type);n&&t.push({relativePath:s,typeAttribute:n})}}if(this._isSdkStyleProject){const t=r[o].getAttribute(a.Remove);if(t){const r=n.join(i.getPlatformSafeFileEntryPath(this.projectFolderPath),i.getPlatformSafeFileEntryPath(t));(await i.globWithPattern(r)).forEach((t=>{const r=i.convertSlashesForSqlProj(i.trimUri(u.Uri.file(this.projectFilePath),u.Uri.file(t)));e.delete(r)}))}}}}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.BuildElements,this.projectFilePath)),console.error(i.getErrorMessage(e))}}this.isSdkStyleProject&&(this.preDeployScripts.forEach((t=>e.delete(t.relativePath))),this.postDeployScripts.forEach((t=>e.delete(t.relativePath))),this.noneDeployScripts.forEach((t=>e.delete(t.relativePath))),this.readNoneRemoveScripts().forEach((t=>e.delete(t.relativePath))));const r=[];for(let o of Array.from(e.values())){const e=t.find((e=>e.relativePath===o));let a=!1;const s=n.join(i.getPlatformSafeFileEntryPath(this.projectFolderPath),i.getPlatformSafeFileEntryPath(o));if(i.getAzdataApi()&&await i.exists(s)){const e=await i.getDacFxService();try{a=(await e.parseTSqlScript(s,this.getProjectTargetVersion())).containsCreateTableStatement}catch(e){console.error(i.getErrorMessage(e))}}r.push(this.createFileProjectEntry(o,0,e?e.typeAttribute:void 0,a))}return r}async readFolders(){const e=[],t=new Set,r=await this.foldersListedInSqlproj();return r.forEach((e=>t.add(e))),this._isSdkStyleProject&&(this.files.forEach((e=>{e.relativePath.startsWith("..")||n.dirname(e.fsUri.fsPath)===this.projectFolderPath||i.getFoldersToFile(this.projectFolderPath,e.fsUri.fsPath).forEach((e=>t.add(i.convertSlashesForSqlProj(i.trimUri(u.Uri.file(this.projectFilePath),u.Uri.file(e))))))})),r.forEach((e=>{const r=n.join(i.getPlatformSafeFileEntryPath(this.projectFolderPath),i.getPlatformSafeFileEntryPath(e));i.getFoldersAlongPath(this.projectFolderPath,i.getPlatformSafeFileEntryPath(r)).forEach((e=>t.add(i.convertSlashesForSqlProj(i.trimUri(u.Uri.file(this.projectFilePath),u.Uri.file(e))))))}))),t.forEach((t=>{e.push(this.createFileProjectEntry(t,1))})),e}async foldersListedInSqlproj(){const e=[];for(let t=0;t<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;t++){const r=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[t];try{const t=r.getElementsByTagName(a.Folder);for(let r=0;r<t.length;r++){let n=t[r].getAttribute(a.Include);i.trimChars(n,"\\")!==a.Properties&&e.push(i.ensureTrailingSlash(n))}}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.Folder,this.projectFilePath)),console.error(i.getErrorMessage(e))}}return e}readPreDeployScripts(){const e=[];let t=0;for(let r=0;r<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;r++){const n=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[r];try{const r=n.getElementsByTagName(a.PreDeploy);for(let n=0;n<r.length;n++)e.push(this.createFileProjectEntry(r[n].getAttribute(a.Include),0)),t++}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.PreDeployElements,this.projectFilePath)),console.error(i.getErrorMessage(e))}}return t>1&&u.window.showWarningMessage(a.prePostDeployCount,a.okString),e}readPostDeployScripts(){const e=[];let t=0;for(let r=0;r<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;r++){const n=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[r];try{const r=n.getElementsByTagName(a.PostDeploy);for(let n=0;n<r.length;n++)e.push(this.createFileProjectEntry(r[n].getAttribute(a.Include),0)),t++}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.PostDeployElements,this.projectFilePath)),console.error(i.getErrorMessage(e))}}return t>1&&u.window.showWarningMessage(a.prePostDeployCount,a.okString),e}readNoneDeployScripts(){const e=[];for(let t=0;t<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;t++){const r=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[t];try{const t=r.getElementsByTagName(a.None);for(let r=0;r<t.length;r++){const n=t[r].getAttribute(a.Include);n&&e.push(this.createFileProjectEntry(n,0))}}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.NoneElements,this.projectFilePath)),console.error(i.getErrorMessage(e))}}return e}readNoneRemoveScripts(){const e=[];for(let t=0;t<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;t++){const r=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[t];try{const t=r.getElementsByTagName(a.None);for(let r=0;r<t.length;r++)e.push(this.createFileProjectEntry(t[r].getAttribute(a.Remove),0))}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.NoneElements,this.projectFilePath)),console.error(i.getErrorMessage(e))}}return e}readDatabaseReferences(){const e=[],t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference);for(let r=0;r<t.length;r++)try{if(t[r].getAttribute(a.Condition)!==a.NotNetCoreCondition){const n=t[r].getAttribute(a.Include);if(!n)throw new Error(a.invalidDatabaseReference);const o=t[r].getElementsByTagName(a.DatabaseVariableLiteralValue),s=1===o.length?o[0].childNodes[0].nodeValue:void 0,c=t[r].getElementsByTagName(a.SuppressMissingDependenciesErrors),l=1===c.length&&c[0].childNodes[0].nodeValue===a.True;i.convertSlashesForSqlProj(this.getSystemDacpacUri(`${s}.dacpac`).fsPath).includes(n)?e.push(new m.SystemDatabaseReferenceProjectEntry(u.Uri.file(n),this.getSystemDacpacSsdtUri(`${s}.dacpac`),s,l)):e.push(new m.DacpacReferenceProjectEntry({dacpacFileLocation:u.Uri.file(i.getPlatformSafeFileEntryPath(n)),databaseName:s,suppressMissingDependenciesErrors:l}))}}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.DacpacReferenceElement,this.projectFilePath)),console.error(i.getErrorMessage(e))}const r=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ProjectReference);for(let t=0;t<r.length;t++)try{const n=r[t].getAttribute(a.Include);if(!n)throw new Error(a.invalidDatabaseReference);const o=r[t].getElementsByTagName(a.Name);let s="";try{s=o[0].childNodes[0].nodeValue}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.ProjectReferenceNameElement,this.projectFilePath)),console.error(i.getErrorMessage(e))}const c=r[t].getElementsByTagName(a.SuppressMissingDependenciesErrors),l=1===c.length&&c[0].childNodes[0].nodeValue===a.True;e.push(new m.SqlProjectReferenceProjectEntry({projectRelativePath:u.Uri.file(i.getPlatformSafeFileEntryPath(n)),projectName:s,projectGuid:"",suppressMissingDependenciesErrors:l}))}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.ProjectReferenceElement,this.projectFilePath)),console.error(i.getErrorMessage(e))}return e}readImportedTargets(){const e=[];try{const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Import);for(let r=0;r<t.length;r++){const n=t[r];e.push(n.getAttribute(a.Project))}}catch(e){u.window.showErrorMessage(a.errorReadingProject(a.ImportElements,this.projectFilePath)),console.error(i.getErrorMessage(e))}return e}resetProject(){this._files=[],this._importedTargets=[],this._databaseReferences=[],this._sqlCmdVariables={},this._preDeployScripts=[],this._postDeployScripts=[],this._noneDeployScripts=[],this.projFileXmlDoc=void 0}CheckForSdkStyleProject(){const e=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Sdk);if(e.length>0)return e[0].getAttribute(a.Name)===a.sqlProjectSdk;const t=this.projFileXmlDoc.documentElement.getAttribute(a.Sdk);if(t)return t.includes(a.sqlProjectSdk);const r=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Import);for(let e=0;e<r.length;e++)if(r[e].getAttribute(a.Sdk)===a.sqlProjectSdk)return!0;return!1}async updateProjectForRoundTrip(){this._importedTargets.includes(a.NetCoreTargets)&&!this.containsSSDTOnlySystemDatabaseReferences()||this.isSdkStyleProject||(d.TelemetryReporter.sendActionEvent(d.TelemetryViews.ProjectController,d.TelemetryActions.updateProjectForRoundtrip),this._importedTargets.includes(a.NetCoreTargets)?this.containsSSDTOnlySystemDatabaseReferences()&&await u.window.showWarningMessage(a.updateProjectDatabaseReferencesForRoundTrip(this.projectFileName),a.yesString,a.noString)===a.yesString&&(await p.promises.copyFile(this._projectFilePath,this._projectFilePath+"_backup"),await this.updateSystemDatabaseReferencesInProjFile()):await u.window.showWarningMessage(a.updateProjectForRoundTrip(this.projectFileName),a.yesString,a.noString)===a.yesString&&(await p.promises.copyFile(this._projectFilePath,this._projectFilePath+"_backup"),await this.updateImportToSupportRoundTrip(),await this.updatePackageReferenceInProjFile(),await this.updateBeforeBuildTargetInProjFile(),await this.updateSystemDatabaseReferencesInProjFile()))}async updateImportToSupportRoundTrip(){for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.Import).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Import)[e];let r=t.getAttribute(a.Condition),n=t.getAttribute(a.Project);r===a.SqlDbPresentCondition&&n===a.SqlDbTargets&&await this.updateImportedTargetsToProjFile(a.RoundTripSqlDbPresentCondition,n,t),r===a.SqlDbNotPresentCondition&&n===a.MsBuildtargets&&await this.updateImportedTargetsToProjFile(a.RoundTripSqlDbNotPresentCondition,n,t)}await this.updateImportedTargetsToProjFile(a.NetCoreCondition,a.NetCoreTargets,void 0)}async updateBeforeBuildTargetInProjFile(){for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.Target).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Target)[e];if(t.getAttribute(a.Name)===a.BeforeBuildTarget)return await this.createCleanFileNode(t)}const e=this.projFileXmlDoc.createElement(a.Target);e.setAttribute(a.Name,a.BeforeBuildTarget),this.projFileXmlDoc.documentElement.appendChild(e),await this.createCleanFileNode(e)}async convertProjectToSdkStyle(){if(this.isSdkStyleProject||!this._importedTargets.includes(a.NetCoreTargets))return!1;await p.promises.copyFile(this._projectFilePath,this._projectFilePath+"_backup");try{const e=this.files.filter((e=>0===e.type)),t=this.files.filter((e=>1===e.type));for(const t of e)t.relativePath.includes("..")||await this.exclude(t);for(const e of t)await this.exclude(e);try{await this.removeFolderFromProjFile("Properties")}catch{}const r=[];for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.Import).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Import)[e],n=t.getAttribute(a.Project);n!==a.NetCoreTargets&&n!==a.SqlDbTargets&&n!==a.MsBuildtargets||r.push(t)}const n=r[0]?.parentNode;r.forEach((e=>{n?.removeChild(e)}));const o=[];for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.VisualStudioVersion).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.VisualStudioVersion)[e],r=t.getAttribute(a.Condition);r!==a.VSVersionCondition&&r!==a.SsdtExistsCondition||o.push(t)}for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.SSDTExists).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.SSDTExists)[e];t.getAttribute(a.Condition)===a.targetsExistsCondition&&o.push(t)}const i=o[0]?.parentNode;o.forEach((e=>{i?.removeChild(e),0===Array.from(i.childNodes).filter((e=>e.childNodes)).length&&i.parentNode?.removeChild(i)}));const s=this.projFileXmlDoc.createElement(a.Sdk);s.setAttribute(a.Name,a.sqlProjectSdk),s.setAttribute(a.Version,a.sqlProjectSdkVersion);const c=this.projFileXmlDoc.documentElement;c.insertBefore(s,c.firstChild),await this.serializeToProjFile(this.projFileXmlDoc),await this.readProjFile();for(const t of this.files.filter((e=>0===e.type)))e.find((e=>e.pathForSqlProj()===t.pathForSqlProj()))||await this.exclude(t);const l=this.files.filter((e=>1===e.type));for(const e of t)l.find((t=>t.relativePath===e.relativePath))||await this.addFolderItem(e.relativePath)}catch(e){return console.error(e),await p.promises.copyFile(this._projectFilePath+"_backup",this._projectFilePath),await this.readProjFile(),!1}return!0}async createCleanFileNode(e){const t=this.projFileXmlDoc.createElement(a.Delete);t.setAttribute(a.Files,a.ProjJsonToClean),e.appendChild(t),await this.serializeToProjFile(this.projFileXmlDoc)}async addFolderItem(e){const t=await this.ensureFolderItems(e);if(t)return t;throw new Error(a.outsideFolderPath)}async addScriptItem(e,t,r){const o=n.join(this.projectFolderPath,e);if(t){await p.promises.mkdir(n.dirname(o),{recursive:!0});try{await p.promises.writeFile(o,t,{flag:"wx"})}catch(e){if("EEXIST"===e.code)throw new Error(a.fileAlreadyExists(n.parse(o).name));throw e}}else if(!await i.exists(o))throw new Error(a.noFileExist(o));await this.ensureFolderItems(n.relative(this.projectFolderPath,n.dirname(o)));const s=i.convertSlashesForSqlProj(e),c=this.files.find((e=>e.relativePath.toUpperCase()===s.toUpperCase()));if(c)return c;const l=this.createFileProjectEntry(s,0);let u;switch(r){case"preDeployScript":u=a.PreDeploy,0===this._preDeployScripts.length?this._preDeployScripts.push(l):this._noneDeployScripts.push(l);break;case"postDeployScript":u=a.PostDeploy,0===this._postDeployScripts.length?this._postDeployScripts.push(l):this._noneDeployScripts.push(l);break;default:u=a.Build,this._files.push(l)}const d=new Map;return"externalStreamingJob"===r&&(l.sqlObjectType=a.ExternalStreamingJob,d.set(a.Type,a.ExternalStreamingJob)),await this.addToProjFile(l,u,d),l}async addExistingItem(e){if(!await i.exists(e))throw new Error(a.noFileExist(e));const t=i.convertSlashesForSqlProj(n.relative(this.projectFolderPath,e)),r=this.files.find((e=>e.relativePath.toUpperCase()===t.toUpperCase()));if(r)return r;await this.ensureFolderItems(n.relative(this.projectFolderPath,n.dirname(e)));const o=this.createFileProjectEntry(t,0),s=n.extname(e)===a.sqlFileExtension?a.Build:a.None;return await this.addToProjFile(o,s),this._files.push(o),o}async exclude(e){const t=this._files.concat(this._preDeployScripts).concat(this._postDeployScripts).concat(this._noneDeployScripts).filter((t=>t.fsUri.fsPath.startsWith(e.fsUri.fsPath)));await this.removeFromProjFile(t),this._files=this._files.filter((t=>!t.fsUri.fsPath.startsWith(e.fsUri.fsPath))),this._preDeployScripts=this._preDeployScripts.filter((t=>!t.fsUri.fsPath.startsWith(e.fsUri.fsPath))),this._postDeployScripts=this._postDeployScripts.filter((t=>!t.fsUri.fsPath.startsWith(e.fsUri.fsPath))),this._noneDeployScripts=this._noneDeployScripts.filter((t=>!t.fsUri.fsPath.startsWith(e.fsUri.fsPath)))}async deleteFileFolder(e){const t=this._files.concat(this._preDeployScripts).concat(this._postDeployScripts).concat(this._noneDeployScripts).filter((t=>t.fsUri.fsPath.startsWith(e.fsUri.fsPath)&&0===t.type)),r=this._files.filter((t=>t.fsUri.fsPath.startsWith(e.fsUri.fsPath)&&1===t.type));await Promise.all(t.map((e=>p.promises.unlink(e.fsUri.fsPath)))),await Promise.all(r.map((e=>p.promises.rmdir(e.fsUri.fsPath,{recursive:!0})))),await this.exclude(e)}async deleteDatabaseReference(e){await this.removeFromProjFile(e),this._databaseReferences=this._databaseReferences.filter((t=>t!==e))}async changeTargetPlatform(e){if(this.getProjectTargetVersion()!==e){d.TelemetryReporter.createActionEvent(d.TelemetryViews.ProjectTree,d.TelemetryActions.changePlatformType).withAdditionalProperties({from:this.getProjectTargetVersion(),to:e}).send();const t=`${a.MicrosoftDatatoolsSchemaSqlSql}${e}${a.databaseSchemaProvider}`;this.projFileXmlDoc.getElementsByTagName(a.DSP)[0].childNodes[0].data=t,this.projFileXmlDoc.getElementsByTagName(a.DSP)[0].childNodes[0].nodeValue=t;const r=this._databaseReferences.filter((e=>e instanceof m.SystemDatabaseReferenceProjectEntry));if(r.length>0)for(let e of r)this.removeDatabaseReferenceFromProjFile(e),e.fsUri=this.getSystemDacpacUri(`${e.databaseName}.dacpac`),e.ssdtUri=this.getSystemDacpacSsdtUri(`${e.databaseName}.dacpac`),await this.addDatabaseReferenceToProjFile(e);await this.serializeToProjFile(this.projFileXmlDoc)}}async addSystemDatabaseReference(e){let t,r;e.systemDb===m.SystemDatabase.master?(t=this.getSystemDacpacUri(a.masterDacpac),r=this.getSystemDacpacSsdtUri(a.masterDacpac)):(t=this.getSystemDacpacUri(a.msdbDacpac),r=this.getSystemDacpacSsdtUri(a.msdbDacpac));const n=new m.SystemDatabaseReferenceProjectEntry(t,r,e.databaseName,e.suppressMissingDependenciesErrors);if(this.databaseReferenceExists(n))throw new Error(a.databaseReferenceAlreadyExists);await this.addToProjFile(n)}getSystemDacpacUri(e){const t=this.getSystemDacpacFolderName(),r=this.isSdkStyleProject?"$(SystemDacpacsLocation)":"$(NETCoreTargetsPath)";return u.Uri.parse(n.join(r,"SystemDacpacs",t,e))}getSystemDacpacSsdtUri(e){const t=this.getSystemDacpacFolderName();return u.Uri.parse(n.join("$(DacPacRootPath)","Extensions","Microsoft","SQLDB","Extensions","SqlServer",t,"SqlSchemas",e))}getSystemDacpacFolderName(){const e=this.getProjectTargetVersion();return e===a.targetPlatformToVersion.get("Azure Synapse Dedicated SQL Pool")?a.AzureDwFolder:e}getProjectTargetVersion(){let e;try{e=this.evaluateProjectPropertyValue(a.DSP)}catch{}if(!e)throw new Error(a.invalidDataSchemaProvider);const t=e.substring(a.MicrosoftDatatoolsSchemaSqlSql.length,e.length-a.databaseSchemaProvider.length);if(!Array.from(a.targetPlatformToVersion.values()).includes(t))throw new Error(a.invalidDataSchemaProvider);return t}getDatabaseDefaultCollation(){return this.evaluateProjectPropertyValue(a.DefaultCollationProperty,a.DefaultCollation)}async addDatabaseReference(e){const t=new m.DacpacReferenceProjectEntry(e);if(this.databaseReferenceExists(t))throw new Error(a.databaseReferenceAlreadyExists);await this.addToProjFile(t)}async addProjectReference(e){const t=new m.SqlProjectReferenceProjectEntry(e);if(this.databaseReferenceExists(t))throw new Error(a.databaseReferenceAlreadyExists);await this.addToProjFile(t)}async addSqlCmdVariable(e,t){const r=new m.SqlCmdVariableProjectEntry(e,t);await this.addToProjFile(r)}addDatabaseSource(e){return this.addValueToCollectionProjectProperty(a.DatabaseSource,e)}removeDatabaseSource(e){return this.removeValueFromCollectionProjectProperty(a.DatabaseSource,e)}getDatabaseSourceValues(){return this.getCollectionProjectPropertyValue(a.DatabaseSource)}createFileProjectEntry(e,t,r,o){let a=i.getPlatformSafeFileEntryPath(e);return new m.FileProjectEntry(u.Uri.file(n.join(this.projectFolderPath,a)),i.convertSlashesForSqlProj(e),t,r,o)}findOrCreateItemGroup(e,t){let r;if(e)for(let t=0;t<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup).length;t++){const n=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ItemGroup)[t];if(n.getElementsByTagName(e).length>0){r=n;break}}return r||(r=this.projFileXmlDoc.createElement(a.ItemGroup),this.projFileXmlDoc.documentElement.appendChild(r),t&&(t.scriptExist=!1)),r}async addFileToProjFile(e,t,r){let o;if(await this.undoExcludeFileFromProjFile(t,e),t===a.PreDeploy||t===a.PostDeploy){let e={scriptExist:!0};o=this.findOrCreateItemGroup(t,e),!0===e.scriptExist&&(u.window.showInformationMessage(a.deployScriptExists(t)),t=a.None)}else{this.isSdkStyleProject&&(await this.foldersListedInSqlproj()).forEach((t=>{i.trimUri(u.Uri.file(i.getPlatformSafeFileEntryPath(t)),u.Uri.file(i.getPlatformSafeFileEntryPath(e)))===n.basename(i.getPlatformSafeFileEntryPath(e))&&this.removeFolderNode(t)}));const a=await this.readFilesInProject();if((!r||0===r.size)&&a.find((t=>t.relativePath===i.convertSlashesForSqlProj(e))))return;o=this.findOrCreateItemGroup(t)}const s=this.projFileXmlDoc.createElement(t);if(s.setAttribute(a.Include,i.convertSlashesForSqlProj(e)),r)for(const e of r.keys())s.setAttribute(e,r.get(e));o.appendChild(s)}async removeFileFromProjFile(e){const t=[this.projFileXmlDoc.documentElement.getElementsByTagName(a.Build),this.projFileXmlDoc.documentElement.getElementsByTagName(a.PreDeploy),this.projFileXmlDoc.documentElement.getElementsByTagName(a.PostDeploy),this.projFileXmlDoc.documentElement.getElementsByTagName(a.None)],r=this.files.find((t=>t.relativePath===e));let n=!1;for(let r=0;r<t.length;r++)if(n=this.removeNode(e,t[r]),n){if(this.isSdkStyleProject)break;return}if(!this.isSdkStyleProject)throw new Error(a.unableToFindObject(e,a.fileObject));if(n&&await this.serializeToProjFile(this.projFileXmlDoc),this._preDeployScripts=this.readPreDeployScripts(),this._postDeployScripts=this.readPostDeployScripts(),this._noneDeployScripts=this.readNoneDeployScripts(),(await this.readFilesInProject()).find((t=>t.relativePath===i.convertSlashesForSqlProj(e)))){const t=r?this.projFileXmlDoc.createElement(a.Build):this.projFileXmlDoc.createElement(a.None);return t.setAttribute(a.Remove,i.convertSlashesForSqlProj(e)),void this.findOrCreateItemGroup(a.Build).appendChild(t)}}removeNode(e,t,r=!1){const n=r?a.Remove:a.Include;for(let r=0;r<t.length;r++){const o=t[r].parentNode;if(o&&t[r].getAttribute(n)===i.convertSlashesForSqlProj(e))return o.removeChild(t[r]),0===Array.from(o.childNodes).filter((e=>e.childNodes)).length&&o.parentNode?.removeChild(o),!0}return!1}async undoExcludeFileFromProjFile(e,t){const r=this.projFileXmlDoc.documentElement.getElementsByTagName(e);this.removeNode(t,r,!0)&&await this.serializeToProjFile(this.projFileXmlDoc)}async addFolderToProjFile(e){this.isSdkStyleProject&&(await this.foldersListedInSqlproj()).forEach((t=>{i.trimChars(i.trimUri(u.Uri.file(i.getPlatformSafeFileEntryPath(t)),u.Uri.file(i.getPlatformSafeFileEntryPath(e))),"/")===n.basename(i.getPlatformSafeFileEntryPath(e))&&this.removeFolderNode(t)}));const t=this.projFileXmlDoc.createElement(a.Folder);t.setAttribute(a.Include,i.convertSlashesForSqlProj(e)),this.findOrCreateItemGroup(a.Folder).appendChild(t)}async removeFolderFromProjFile(e){let t=this.removeFolderNode(e);if(this.isSdkStyleProject){if(await this.writeToSqlProjAndUpdateFilesFolders(),(await this.readFolders()).find((t=>t.relativePath===i.convertSlashesForSqlProj(e)))){const t=this.projFileXmlDoc.createElement(a.Build);t.setAttribute(a.Remove,i.convertSlashesForSqlProj(e+"**")),this.findOrCreateItemGroup(a.Build).appendChild(t),await this.writeToSqlProjAndUpdateFilesFolders()}t=!0}if(!t)throw new Error(a.unableToFindObject(e,a.folderObject))}removeFolderNode(e){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.Folder);let r=this.removeNode(e,t);return r||(r=this.removeNode(i.trimChars(e,"\\"),t)),r}async writeToSqlProjAndUpdateFilesFolders(){await this.serializeToProjFile(this.projFileXmlDoc);const e=await p.promises.readFile(this._projectFilePath);this.projFileXmlDoc=(new o.DOMParser).parseFromString(e.toString()),this._files=await this.readFilesInProject(),this.files.push(...await this.readFolders())}removeSqlCmdVariableFromProjFile(e){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.SqlCmdVariable);if(!this.removeNode(e,t))throw new Error(a.unableToFindSqlCmdVariable(e))}removeDatabaseReferenceFromProjFile(e){const t=e instanceof m.SqlProjectReferenceProjectEntry?a.ProjectReference:a.ArtifactReference,r=this.projFileXmlDoc.documentElement.getElementsByTagName(t),n=this.removeNode(e.pathForSqlProj(),r);if(e instanceof m.SystemDatabaseReferenceProjectEntry){const t=e.ssdtPathForSqlProj();this.removeNode(t,r)}if(!n)throw new Error(a.unableToFindDatabaseReference(e.databaseName))}async addSystemDatabaseReferenceToProjFile(e){const t=this.projFileXmlDoc.createElement(a.ArtifactReference);t.setAttribute(a.Condition,a.NetCoreCondition),t.setAttribute(a.Include,e.pathForSqlProj()),await this.addDatabaseReferenceChildren(t,e),this.findOrCreateItemGroup(a.ArtifactReference).appendChild(t);const r=this.projFileXmlDoc.createElement(a.ArtifactReference);r.setAttribute(a.Condition,a.NotNetCoreCondition),r.setAttribute(a.Include,e.ssdtPathForSqlProj()),await this.addDatabaseReferenceChildren(r,e),this.findOrCreateItemGroup(a.ArtifactReference).appendChild(r)}async addDatabaseReferenceToProjFile(e){if(e instanceof m.SystemDatabaseReferenceProjectEntry)await this.addSystemDatabaseReferenceToProjFile(e);else if(e instanceof m.SqlProjectReferenceProjectEntry){const t=this.projFileXmlDoc.createElement(a.ProjectReference);t.setAttribute(a.Include,e.pathForSqlProj()),this.addProjectReferenceChildren(t,e),await this.addDatabaseReferenceChildren(t,e),this.findOrCreateItemGroup(a.ProjectReference).appendChild(t)}else{const t=this.projFileXmlDoc.createElement(a.ArtifactReference);t.setAttribute(a.Include,e.pathForSqlProj()),await this.addDatabaseReferenceChildren(t,e),this.findOrCreateItemGroup(a.ArtifactReference).appendChild(t)}this.databaseReferenceExists(e)||this._databaseReferences.push(e)}databaseReferenceExists(e){return void 0!==this._databaseReferences.find((t=>t.pathForSqlProj()===e.pathForSqlProj()))}async addDatabaseReferenceChildren(e,t){const r=this.projFileXmlDoc.createElement(a.SuppressMissingDependenciesErrors),n=this.projFileXmlDoc.createTextNode(t.suppressMissingDependenciesErrors?a.True:a.False);if(r.appendChild(n),e.appendChild(r),t.databaseSqlCmdVariable){const r=this.projFileXmlDoc.createElement(a.DatabaseSqlCmdVariable),n=this.projFileXmlDoc.createTextNode(t.databaseSqlCmdVariable);r.appendChild(n),e.appendChild(r),await this.addSqlCmdVariable(t.databaseSqlCmdVariable,t.databaseVariableLiteralValue)}else if(t.databaseVariableLiteralValue){const r=this.projFileXmlDoc.createElement(a.DatabaseVariableLiteralValue),n=this.projFileXmlDoc.createTextNode(t.databaseVariableLiteralValue);r.appendChild(n),e.appendChild(r)}if(t.serverSqlCmdVariable){const r=this.projFileXmlDoc.createElement(a.ServerSqlCmdVariable),n=this.projFileXmlDoc.createTextNode(t.serverSqlCmdVariable);r.appendChild(n),e.appendChild(r),await this.addSqlCmdVariable(t.serverSqlCmdVariable,t.serverName)}}addProjectReferenceChildren(e,t){const r=this.projFileXmlDoc.createElement(a.Name),n=this.projFileXmlDoc.createTextNode(t.projectName);r.appendChild(n),e.appendChild(r);const o=this.projFileXmlDoc.createElement(a.Project),i=this.projFileXmlDoc.createTextNode(t.projectGuid);o.appendChild(i),e.appendChild(o);const s=this.projFileXmlDoc.createElement(a.Private),c=this.projFileXmlDoc.createTextNode(a.True);s.appendChild(c),e.appendChild(s)}async addSqlCmdVariableToProjFile(e){Object.keys(this._sqlCmdVariables).includes(e.variableName)&&await this.removeFromProjFile(e);const t=this.projFileXmlDoc.createElement(a.SqlCmdVariable);t.setAttribute(a.Include,e.variableName),this.addSqlCmdVariableChildren(t,e),this.findOrCreateItemGroup(a.SqlCmdVariable).appendChild(t),this._sqlCmdVariables[e.variableName]=e.defaultValue}addSqlCmdVariableChildren(e,t){const r=this.projFileXmlDoc.createElement(a.DefaultValue),n=this.projFileXmlDoc.createTextNode(t.defaultValue);r.appendChild(n),e.appendChild(r);const o=this.projFileXmlDoc.createElement(a.Value),i=this.projFileXmlDoc.createTextNode(`$(SqlCmdVar__${this.getNextSqlCmdVariableCounter()})`);o.appendChild(i),e.appendChild(o)}getNextSqlCmdVariableCounter(){const e=this.projFileXmlDoc.documentElement.getElementsByTagName(a.SqlCmdVariable);let t=0;for(let r=0;r<e.length;r++){const n=e[r].getElementsByTagName(a.Value)[0].childNodes[0].nodeValue,o=parseInt(n.substring(13).slice(0,-1));o>t&&(t=o)}return t+1}async updateImportedTargetsToProjFile(e,t,r){const n=this.projFileXmlDoc.createElement(a.Import);return n.setAttribute(a.Condition,e),n.setAttribute(a.Project,t),r?this.projFileXmlDoc.documentElement.replaceChild(n,r):(this.projFileXmlDoc.documentElement.appendChild(n),this._importedTargets.push(t)),await this.serializeToProjFile(this.projFileXmlDoc),n}async updatePackageReferenceInProjFile(){const e=this.projFileXmlDoc.createElement(a.PackageReference);e.setAttribute(a.Condition,a.NetCoreCondition),e.setAttribute(a.Include,a.NETFrameworkAssembly),e.setAttribute(a.Version,a.VersionNumber),e.setAttribute(a.PrivateAssets,a.All),this.findOrCreateItemGroup(a.PackageReference).appendChild(e),await this.serializeToProjFile(this.projFileXmlDoc)}containsSSDTOnlySystemDatabaseReferences(){for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference)[e];if(t.getAttribute(a.Condition)!==a.NetCoreCondition&&t.getAttribute(a.Condition)!==a.NotNetCoreCondition&&t.getAttribute(a.Include)?.includes(a.DacpacRootPath))return!0}return!1}async updateSystemDatabaseReferencesInProjFile(){for(let e=0;e<this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference).length;e++){const t=this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference)[e];if(!t.getAttribute(a.Condition)&&t.getAttribute(a.Include)?.includes(a.DacpacRootPath)){const e=t.getAttribute(a.Include)?.includes(a.master)?m.SystemDatabase.master:m.SystemDatabase.msdb,r=t.getElementsByTagName(a.DatabaseVariableLiteralValue)[0].childNodes[0]?.nodeValue,n=t.getElementsByTagName(a.SuppressMissingDependenciesErrors)[0].childNodes[0].nodeValue===a.True;1===this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference).length?this.projFileXmlDoc.documentElement.removeChild(t.parentNode):this.projFileXmlDoc.documentElement.removeChild(t),this._databaseReferences.splice(this._databaseReferences.findIndex((t=>t.databaseName===(e===m.SystemDatabase.master?a.master:a.msdb))),1),await this.addSystemDatabaseReference({databaseName:r,systemDb:e,suppressMissingDependenciesErrors:n})}}d.TelemetryReporter.createActionEvent(d.TelemetryViews.ProjectController,d.TelemetryActions.updateSystemDatabaseReferencesInProjFile).withAdditionalMeasurements({referencesCount:this.projFileXmlDoc.documentElement.getElementsByTagName(a.ArtifactReference).length}).send()}async addToProjFile(e,t,r){switch(e.type){case 0:await this.addFileToProjFile(e.relativePath,t||a.Build,r);break;case 1:await this.addFolderToProjFile(e.relativePath);break;case 2:await this.addDatabaseReferenceToProjFile(e);break;case 3:await this.addSqlCmdVariableToProjFile(e)}await this.serializeToProjFile(this.projFileXmlDoc)}async removeFromProjFile(e){Array.isArray(e)||(e=[e]);const t=e.filter((e=>1===e.type));for(const e of t)await this.removeFolderFromProjFile(e.relativePath);e=e.filter((e=>1!==e.type));for(const t of e)switch(t.type){case 0:await this.removeFileFromProjFile(t.relativePath);break;case 2:this.removeDatabaseReferenceFromProjFile(t);break;case 3:this.removeSqlCmdVariableFromProjFile(t.variableName)}await this.serializeToProjFile(this.projFileXmlDoc)}async serializeToProjFile(e){let t=(new o.XMLSerializer).serializeToString(e);t=s(t,{collapseContent:!0,indentation:"  ",lineSeparator:c.EOL,whiteSpaceAtEndOfSelfclosingTag:!0}),await p.promises.writeFile(this._projectFilePath,t),this.projFileXmlDoc=(new o.DOMParser).parseFromString(t)}async addToProject(e){for(let t of e)if(!await i.exists(t.fsPath))throw new Error(a.fileOrFolderDoesNotExist(t.fsPath));for(let t of e){const e=i.trimChars(i.trimUri(u.Uri.file(this._projectFilePath),t),"/");if(e.length>0){const r=await p.promises.stat(t.fsPath);r.isFile()&&t.fsPath.toLowerCase().endsWith(a.sqlFileExtension)?await this.addScriptItem(e):r.isDirectory()&&await this.addFolderItem(e)}}}async addValueToCollectionProjectProperty(e,t,r=!1){if(t.includes(";"))throw new Error(a.invalidProjectPropertyValueProvided(t));let n=this.getCollectionProjectPropertyValue(e);const o=r?t:t.toUpperCase();n.findIndex((e=>(r?e:e.toUpperCase())===o))<0&&(n.push(t),await this.setProjectPropertyValue(e,n.join(";")))}async removeValueFromCollectionProjectProperty(e,t,r=!1){if(void 0===this.projFileXmlDoc)return;if(t.includes(";"))throw new Error(a.invalidProjectPropertyValueProvided(t));let n=this.getCollectionProjectPropertyValue(e);const o=r?t:t.toUpperCase(),i=n.findIndex((e=>(r?e:e.toUpperCase())===o));i>=0&&(n.splice(i,1),0===n.length?(this.removeProjectPropertyTag(e),await this.serializeToProjFile(this.projFileXmlDoc)):await this.setProjectPropertyValue(e,n.join(";")))}evaluateProjectPropertyValue(e,t){const r=this.projFileXmlDoc.getElementsByTagName(e);if(0===r.length)return t;const n=r[0];if(1!==n.childNodes.length)throw new Error(a.invalidProjectPropertyValueInSqlProj(e));return n.childNodes[0].nodeValue}getCollectionProjectPropertyValue(e){const t=this.evaluateProjectPropertyValue(e);return void 0===t?[]:t.split(";").filter((e=>e.length>0))}async setProjectPropertyValue(e,t){if(void 0===this.projFileXmlDoc)return;let r;const n=this.projFileXmlDoc.getElementsByTagName(a.PropertyGroup);for(let t=0;t<n.length;++t){const o=n[t].getElementsByTagName(e);if(o.length>0){r=o[0];break}}void 0===r&&(r=this.addProjectPropertyTag(e)),r&&(r.childNodes.length>0?r.replaceChild(this.projFileXmlDoc.createTextNode(t),r.childNodes[0]):r.appendChild(this.projFileXmlDoc.createTextNode(t)),await this.serializeToProjFile(this.projFileXmlDoc))}addProjectPropertyTag(e){if(void 0===this.projFileXmlDoc)return;const t=this.projFileXmlDoc.getElementsByTagName(a.PropertyGroup);let r=t.length>0?t[0]:void 0;void 0===r&&(r=this.projFileXmlDoc.createElement(a.PropertyGroup),this.projFileXmlDoc.documentElement?.appendChild(r));const n=this.projFileXmlDoc.createElement(e);return r.appendChild(n),n}removeProjectPropertyTag(e){if(void 0===this.projFileXmlDoc)return;const t=this.projFileXmlDoc.getElementsByTagName(a.PropertyGroup);for(let r in t){let n=t[r].getElementsByTagName(e);if(n.length>0)return void n[0].parentNode?.removeChild(n[0])}}async ensureFolderItems(e){if(!e)return;const t=n.join(this.projectFolderPath,e),r=n.normalize(this.projectFolderPath);if(!t.toUpperCase().startsWith(r.toUpperCase()))return;if(await p.promises.mkdir(t,{recursive:!0}),this.isSdkStyleProject){let t=this.files.find((t=>i.ensureTrailingSlash(t.relativePath.toUpperCase())===i.ensureTrailingSlash(e.toUpperCase())));return t||(t=this.createFileProjectEntry(i.ensureTrailingSlash(e),1),this.files.push(t),await this.addToProjFile(t)),t}const o=i.convertSlashesForSqlProj(t.substring(r.length)),s=i.trimChars(o," \\").split(a.SqlProjPathSeparator);let c,l="";for(let e of s)e&&(l+=e+a.SqlProjPathSeparator,c=this.files.find((e=>i.ensureTrailingSlash(e.relativePath.toUpperCase())===l.toUpperCase())),c||(c=this.createFileProjectEntry(l,1),this.files.push(c),await this.addToProjFile(c)));return c}}t.Project=h,t.reservedProjectFolders=["Properties","Data Sources","Database References"]},6742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemDatabase=t.DatabaseReferenceLocation=t.SqlCmdVariableProjectEntry=t.SqlProjectReferenceProjectEntry=t.SystemDatabaseReferenceProjectEntry=t.DacpacReferenceProjectEntry=t.FileProjectEntry=t.ProjectEntry=void 0;const n=r(5622),o=r(1027);class a{constructor(e){this.type=e}}t.ProjectEntry=a;class i extends a{constructor(e,t,r,n,o){super(r),this.fsUri=e,this.relativePath=t,this.sqlObjectType=n,this.containsCreateTableStatement=o}toString(){return this.fsUri.path}pathForSqlProj(){return o.convertSlashesForSqlProj(this.fsUri.fsPath)}}var s,c;t.FileProjectEntry=i,t.DacpacReferenceProjectEntry=class extends i{constructor(e){super(e.dacpacFileLocation,"",2),this.databaseSqlCmdVariable=e.databaseVariable,this.databaseVariableLiteralValue=e.databaseName,this.serverName=e.serverName,this.serverSqlCmdVariable=e.serverVariable,this.suppressMissingDependenciesErrors=e.suppressMissingDependenciesErrors}get databaseName(){return n.parse(o.getPlatformSafeFileEntryPath(this.fsUri.fsPath)).name}pathForSqlProj(){return o.convertSlashesForSqlProj(this.fsUri.path.substring(1))}},t.SystemDatabaseReferenceProjectEntry=class extends i{constructor(e,t,r,n){super(e,"",2),this.ssdtUri=t,this.databaseVariableLiteralValue=r,this.suppressMissingDependenciesErrors=n}get databaseName(){return n.parse(o.getPlatformSafeFileEntryPath(this.fsUri.fsPath)).name}pathForSqlProj(){return o.convertSlashesForSqlProj(this.fsUri.path.substring(1))}ssdtPathForSqlProj(){return o.convertSlashesForSqlProj(this.ssdtUri.path.substring(1))}},t.SqlProjectReferenceProjectEntry=class extends i{constructor(e){super(e.projectRelativePath,"",2),this.projectName=e.projectName,this.projectGuid=e.projectGuid,this.databaseSqlCmdVariable=e.databaseVariable,this.databaseVariableLiteralValue=e.databaseName,this.serverName=e.serverName,this.serverSqlCmdVariable=e.serverVariable,this.suppressMissingDependenciesErrors=e.suppressMissingDependenciesErrors}get databaseName(){return this.projectName}pathForSqlProj(){return o.convertSlashesForSqlProj(this.fsUri.path.substring(1))}},t.SqlCmdVariableProjectEntry=class extends a{constructor(e,t){super(3),this.variableName=e,this.defaultValue=t}},(c=t.DatabaseReferenceLocation||(t.DatabaseReferenceLocation={}))[c.sameDatabase=0]="sameDatabase",c[c.differentDatabaseSameServer=1]="differentDatabaseSameServer",c[c.differentDatabaseDifferentServer=2]="differentDatabaseDifferentServer",(s=t.SystemDatabase||(t.SystemDatabase={}))[s.master=0]="master",s[s.msdb=1]="msdb"},5932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=t.readPublishProfile=void 0;const n=r(3969),o=r(6078),a=r(1027),i=r(7549),s=r(5747),c=r(6502),l=r(1845);async function u(e,t){const r=await s.promises.readFile(e.fsPath),i=(new n.DOMParser).parseFromString(r.toString());let u="",p=i.documentElement.getElementsByTagName(o.targetDatabaseName).length;p>0&&(u=i.documentElement.getElementsByTagName(o.targetDatabaseName)[p-1].textContent);const d=await async function(e){let t="",r="",n="";if(e.documentElement.getElementsByTagName(o.targetConnectionString).length>0){const i=e.documentElement.getElementsByTagName(o.TargetConnectionString)[0].textContent,s=new c.SqlConnectionDataSource("",i);let l="";const u=s.getConnectionProfile();try{const e=a.getAzdataApi();if(s.integratedSecurity){if(e){const e=await a.getAzdataApi().connection.connect(u,!1,!1);a.throwIfNotConnected(e),r=e.connectionId}n=s.server,l=o.defaultUser}else if(e){const e=await a.getAzdataApi().connection.openConnectionDialog(void 0,u);r=e.connectionId,n=e.options.server,l=e.options.user}t=`${n} (${l})`}catch(e){throw new Error(o.unableToCreatePublishConnection(a.getErrorMessage(e)))}}return{connectionId:r,connection:t,server:n}}(i),m=await t.getOptionsFromProfile(e.fsPath),h=a.readSqlCmdVariables(i,!0);return l.TelemetryReporter.createActionEvent(l.TelemetryViews.SqlProjectPublishDialog,l.TelemetryActions.profileLoaded).withAdditionalProperties({hasTargetDbName:(!!u).toString(),hasConnectionString:(!!d?.connectionId).toString(),hasSqlCmdVariables:(Object.keys(h).length>0).toString()}).send(),{databaseName:u,serverName:d.server,connectionId:d.connectionId,connection:d.connection,sqlCmdVariables:h,options:m.deploymentOptions}}t.readPublishProfile=async function(e){try{const t=await a.getDacFxService();return await u(e,t)}catch(e){throw i.window.showErrorMessage(o.profileReadError(e)),e}},t.load=u},4175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpacerTreeItem=t.MessageTreeItem=t.BaseProjectTreeItem=void 0;const n=r(7549),o=r(5622);class a{constructor(e,t){this.projectUri=e,this.parent=t}get friendlyName(){return o.parse(this.projectUri.path).base}get root(){let e=this;for(;void 0!==e.parent;)e=e.parent;return e}}t.BaseProjectTreeItem=a;class i extends a{constructor(e,t){super(n.Uri.file(o.join(t?.projectUri.path??"Message",e)),t),this.message=e}get children(){return[]}get treeItem(){return new n.TreeItem(this.message,n.TreeItemCollapsibleState.None)}}t.MessageTreeItem=i,t.SpacerTreeItem=new i("")},8957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructDataSourceTreeItem=t.SqlConnectionDataSourceTreeItem=t.DataSourcesTreeItem=void 0;const n=r(7549),o=r(5622),a=r(4175),i=r(6078),s=r(6502),c=r(5894);class l extends a.BaseProjectTreeItem{constructor(e){super(n.Uri.file(o.join(e.projectUri.path,i.dataSourcesNodeName)),e),this.dataSources=[],this.construct()}construct(){for(const e of this.parent.project.dataSources)this.dataSources.push(d(e,this))}get children(){return this.dataSources}get treeItem(){const e=new n.TreeItem(this.projectUri,n.TreeItemCollapsibleState.Collapsed);return e.contextValue=i.DatabaseProjectItemType.dataSourceRoot,e.iconPath=c.IconPathHelper.dataSourceGroup,e}}t.DataSourcesTreeItem=l;class u extends a.BaseProjectTreeItem{}class p extends u{constructor(e,t){super(n.Uri.file(o.join(t.projectUri.path,e.name)),t),this.dataSource=e}get treeItem(){let e=new n.TreeItem(this.projectUri,n.TreeItemCollapsibleState.Collapsed);return e.label=`${this.dataSource.name} (${this.dataSource.typeFriendlyName})`,e.iconPath=c.IconPathHelper.dataSourceSql,e}get children(){const e=[];for(const t of Object.keys(this.dataSource.connectionStringComponents).sort())e.push(new a.MessageTreeItem(`${t}: ${this.dataSource.connectionStringComponents[t]}`,this));return e}}function d(e,t){switch(e.type){case s.SqlConnectionDataSource.type:return new p(e,t);default:throw new Error(i.unknownDataSourceType+e.type)}}t.SqlConnectionDataSourceTreeItem=p,t.constructDataSourceTreeItem=d},122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseReferenceTreeItem=t.DatabaseReferencesTreeItem=void 0;const n=r(7549),o=r(5622),a=r(6078),i=r(4175),s=r(5894);class c extends i.BaseProjectTreeItem{constructor(e){super(n.Uri.file(o.join(e.projectUri.fsPath,a.databaseReferencesNodeName)),e),this.references=[],this.construct()}construct(){for(const e of this.parent.project.databaseReferences)this.references.push(new l(e,this))}get children(){return this.references}get treeItem(){const e=new n.TreeItem(this.projectUri,n.TreeItemCollapsibleState.Collapsed);return e.contextValue=a.DatabaseProjectItemType.referencesRoot,e.iconPath=s.IconPathHelper.referenceGroup,e}}t.DatabaseReferencesTreeItem=c;class l extends i.BaseProjectTreeItem{constructor(e,t){super(n.Uri.file(o.join(t.projectUri.fsPath,e.databaseName)),t),this.reference=e}get children(){return[]}get treeItem(){const e=new n.TreeItem(this.projectUri,n.TreeItemCollapsibleState.None);return e.label=this.reference.databaseName,e.contextValue=a.DatabaseProjectItemType.reference,e.iconPath=s.IconPathHelper.referenceDatabase,e}}t.DatabaseReferenceTreeItem=l},2134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortFileFolderNodes=t.TableFileNode=t.ExternalStreamingJobFileNode=t.FileNode=t.FolderNode=void 0;const n=r(7549),o=r(5622),a=r(1027),i=r(4175),s=r(6078),c=r(5894);class l extends i.BaseProjectTreeItem{constructor(e,t){super(d(e,t.root),t),this.fileChildren={},this.fileSystemUri=e}get children(){return Object.values(this.fileChildren).sort(p)}get treeItem(){const e=new n.TreeItem(this.fileSystemUri,n.TreeItemCollapsibleState.Collapsed);return e.contextValue=s.DatabaseProjectItemType.folder,e.iconPath=c.IconPathHelper.folder,e}get project(){return this.parent.project}}t.FolderNode=l;class u extends i.BaseProjectTreeItem{constructor(e,t){super(d(e,t.root,!0),t),this.fileSystemUri=e}get children(){return[]}get treeItem(){const e=new n.TreeItem(this.fileSystemUri,n.TreeItemCollapsibleState.None);return e.command={title:"Open file",command:"vscode.open",arguments:[this.fileSystemUri]},e.contextValue=s.DatabaseProjectItemType.file,e}}function p(e,t){return e instanceof l&&!(t instanceof l)?-1:!(e instanceof l)&&t instanceof l?1:e.projectUri.fsPath.localeCompare(t.projectUri.fsPath)}function d(e,t,r){const i=t.project.projectFolderPath;let s="";if(e.fsPath.startsWith(i))s=e.fsPath.substring(i.length);else if(r){const t=a.getPlatformSafeFileEntryPath(e.fsPath).split("/");s=t[t.length-1]}return n.Uri.file(o.join(t.projectUri.fsPath,s))}t.FileNode=u,t.ExternalStreamingJobFileNode=class extends u{get treeItem(){const e=super.treeItem;return e.contextValue=s.DatabaseProjectItemType.externalStreamingJob,e}},t.TableFileNode=class extends u{get treeItem(){const e=super.treeItem;return e.contextValue=s.DatabaseProjectItemType.table,e}},t.sortFileFolderNodes=p},7920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectRootTreeItem=void 0;const n=r(7549),o=r(5622),a=r(8957),i=r(4175),s=r(2134),c=r(1027),l=r(122),u=r(6078),p=r(5894),d=r(5191);class m extends i.BaseProjectTreeItem{constructor(e){super(n.Uri.parse(o.basename(e.projectFilePath,u.sqlprojExtension)),void 0),this.fileChildren={},this.project=e,this.fileSystemUri=n.Uri.file(e.projectFilePath),this.dataSourceNode=new a.DataSourcesTreeItem(this),this.databaseReferencesNode=new l.DatabaseReferencesTreeItem(this),this.construct()}get children(){const e=[];return e.push(this.databaseReferencesNode),e.concat(Object.values(this.fileChildren).sort(s.sortFileFolderNodes))}get treeItem(){const e=n.workspace.getConfiguration(d.DBProjectConfigurationKey)[u.CollapseProjectNodesKey]?n.TreeItemCollapsibleState.Collapsed:n.TreeItemCollapsibleState.Expanded,t=new n.TreeItem(this.fileSystemUri,e);return t.contextValue=this.project.isSdkStyleProject?u.DatabaseProjectItemType.project:u.DatabaseProjectItemType.legacyProject,t.iconPath=p.IconPathHelper.databaseProject,t.label=o.basename(this.projectUri.fsPath,u.sqlprojExtension),t}construct(){let e=this.project.files.concat(this.project.preDeployScripts).concat(this.project.postDeployScripts).concat(this.project.noneDeployScripts);for(const t of e){if(0!==t.type&&t.relativePath.startsWith(u.RelativeOuterPath))continue;const e=this.getEntryParentNode(t);if(Object.keys(e.fileChildren).includes(o.basename(t.fsUri.path)))continue;let r;switch(t.type){case 0:r=t.sqlObjectType===u.ExternalStreamingJob?new s.ExternalStreamingJobFileNode(t.fsUri,e):t.containsCreateTableStatement?new s.TableFileNode(t.fsUri,e):new s.FileNode(t.fsUri,e);break;case 1:r=new s.FolderNode(t.fsUri,e);break;default:throw new Error(`Unknown EntryType: '${t.type}'`)}e.fileChildren[o.basename(t.fsUri.path)]=r}}getEntryParentNode(e){const t=c.trimChars(c.trimUri(n.Uri.file(this.project.projectFilePath),e.fsUri),"/").split("/").slice(0,-1);if(0===t.length)return this;if(t[0]===u.RelativeOuterPath)return this;let r=this;for(const e of t){if(void 0===r.fileChildren[e]){const t=r instanceof m?o.dirname(r.fileSystemUri.fsPath):r.fileSystemUri.fsPath;r.fileChildren[e]=new s.FolderNode(n.Uri.file(o.join(t,e)),r)}if(r.fileChildren[e]instanceof s.FileNode)return r;r=r.fileChildren[e]}return r}}t.ProjectRootTreeItem=m},6650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SqlDatabaseProjectProvider=void 0;const n=r(7549),o=r(6078),a=r(5894),i=r(1027),s=r(5372),c=r(4935),l=r(7978),u=r(5892);t.SqlDatabaseProjectProvider=class{constructor(e){this.projectController=e}async getProjectTreeDataProvider(e){const t=new s.SqlDatabaseProjectTreeViewProvider,r=await c.Project.openProject(e.fsPath);return t.load([r]),t}get supportedProjectTypes(){return[{id:o.emptyAzureDbSqlDatabaseProjectTypeId,projectFileExtension:o.sqlprojExtension.replace(/\./g,""),displayName:o.emptyAzureDbProjectTypeDisplayName,description:o.emptyAzureDbProjectTypeDescription,defaultTargetPlatform:"Azure SQL Database",icon:a.IconPathHelper.azureSqlDbProject,sdkStyleOption:!0,sdkStyleLearnMoreUrl:o.sdkLearnMoreUrl,learnMoreUrl:o.azureDevOpsLink},{id:o.emptySqlDatabaseProjectTypeId,projectFileExtension:o.sqlprojExtension.replace(/\./g,""),displayName:o.emptyProjectTypeDisplayName,description:o.emptyProjectTypeDescription,icon:a.IconPathHelper.colorfulSqlProject,targetPlatforms:Array.from(o.targetPlatformToVersion.keys()),defaultTargetPlatform:o.defaultTargetPlatform,sdkStyleOption:!0,sdkStyleLearnMoreUrl:o.sdkLearnMoreUrl},{id:o.edgeSqlDatabaseProjectTypeId,projectFileExtension:o.sqlprojExtension.replace(/\./g,""),displayName:o.edgeProjectTypeDisplayName,description:o.edgeProjectTypeDescription,icon:a.IconPathHelper.sqlEdgeProject,sdkStyleOption:!0,sdkStyleLearnMoreUrl:o.sdkLearnMoreUrl}]}async createProject(e,t,r,o,a=!1){if(!o){const e=this.supportedProjectTypes.find((e=>e.id===r));e&&e.defaultTargetPlatform&&(o=e.defaultTargetPlatform)}const i=await this.projectController.createNewProject({newProjName:e,folderUri:t,projectTypeId:r,targetPlatform:o,sdkStyle:a});return n.Uri.file(i)}openProject(e){return c.Project.openProject(e)}addItemPrompt(e,t,r){return this.projectController.addItemPrompt(e,t,r)}get projectToolbarActions(){return[{actions:[{id:o.addItemAction,icon:a.IconPathHelper.add,run:e=>this.projectController.addItemPromptFromNode(e)},{id:o.schemaCompareAction,icon:a.IconPathHelper.schemaCompare,run:e=>this.projectController.schemaCompare(e)},{id:o.buildAction,icon:a.IconPathHelper.build,run:e=>this.projectController.buildProject(e)},{id:o.publishAction,icon:a.IconPathHelper.publish,run:e=>this.projectController.publishProject(e)}]},{id:o.changeTargetPlatformAction,icon:a.IconPathHelper.targetPlatform,run:e=>this.projectController.changeTargetPlatform(e)}]}getDashboardComponents(e){const t=200;return[{name:o.PublishHistory,columns:[{displayName:o.Status,width:t,type:"icon"},{displayName:o.Date,width:t},{displayName:o.Time,width:t},{displayName:o.TargetPlatform,width:t},{displayName:o.TargetServer,width:t},{displayName:o.TargetDatabase,width:t}],data:this.projectController.getDashboardPublishData(e)},{name:o.BuildHistory,columns:[{displayName:o.Status,width:t,type:"icon"},{displayName:o.Date,width:t},{displayName:o.Time,width:t},{displayName:o.TargetPlatform,width:t}],data:this.projectController.getDashboardBuildData(e)}]}get image(){return a.IconPathHelper.dashboardSqlProj}openSqlNewProjectDialog(e){let t=Array.from(o.targetPlatformToVersion.keys());e&&(t=t.filter((t=>e.toString().includes(t))));const r={id:o.emptySqlDatabaseProjectTypeId,projectFileExtension:o.sqlprojExtension.replace(/\./g,""),displayName:o.emptyProjectTypeDisplayName,description:o.emptyProjectTypeDescription,icon:a.IconPathHelper.colorfulSqlProject,targetPlatforms:t,defaultTargetPlatform:o.defaultTargetPlatform};return(0,i.getDataWorkspaceExtensionApi)().openSpecificProjectNewProjectDialog(r)}getProjectScriptFiles(e){return this.projectController.getProjectScriptFiles(e)}getProjectDatabaseSchemaProvider(e){return this.projectController.getProjectDatabaseSchemaProvider(e)}generateProjectFromOpenApiSpec(e){return this.projectController.generateProjectFromOpenApiSpec(e)}getPublishToDockerSettings(e){return(0,l.getPublishToDockerSettings)(e)}getDockerImageSpec(e,t,r){return(0,u.getDockerImageSpec)(e,t,r)}cleanDockerObjectsIfNeeded(e){return this.projectController.deployService.cleanDockerObjectsIfNeeded(e)}}},2102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reset=t.ProjectScriptType=t.macroExpansion=t.loadTemplates=t.projectScriptTypes=t.get=t.newSdkSqlProjectTemplate=t.newSqlProjectTemplate=void 0;const n=r(5622),o=r(6078),a=r(5747);let i={};t.get=function(e){if(0===Object.keys(i).length)throw new Error("Templates must be loaded from file before attempting to use.");return i[e.toLocaleLowerCase()]};let s=[];async function c(e,t,r,n){const o=await l(r,n);return s.push(new u(e,t,o)),e}async function l(e,t){return(await a.promises.readFile(n.join(e,t))).toString()}t.projectScriptTypes=function(){if(0===s.length)throw new Error("Templates must be loaded from file before attempting to use.");return s},t.loadTemplates=async function(e){p(),await Promise.all([Promise.resolve(t.newSqlProjectTemplate=await l(e,"newSqlProjectTemplate.xml")),Promise.resolve(t.newSdkSqlProjectTemplate=await l(e,"newSdkSqlProjectTemplate.xml")),c("script",o.scriptFriendlyName,e,"newTsqlScriptTemplate.sql"),c("table",o.tableFriendlyName,e,"newTsqlTableTemplate.sql"),c("view",o.viewFriendlyName,e,"newTsqlViewTemplate.sql"),c("storedProcedure",o.storedProcedureFriendlyName,e,"newTsqlStoredProcedureTemplate.sql"),c("preDeployScript",o.preDeployScriptFriendlyName,e,"newTsqlPreDeployScriptTemplate.sql"),c("postDeployScript",o.postDeployScriptFriendlyName,e,"newTsqlPostDeployScriptTemplate.sql"),c("dataSource",o.dataSourceFriendlyName,e,"newTsqlDataSourceTemplate.sql"),c("fileFormat",o.fileFormatFriendlyName,e,"newTsqlFileFormatTemplate.sql"),c("externalStream",o.externalStreamFriendlyName,e,"newTsqlExternalStreamTemplate.sql"),c("externalStreamingJob",o.externalStreamingJobFriendlyName,e,"newTsqlExternalStreamingJobTemplate.sql")]);for(const e of s){if(Object.keys(i).find((t=>t===e.type.toLocaleLowerCase()||t===e.friendlyName.toLocaleLowerCase())))throw new Error(`Script type map already contains ${e.type} or its friendlyName.`);i[e.type.toLocaleLowerCase()]=e,i[e.friendlyName.toLocaleLowerCase()]=e}},t.macroExpansion=function(e,t){const r="@@";let n=e;for(const e in t){if(t[e].includes(r))throw new Error(`Macro value ${t[e]} is invalid because it contains @@`);n=n.replace(new RegExp(r+e+r,"g"),t[e])}return n};class u{constructor(e,t,r){this.type=e,this.friendlyName=t,this.templateScript=r}}function p(){i={},s=[]}t.ProjectScriptType=u,t.reset=p},4191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutorestHelper=void 0;const n=r(7549),o=r(6078),a=r(1027),i=r(1249),s=r(5191),c=r(3848);class l extends c.ShellExecutionHelper{constructor(e){super(e)}get autorestSqlPackageVersion(){let e=n.workspace.getConfiguration(s.DBProjectConfigurationKey).autorestSqlVersion;return e&&i.valid(e.trim())?e.trim():"latest"}async detectInstallation(){const e="autorest";if(await a.detectCommandInstallation(e))return e;if(await a.detectCommandInstallation("npx")){this._outputChannel.appendLine(o.nodeButNotAutorestFound);const t=await n.window.showInformationMessage(o.nodeButNotAutorestFoundPrompt,o.installGlobally,o.runViaNpx);if(t===o.installGlobally)return this._outputChannel.appendLine(o.userSelectionInstallGlobally),await this.runStreamedCommand("npm install autorest -g"),e;if(t===o.runViaNpx)return this._outputChannel.appendLine(o.userSelectionRunNpx),"npx autorest";this._outputChannel.appendLine(o.userSelectionCancelled)}else this._outputChannel.appendLine(o.nodeNotFound)}async generateAutorestFiles(e,t){const r=await this.detectInstallation();if(!r){if(!0!==n.workspace.getConfiguration(s.DBProjectConfigurationKey).nodejsDoNotAsk)return;const e=await n.window.showErrorMessage(o.nodeNotFound,o.DoNotAskAgain,o.Install);if(e===o.Install){const e="https://nodejs.dev/download";await n.env.openExternal(n.Uri.parse(e))}else if(e===o.DoNotAskAgain){const e=n.workspace.getConfiguration(s.DBProjectConfigurationKey);await e.update("nodejsDoNotAsk",!0,n.ConfigurationTarget.Global)}return}const a=this.constructAutorestCommand(r,e,t);return await this.runStreamedCommand(a)}constructAutorestCommand(e,t,r){return`${e} --use:autorest-sql-testing@${this.autorestSqlPackageVersion} --input-file="${t}" --output-folder="${r}" --clear-output-folder --verbose`}}t.AutorestHelper=l},4914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildHelper=void 0;const n=r(7549),o=r(5622),a=r(5747),i=r(1027),s=r(6078),c=["Microsoft.Data.SqlClient.dll","Microsoft.Data.Tools.Schema.Sql.dll","Microsoft.Data.Tools.Schema.Tasks.Sql.dll","Microsoft.Data.Tools.Utilities.dll","Microsoft.SqlServer.Dac.dll","Microsoft.SqlServer.Dac.Extensions.dll","Microsoft.SqlServer.TransactSql.ScriptDom.dll","Microsoft.SqlServer.Types.dll","System.ComponentModel.Composition.dll","System.IO.Packaging.dll","Microsoft.Data.Tools.Schema.SqlTasks.targets"];t.BuildHelper=class{constructor(){this.initialized=!1;const e=i.getAzdataApi()?"Microsoft.sql-database-projects":"ms-mssql.sql-database-projects-vscode";this.extensionDir=n.extensions.getExtension(e)?.extensionPath??"",this.extensionBuildDir=o.join(this.extensionDir,"BuildDirectory")}async createBuildDirFolder(){if(this.initialized)return;await i.exists(this.extensionBuildDir)||await a.promises.mkdir(this.extensionBuildDir);const e=await this.getBuildDirPathFromMssqlTools();c.forEach((async t=>{await i.exists(o.join(e,t))&&await a.promises.copyFile(o.join(e,t),o.join(this.extensionBuildDir,t))})),this.initialized=!0}async getBuildDirPathFromMssqlTools(){try{return i.getAzdataApi()?n.extensions.getExtension("Microsoft.mssql")?.exports.sqlToolsServicePath:n.extensions.getExtension("ms-mssql.mssql")?.exports.sqlToolsServicePath}catch(e){throw new Error((0,s.errorFindingBuildFilesLocation)(e))}}get extensionBuildDirPath(){return this.extensionBuildDir}constructBuildArguments(e,t,r){return e=i.getQuotedPath(e),t=i.getQuotedPath(t),r?` build ${e} /p:NetCoreBuild=true /p:SystemDacpacsLocation=${t}`:` build ${e} /p:NetCoreBuild=true /p:NETCoreTargetsPath=${t}`}}},5191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotNetError=t.NetCoreTool=t.minSupportedNetCoreVersionForBuild=t.linuxPlatform=t.macPlatform=t.winPlatform=t.NetCoreNonWindowsDefaultPath=t.NetCoreDoNotAskAgainKey=t.DotnetInstallLocationKey=t.NetCoreInstallLocationKey=t.DBProjectConfigurationKey=void 0;const n=r(3129),o=r(5747),a=r(2087),i=r(5622),s=r(1249),c=r(1669),l=r(7549),u=r(3403),p=r(6078),d=r(1027),m=r(3848),h=u.loadMessageBundle(r(5622).join(__dirname,"tools/netcoreTool.ts"));t.DBProjectConfigurationKey="sqlDatabaseProjects",t.NetCoreInstallLocationKey="netCoreSDKLocation",t.DotnetInstallLocationKey="dotnetSDK Location",t.NetCoreDoNotAskAgainKey="netCoreDoNotAsk",t.NetCoreNonWindowsDefaultPath="/usr/local/share",t.winPlatform="win32",t.macPlatform="darwin",t.linuxPlatform="linux",t.minSupportedNetCoreVersionForBuild="3.1.0";const f="win32"===a.platform()?"dotnet.exe":"dotnet";class g extends m.ShellExecutionHelper{constructor(e){super(e),this.osPlatform=a.platform(),this.netCoreInstallState=2}async findOrInstallNetCore(e=!1){return this.isNetCoreInstallationPresent&&(!this.isNetCoreInstallationPresent||e)||this.isNetCoreInstallationPresent&&await this.isNetCoreVersionSupportedForBuild()?(this.netCoreInstallState=2,!0):(!0!==l.workspace.getConfiguration(t.DBProjectConfigurationKey)[t.NetCoreDoNotAskAgainKey]&&this.showInstallDialog(),!1)}async showInstallDialog(){let e;if(e=0===this.netCoreInstallState?await l.window.showErrorMessage(p.DotnetInstallationConfirmation,p.UpdateDotnetLocation,p.Install,p.DoNotAskAgain):await l.window.showErrorMessage((0,p.NetCoreSupportedVersionInstallationConfirmation)(this.netCoreSdkInstalledVersion),p.UpdateDotnetLocation,p.Install,p.DoNotAskAgain),e===p.UpdateDotnetLocation)await l.commands.executeCommand("workbench.action.openGlobalSettings");else if(e===p.Install){const e="https://dotnet.microsoft.com/download/dotnet-core/3.1";await l.env.openExternal(l.Uri.parse(e))}else if(e===p.DoNotAskAgain){const e=l.workspace.getConfiguration(t.DBProjectConfigurationKey);await e.update(t.NetCoreDoNotAskAgainKey,!0,l.ConfigurationTarget.Global)}}get isNetCoreInstallationPresent(){const e=!(0,c.isNullOrUndefined)(this.netcoreInstallLocation)&&o.existsSync(this.netcoreInstallLocation);return e||(this.netCoreInstallState=0),e}get netcoreInstallLocation(){return l.workspace.getConfiguration(t.DBProjectConfigurationKey)[t.DotnetInstallLocationKey]||this.defaultLocalInstallLocationByDistribution}get defaultLocalInstallLocationByDistribution(){switch(this.osPlatform){case t.winPlatform:return this.defaultWindowsLocation;case t.macPlatform:case t.linuxPlatform:return this.defaultnonWindowsLocation;default:return}}get defaultnonWindowsLocation(){return this.getDotnetPathIfPresent(t.NetCoreNonWindowsDefaultPath)||this.getDotnetPathIfPresent(a.homedir())||void 0}get defaultWindowsLocation(){return this.getDotnetPathIfPresent(process.env.ProgramW6432)||this.getDotnetPathIfPresent(process.env["ProgramFiles(x86)"])||this.getDotnetPathIfPresent(process.env.ProgramFiles)}getDotnetPathIfPresent(e){if(!(0,c.isNullOrUndefined)(e)&&o.existsSync(i.join(e,"dotnet")))return i.join(e,"dotnet")}async isNetCoreVersionSupportedForBuild(){try{const e=n.spawn;let r,o=!1;const a=[];return r=e("dotnet --version",[],{shell:!0}),r.stdout.on("data",(e=>a.push(e))),await new Promise(((e,n)=>{r.on("exit",(()=>{this.netCoreSdkInstalledVersion=Buffer.concat(a).toString("utf8").trim();try{o=!!s.gte(this.netCoreSdkInstalledVersion,t.minSupportedNetCoreVersionForBuild),e({stdout:this.netCoreSdkInstalledVersion})}catch(e){console.log(e),n(e)}})),r.on("error",(e=>{console.log(e),this.netCoreInstallState=0,n(e)}))})),this.netCoreInstallState=o?2:1,o}catch(e){return console.log(e),void(this.netCoreInstallState=0)}}async runDotnetCommand(e,t=!1){if(e&&void 0!==e.commandTitle&&null!==e.commandTitle&&this._outputChannel.appendLine(`\t[ ${e.commandTitle} ]`),!await this.findOrInstallNetCore(t))throw 0===this.netCoreInstallState?new v(p.DotnetInstallationConfirmation):new v((0,p.NetCoreSupportedVersionInstallationConfirmation)(this.netCoreSdkInstalledVersion));const r=d.getQuotedPath(i.join(this.netcoreInstallLocation,f))+" "+e.argument;try{return await this.runStreamedCommand(r,e)}catch(e){throw this._outputChannel.append(h(0,null,r,d.getErrorMessage(e))),e}}}t.NetCoreTool=g;class v extends Error{}t.DotNetError=v},2527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProjectNameFromDb=t.defaultProjectNameNewProj=t.defaultProjectSaveLocation=void 0;const n=r(7549),o=r(5747),a=r(5622),i=r(2087),s=r(6078),c=r(1027);function l(){return c.getDataWorkspaceExtensionApi().defaultProjectSaveLocation}function u(e,t){for(;t<Number.MAX_SAFE_INTEGER;){const r=e+t,s=l()??n.Uri.file(i.homedir()),c=a.join(s.fsPath,r);if(!o.existsSync(c))return r;t++}return s.defaultProjectNameStarter+t}t.defaultProjectSaveLocation=l,t.defaultProjectNameNewProj=function(){return u(s.defaultProjectNameStarter,1)},t.defaultProjectNameFromDb=function(e){if(!e)return"";const t=s.defaultProjectNameStarter+e,r=l()??n.Uri.file(i.homedir()),c=a.join(r.fsPath,t);return o.existsSync(c)?u(t,2):t}},3848:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShellExecutionHelper=void 0;const n=r(4155),o=r(3403).loadMessageBundle(r(5622).join(__dirname,"tools/shellExecutionHelper.ts"));class a{constructor(e){this._outputChannel=e}async runStreamedCommand(e,t,r=[],i=3e5){const s=[];let c=e;r.forEach((e=>{c=c.replace(e,"***")})),this._outputChannel.appendLine(`    > ${c}`);const l={cwd:t&&t.workingDirectory,env:Object.assign({},process.env,t&&t.additionalEnvironmentVariables),encoding:"utf8",maxBuffer:10485760,shell:!0,detached:!1,windowsHide:!0,timeout:i};try{const t=n.spawn(e,[],l);return this._outputChannel.show(),t.on("exit",((e,t)=>{null!==e?this._outputChannel.appendLine(o(0,null,c,e)):this._outputChannel.appendLine(o(1,null,c,t))})),t.stdout.on("data",(e=>{s.push(e.toString()),a.outputDataChunk(this._outputChannel,e,o(2,null))})),t.stderr.on("data",(e=>{a.outputDataChunk(this._outputChannel,e,o(3,null))})),await t,s.join("")}catch(e){throw r.forEach((t=>{e.cmd=e.cmd?.replace(t,"***"),e.message=e.message?.replace(t,"***")})),e}}static outputDataChunk(e,t,r){t.toString().split(/\r?\n/).forEach((t=>{e&&e.appendLine(r+t)}))}}t.ShellExecutionHelper=a},6591:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},2357:e=>{"use strict";e.exports=require("assert")},8177:e=>{"use strict";e.exports=require("async_hooks")},3331:e=>{"use strict";e.exports=require("azdata")},3129:e=>{"use strict";e.exports=require("child_process")},7082:e=>{"use strict";e.exports=require("console")},7619:e=>{"use strict";e.exports=require("constants")},6417:e=>{"use strict";e.exports=require("crypto")},881:e=>{"use strict";e.exports=require("dns")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},2282:e=>{"use strict";e.exports=require("module")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},630:e=>{"use strict";e.exports=require("perf_hooks")},2413:e=>{"use strict";e.exports=require("stream")},8213:e=>{"use strict";e.exports=require("timers")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},7549:e=>{"use strict";e.exports=require("vscode")},8761:e=>{"use strict";e.exports=require("zlib")}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>e+".js",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={898:1},n.f.require=(t,r)=>{e[t]||(t=>{var r=t.modules,o=t.ids,a=t.runtime;for(var i in r)n.o(r,i)&&(n.m[i]=r[i]);a&&a(n);for(var s=0;s<o.length;s++)e[o[s]]=1})(require("./"+n.u(t)))};var o={};(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=n(7549),r=n(1027),a=n(8018);let i=[];e.activate=function(e){t.commands.executeCommand("setContext","azdataAvailable",!!(0,r.getAzdataApi)());const n=new a.default(e);return i.push(n),e.subscriptions.push(n),n.activate()},e.deactivate=function(){for(let e of i)e.deactivate()}})();var a=exports;for(var i in o)a[i]=o[i];o.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();
//# sourceMappingURL=https://sqlopsbuilds.blob.core.windows.net/sourcemaps/e221c9f421941d7ff3264bc2981c25859c049230/extensions/sql-database-projects/dist/extension.js.map